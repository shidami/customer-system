{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\SetNode_VarCounting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\SetNode_VarCounting.vue","mtime":1614579763291},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcHJvY2Vzc1ZhcmlhYmxlcyBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMvSVZSL3Byb2Nlc3NWYXJpYWJsZXMiOw0KdmFyIGZyYW1lID0gcGFyZW50Ow0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiU2V0Tm9kZV9WYXJDb3VudGluZyIsDQogIGNvbXBvbmVudHM6e3Byb2Nlc3NWYXJpYWJsZXN9LA0KICBkYXRhKCl7DQogICAgcmV0dXJuew0KICAgICAgcHJvY2Vzc1ZhcmlhYmxlc1Zpc2libGU6ZmFsc2UsDQogICAgICBsYXlQYXJlbnQ6dHJ1ZSwNCiAgICAgIHRhYmxlQ29sdW1uc1Zpc2libGU6ZmFsc2UsDQogICAgICBvcGVuZXJpZDpXRkNvcmUuR2V0UXVlcnkoIm9wZW5lcmlkIiksDQogICAgICBzdGVwaWQ6V0ZDb3JlLkdldFF1ZXJ5KCJpZCIpLA0KICAgICAgZmxvd2RhdGE6dG9wLndNeWZsb3dEYXRhLA0KICAgICAgbmV4dE5vZGVJZExpc3Q6W3t2YWx1ZTowLHRleHQ6J+aXoCd9XSwNCiAgICAgIHNlbEluZGV4OjAsDQogICAgICBzdGVwOicnLA0KICAgICAgZm9ybUl0ZW06ew0KICAgICAgICBpZDonJywvL+iKgueCueWPtw0KICAgICAgICBuYW1lOicnLC8v6IqC54K55ZCN56ewDQogICAgICAgIC8v5re75Yqg5pKt5pS+5YaF5a65DQogICAgICAgIGp1ZGdtZW50Y29uZGl0aW9uTGlzdDpbew0KICAgICAgICAgIGlkOiduZXh0Tm9kZUlkTGlzdDAnLA0KICAgICAgICAgIG9wdGlvblR5cGU6J2VxJywNCiAgICAgICAgICBjb21wYXJpc29uVmFsdWU6JycsDQogICAgICAgICAgbmV4dE5vZGVJZExpc3Q6MCwvL+i3s+i9rOiKgueCuQ0KICAgICAgICB9XSwvL+adoeS7tuWIpOaWrQ0KICAgICAgICBuZXh0Tm9kZUlkOjAsLy/ot7PovazoioLngrkNCiAgICAgICAgc29ydDonJywvL+aOkuW6j+W6j+WPtw0KICAgICAgICBkZXNjcmliZTonJywvL+ivtOaYjg0KICAgICAgfSwNCiAgICAgIGp1ZGdtZW50Y29uZGl0aW9uTGlzdHM6W10sDQogICAgICBuZXh0Tm9kZUlkU3RyOjAsDQogICAgICBmb3JtSXRlbVZhbGlkYXRlOnsNCiAgICAgICAgbmFtZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJwbGVhc2VFbnRlciIpLA0KICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgfV0sDQogICAgICAgICd2b2ljZUxpc3RbMF0uY29udGVudCc6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicGxlYXNlRW50ZXIiKSwNCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsDQogICAgICAgIH1dLA0KICAgICAgICAvLyBuZXh0Tm9kZUlkOiBbew0KICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAvLyAgIG1lc3NhZ2U6IHRoaXMuJHQoInBsZWFzZUVudGVyIiksDQogICAgICAgIC8vICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAvLyB9XQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczp7DQogICAgaW5pdCgpew0KICAgICAgdGhpcy5pbml0RGF0YSgpOw0KICAgIH0sDQogICAgaW5pdERhdGEoKXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZiAoZnJhbWUgPT0gbnVsbCkgcmV0dXJuOw0KICAgICAgdGhhbi5mbG93ZGF0YT10b3Aud015Zmxvd0RhdGE7DQogICAgICB0aGFuLnN0ZXAgPSB0aGFuLmZsb3dkYXRhLmdldE5vZGUodGhhbi5zdGVwaWQpOw0KICAgICAgaWYodGhhbi5mbG93ZGF0YS5ub2Rlcy5zaXplKCk+MCl7DQogICAgICAgIHRoYW4uZmxvd2RhdGEubm9kZXMuZWFjaChmdW5jdGlvbiAobm9kZUlkLG5vZGUsaW5kZXgpew0KICAgICAgICAgIGlmKHRoYW4uc3RlcC5jaGVja05leHROb2RlSXNBbGxvdygibmV4dE5vZGVJZCIsbm9kZS5pZCkpew0KICAgICAgICAgICAgdGhhbi5uZXh0Tm9kZUlkTGlzdC5wdXNoKHt2YWx1ZTpub2RlLmlkLHRleHQ6W25vZGUuaWRdKyctJyArIG5vZGUuZ2V0VGV4dCgpfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgICBpZih0aGFuLnN0ZXAubm9kZVJlc3VsdHMuc2l6ZSgpPjEpew0KICAgICAgICB0aGFuLmZvcm1JdGVtLmp1ZGdtZW50Y29uZGl0aW9uTGlzdD1bXTsNCiAgICAgIH0NCiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpew0KICAgICAgICB0aGFuLmluaXRTdGVwKHRoYW4uc3RlcCk7DQogICAgICB9LDUwMCkNCiAgICB9LA0KICAgIGluaXRTdGVwKHN0ZXApIHsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZihzdGVwPT1udWxsfHxzdGVwPT11bmRlZmluZWQpew0KICAgICAgICB0aGFuLmZvcm1JdGVtLm5hbWU9J+aWsOa1geeoiyc7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHRoYW4uZm9ybUl0ZW0uaWQ9c3RlcC5pZDsNCiAgICAgIHRoYW4uZm9ybUl0ZW0ubmFtZT1zdGVwLmdldFRleHQoKTsNCiAgICAgIHRoYW4uZm9ybUl0ZW0uc29ydD1zdGVwLnNvcnQ7DQogICAgICB0aGFuLmZvcm1JdGVtLmRlc2NyaWJlPXN0ZXAuZGVzY3JpYmU7DQogICAgICBkZWJ1Z2dlcg0KICAgICAgaWYoc3RlcC5ub2RlUmVzdWx0cy5zaXplKCk+MCl7DQogICAgICAgIHN0ZXAubm9kZVJlc3VsdHMuZWFjaChmdW5jdGlvbihrZXksdmFsdWUsaW5kZXgpew0KICAgICAgICAgIGlmKHZhbHVlLm5hbWUhPSJuZXh0Tm9kZUlkIil7DQogICAgICAgICAgICBkZWJ1Z2dlcg0KICAgICAgICAgICAgdGhhbi5hZGRDb25kaXRpb24odmFsdWUpOw0KICAgICAgICAgIH0NCg0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICAgIGVsc2UNCiAgICAgIHsNCiAgICAgICAgdGhhbi5hZGRDb25kaXRpb24oKTsNCiAgICAgIH0NCg0KICAgICAgLy/ot7PovazoioLngrkNCiAgICAgIHRoYW4uU2hvd05vZGVSZXN1bHQoIm5leHROb2RlSWQiLCIjYmFzZV9OZXh0Tm9kZUlkIiwxKTsNCiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpew0KICAgICAgICB0aGFuLmZvcm1JdGVtLm5leHROb2RlSWQ9dGhhbi5uZXh0Tm9kZUlkU3RyOw0KICAgICAgICBpZih0aGFuLmZvcm1JdGVtLmp1ZGdtZW50Y29uZGl0aW9uTGlzdC5sZW5ndGg9PTApew0KICAgICAgICAgIHRoYW4uZm9ybUl0ZW0uanVkZ21lbnRjb25kaXRpb25MaXN0LnB1c2goew0KICAgICAgICAgICAgaWQ6JycsDQogICAgICAgICAgICBvcHRpb25UeXBlOidlcScsDQogICAgICAgICAgICBjb21wYXJpc29uVmFsdWU6JycsDQogICAgICAgICAgICBuZXh0Tm9kZUlkTGlzdDowLC8v6Lez6L2s6IqC54K5DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0sNTAwKQ0KICAgIH0sDQogICAgYWRkQ29uZGl0aW9uKG5vZGVSZXN1bHQpIHsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICB2YXIgY29uZGl0aW9uID0gbm9kZVJlc3VsdCAhPSB1bmRlZmluZWQgJiYgbm9kZVJlc3VsdC5jb25kaXRpb25zLnNpemUoKT4wID8gbm9kZVJlc3VsdC5jb25kaXRpb25zLmdldCgwKTpudWxsOw0KICAgICAgaWYoY29uZGl0aW9uKXsNCiAgICAgICAgdmFyIG9iaj17DQogICAgICAgICAgaWQ6J25leHROb2RlSWRMaXN0Jyt0aGFuLmZvcm1JdGVtLmp1ZGdtZW50Y29uZGl0aW9uTGlzdC5sZW5ndGgsDQogICAgICAgICAgb3B0aW9uVHlwZTpjb25kaXRpb24ub3B0aW9uVHlwZSwNCiAgICAgICAgICBjb21wYXJpc29uVmFsdWU6Y29uZGl0aW9uLmNvbXBhcmlzb25WYWx1ZSwNCiAgICAgICAgICBuZXh0Tm9kZUlkTGlzdDpub2RlUmVzdWx0Lm5leHROb2RlSWQsDQogICAgICAgIH07DQogICAgICAgIHRoYW4uZm9ybUl0ZW0uanVkZ21lbnRjb25kaXRpb25MaXN0LnB1c2gob2JqKTsNCiAgICAgICAgdGhhbi5qdWRnbWVudGNvbmRpdGlvbkxpc3RzLnB1c2gob2JqKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGJ0bk9rKCl7DQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgdmFyIGlzRm9ybVZhbGlkID0gbmV3IFJvYWRVSS5WYWxpZGF0ZSgpLnZhbGlkYXRlRm9ybSgiZm9ybTEiKTsNCiAgICAgIHRoaXMuJHJlZnNbImZvcm1JdGVtIl0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHRoYW4uY29uZmlybTEoKTsNCiAgICAgICAgfQ0KICAgICAgfSkNCg0KICAgIH0sDQogICAgYnRuQ2FuY2VsKCl7DQogICAgICBuZXcgUm9hZFVJLldpbmRvdygpLmNsb3NlKCk7DQogICAgfSwNCiAgICBjb25maXJtMSgpIHsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQoNCiAgICAgIHZhciBvc3RlcD17DQogICAgICAgIHRleHQ6ew0KICAgICAgICAgIHRleHQ6dGhhbi5mb3JtSXRlbS5uYW1lDQogICAgICAgIH0sDQogICAgICAgIHNvcnQ6dGhhbi5mb3JtSXRlbS5zb3J0LA0KICAgICAgICBkZXNjcmliZTp0aGFuLmZvcm1JdGVtLmRlc2NyaWJlLA0KICAgICAgfQ0KDQogICAgICB0aGlzLlNhdmVOb2RlUmVzdWx0KCJuZXh0Tm9kZUlkIiwiI2Jhc2VfTmV4dE5vZGVJZCIsIui3s+i9rOiKgueCuSIsMSx0aGFuLmZvcm1JdGVtKTsNCg0KICAgICAgdGhhbi5mb3JtSXRlbS5qdWRnbWVudGNvbmRpdGlvbkxpc3QuZm9yRWFjaChmdW5jdGlvbiAodixpLGFycil7DQogICAgICAgIHZhciBpbmRleCA9IGkrMTsNCiAgICAgICAgdmFyIHRyb2JqID0gdjsNCiAgICAgICAgdmFyIG5leHROb2RlSWQgPSB0cm9iai5pZDsNCiAgICAgICAgdmFyIGN1ck5vZGVSZXN1bHQgPSAgdGhhbi5TYXZlTm9kZVJlc3VsdCh2LmlkLCIjIituZXh0Tm9kZUlkLCLliKTmlq3mnaHku7YiLDAsdixpKTsNCiAgICAgICAgZGVidWdnZXINCiAgICAgICAgaWYoY3VyTm9kZVJlc3VsdCAhPSBudWxsKXsNCiAgICAgICAgICBjdXJOb2RlUmVzdWx0LmNyZWF0ZUNvbmRpdGlvbih7DQogICAgICAgICAgICAibG9naWMiOiAiYW5kIiwvL+mAu+i+keespiBhbmQgb3Igbm90DQogICAgICAgICAgICAib3B0aW9uVHlwZSI6IHRyb2JqLm9wdGlvblR5cGUsLy/liKTmlq3nrKYNCiAgICAgICAgICAgICJjb21wYXJpc29uVmFsdWUiOiB0cm9iai5jb21wYXJpc29uVmFsdWUvL+avlOi+g+WAvA0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KQ0KDQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdGhhbi5zdGVwLnJlc3RvcmUob3N0ZXApOw0KICAgICAgICBuZXcgUm9hZFVJLldpbmRvdygpLmNsb3NlKCk7DQogICAgICB9LDEwMDApDQogICAgfSwNCiAgICAvL+e7mU5vZGVSZXN1bHTmjqfku7botYvlgLwNCiAgICBTaG93Tm9kZVJlc3VsdChyZXN1bHROYW1lLG5leHROb2RlQ3RsSWQsaXNEZWZhdWx0KXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZih0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKSAhPSBudWxsICYmIHRoYW4uc3RlcC5nZXROb2RlUmVzdWx0KHJlc3VsdE5hbWUpLm5leHROb2RlSWQgPiAwKQ0KICAgICAgew0KICAgICAgICB0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdPXBhcnNlSW50KHRoYW4uc3RlcC5nZXROb2RlUmVzdWx0KHJlc3VsdE5hbWUpLm5leHROb2RlSWQpOw0KICAgICAgICB0aGFuLm5leHROb2RlSWRTdHI9cGFyc2VJbnQodGhhbi5zdGVwLmdldE5vZGVSZXN1bHQocmVzdWx0TmFtZSkubmV4dE5vZGVJZCk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+S/neWtmE5vZGVSZXN1bHTmjqfku7bmiYDpgInkuIvkuIDoioLngrkNCiAgICBTYXZlTm9kZVJlc3VsdChyZXN1bHROYW1lLG5leHROb2RlQ3RsSWQsZGVzY3JpYmUsaXNEZWZhdWx0LHYsaSl7DQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgdmFyIF92YWxOYW1lPXJlc3VsdE5hbWU7DQogICAgICBpZih0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKSAhPSBudWxsKXsNCiAgICAgICAgaWYoaSE9dW5kZWZpbmVkKXsNCiAgICAgICAgICBfdmFsTmFtZT1yZXN1bHROYW1lLnJlcGxhY2UoaSwnJyk7DQogICAgICAgICAgLy9yZXN1bHROYW1lPXJlc3VsdE5hbWUraTsNCiAgICAgICAgfQ0KICAgICAgICBkZWJ1Z2dlcg0KICAgICAgICBpZih2W192YWxOYW1lXSAhPSBudWxsICYmIHZbX3ZhbE5hbWVdICE9ICIiKXsNCiAgICAgICAgICBpZihfdmFsTmFtZT09Im5leHROb2RlSWQiKXsNCiAgICAgICAgICAgIHZhciBub2RlUmVzdWx0ID0gdGhhbi5zdGVwLmdldE5vZGVSZXN1bHQocmVzdWx0TmFtZSkucmVzdG9yZSh7DQogICAgICAgICAgICAgIG5leHROb2RlSWQ6aXNOYU4odltfdmFsTmFtZV0pID8gMCA6IHBhcnNlSW50KHZbX3ZhbE5hbWVdKSB8fCAwLA0KICAgICAgICAgICAgICBpc0RlZmF1bHQ6aXNEZWZhdWx0IHx8IDANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH1lbHNlIHsNCg0KICAgICAgICAgIH0NCiAgICAgICAgICBpZihub2RlUmVzdWx0ICE9IG51bGwpew0KICAgICAgICAgICAgbm9kZVJlc3VsdC5kcmF3Tm9kZVJlc3VsdCgpOw0KICAgICAgICAgICAgcmV0dXJuIG5vZGVSZXN1bHQ7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgIHRoYW4uc3RlcC5yZW1vdmVOb2RlUmVzdWx0KHJlc3VsdE5hbWUpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBlbHNlew0KICAgICAgICBkZWJ1Z2dlcg0KICAgICAgICBpZihpIT11bmRlZmluZWQpew0KICAgICAgICAgICBfdmFsTmFtZT1yZXN1bHROYW1lLnJlcGxhY2UoaSwnJyk7DQogICAgICAgICAgLy9yZXN1bHROYW1lPXJlc3VsdE5hbWUraTsNCiAgICAgICAgfQ0KICAgICAgICAvL2lmKHZbcmVzdWx0TmFtZV0gIT0gbnVsbCAmJiB2W3Jlc3VsdE5hbWVdICE9ICIiKSB7DQogICAgICAgIGlmKHZbX3ZhbE5hbWVdICE9IG51bGwgJiYgdltfdmFsTmFtZV0gIT0gIiIpIHsNCiAgICAgICAgICB2YXIgbm9kZVJlc3VsdCA9IHRoYW4uc3RlcC5jcmVhdGVOb2RlUmVzdWx0KHsNCiAgICAgICAgICAgIG5hbWU6cmVzdWx0TmFtZSwNCiAgICAgICAgICAgIG5leHROb2RlSWQ6aXNOYU4odltfdmFsTmFtZV0pID8gMCA6IHBhcnNlSW50KHZbX3ZhbE5hbWVdKSB8fCAwLA0KICAgICAgICAgICAgaXNEZWZhdWx0OmlzRGVmYXVsdCB8fCAwLA0KICAgICAgICAgICAgZGVzY3JpYmU6ZGVzY3JpYmUNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBpZihpc0RlZmF1bHQ9PTApew0KICAgICAgICAgICAgbm9kZVJlc3VsdC5jcmVhdGVDb25kaXRpb24oew0KICAgICAgICAgICAgICAibG9naWMiOiAiYW5kIiwvL+mAu+i+keespiBhbmQgb3Igbm90DQogICAgICAgICAgICAgICJvcHRpb25UeXBlIjogdi5vcHRpb25UeXBlLC8v5Yik5pat56ymDQogICAgICAgICAgICAgICJjb21wYXJpc29uVmFsdWUiOiB2LmNvbXBhcmlzb25WYWx1ZS8v5q+U6L6D5YC8DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYobm9kZVJlc3VsdCAhPSBudWxsKSB7DQogICAgICAgICAgICBub2RlUmVzdWx0LmRyYXdOb2RlUmVzdWx0KCk7DQogICAgICAgICAgICByZXR1cm4gbm9kZVJlc3VsdDsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBudWxsOw0KICAgIH0sDQogICAgLy8NCiAgICBhZGRKdWRnbWVudGNvbmRpdGlvbkxpc3RJdGVtKCl7DQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgdmFyIHN0cj17DQogICAgICAgIGlkOiduZXh0Tm9kZUlkJyt0aGFuLmZvcm1JdGVtLmp1ZGdtZW50Y29uZGl0aW9uTGlzdC5sZW5ndGgsDQogICAgICAgIG9wdGlvblR5cGU6J2VxJywNCiAgICAgICAgY29tcGFyaXNvblZhbHVlOicnLA0KICAgICAgICBuZXh0Tm9kZUlkTGlzdDowLC8v6Lez6L2s6IqC54K5DQogICAgICB9DQogICAgICAvLyBzdHJbJ2p1ZGdtZW50Y29uZGl0aW9uTGlzdCcrKHRoaXMuZm9ybUl0ZW0uanVkZ21lbnRjb25kaXRpb25MaXN0KzEpXT0wOy8v6Lez6L2s6IqC54K5DQogICAgICB0aGlzLmZvcm1JdGVtLmp1ZGdtZW50Y29uZGl0aW9uTGlzdC5wdXNoKHN0cik7DQogICAgfSwNCiAgICAvLw0KICAgIGRlbFByb2Nlc3NWYXJpYWJsZXNMaXN0SXRlbShpKXsNCiAgICAgIHRoaXMuZm9ybUl0ZW0uanVkZ21lbnRjb25kaXRpb25MaXN0LnNwbGljZShpLDEpOw0KICAgIH0sDQogICAgc2VsUHJvY2Vzc1ZhcmlhYmxlc1Zpc2libGUoc3RyLHYpew0KICAgICAgdGhpcy5wcm9jZXNzVmFyaWFibGVzVmlzaWJsZT10cnVlOw0KICAgICAgdGhpcy5zZWxQcm9jZXNzVmFyaWFibGVzVHlwZT1zdHI7DQogICAgICB0aGlzLnByb2Nlc3NWYXJpYWJsZXNJbmRleD12Ow0KICAgIH0sDQogICAgYnRuUHJvY2Vzc1ZhcmlhYmxlcygpew0KICAgICAgaWYodGhpcy5zZWxQcm9jZXNzVmFyaWFibGVzVHlwZT09InN0ciIpew0KICAgICAgICB0aGlzLmZvcm1JdGVtLnN0clZhcmlhYmxlPXRoaXMuJHJlZnMuZ2V0UHJvY2Vzc1ZhcmlhYmxlc1Zpc2libGUuc2VsZWN0UmFkaW9JdGVtLm5hbWU7DQogICAgICB9ZWxzZSB7DQogICAgICAgIHRoaXMuZm9ybUl0ZW0uanVkZ21lbnRjb25kaXRpb25MaXN0W3RoaXMucHJvY2Vzc1ZhcmlhYmxlc0luZGV4XS5jb21wYXJpc29uVmFsdWU9dGhpcy4kcmVmcy5nZXRQcm9jZXNzVmFyaWFibGVzVmlzaWJsZS5zZWxlY3RSYWRpb0l0ZW0ubmFtZTsNCiAgICAgIH0NCiAgICAgIHRoaXMucHJvY2Vzc1ZhcmlhYmxlc1Zpc2libGU9ZmFsc2U7DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXQoKQ0KICB9DQp9DQo="},{"version":3,"sources":["SetNode_VarCounting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SetNode_VarCounting.vue","sourceRoot":"src/views/my-components/IVR","sourcesContent":["<template>\r\n  <Row style=\"padding-top: 20px;background: #fff;\">\r\n    <Col span=\"22\" offset=\"1\">\r\n            {{formItem}}\r\n      <!--      {{nextNodeIdStr}}-->\r\n      <Form class=\"ui-combination-form\" ref=\"formItem\" :model=\"formItem\" :rules=\"formItemValidate\" :label-width=\"120\">\r\n        <FormItem label=\"节点号\" prop=\"id\">\r\n          <Input v-model=\"formItem.id\" placeholder=\"请输入...\" disabled></Input>\r\n        </FormItem>\r\n        <FormItem label=\"节点名称\" prop=\"name\">\r\n          <Input v-model=\"formItem.name\" placeholder=\"请输入...\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"添加判断条件\" prop=\"id\" style=\"margin-bottom: 5px\">\r\n          <Button @click=\"addJudgmentconditionListItem\" type=\"default\">添加</Button>\r\n        </FormItem>\r\n        <div class=\"ui-voiceList\" style=\"margin-bottom: 15px\">\r\n          <Row :gutter=\"16\" style=\"margin-bottom: 5px\"  v-for=\"(item,i) in formItem.judgmentconditionList\" :key=\"i\">\r\n            <FormItem prop=\"id\" class=\"ui-voiceList-item\" style=\"margin-bottom: 5px\">\r\n              <Col span=\"4\" prop=\"describe\">\r\n                <Select v-model=\"item.optionType\">\r\n                  <Option value=\"eq\">等于</Option>\r\n                  <Option value=\"neq\">不等于</Option>\r\n                  <Option value=\"like\">包含</Option>\r\n                  <Option value=\"gt\">大于</Option>\r\n                  <Option value=\"gte\">大于等于</Option>\r\n                  <Option value=\"lt\">小于</Option>\r\n                  <Option value=\"lte\">小于等于</Option>\r\n                </Select>\r\n              </Col>\r\n              <span style=\"float: left;\">值：</span>\r\n              <Col span=\"8\" prop=\"describe\">\r\n                <Input v-model=\"item.comparisonValue\" @click.native=\"selProcessVariablesVisible('list',i)\"  placeholder=\"点击选择变量\" style=\"width: calc(100% - 70px)\" disabled></Input>\r\n                <Button @click=\"selProcessVariablesVisible('list',i)\" style=\"width: 65px;padding-left: 0;padding-right: 0;text-align: center;margin-left: 4px\">插入变量</Button>\r\n              </Col>\r\n              <span style=\"float: left;\">跳转节点：</span>\r\n              <Col span=\"4\" prop=\"describe\">\r\n                <Select v-model=\"item.nextNodeIdList\">\r\n                  <Option :value=\"item.value\" v-for=\"(item,i) in nextNodeIdList\" :key=\"i\">{{item.text}}</Option>\r\n                </Select>\r\n              </Col>\r\n              <Col span=\"4\" style=\"text-align: left;padding-left: 0 !important;\">\r\n                <Button @click=\"delProcessVariablesListItem(i)\" style=\"margin-left: 10px\">删除</Button>\r\n              </Col>\r\n\r\n            </FormItem>\r\n          </Row>\r\n        </div>\r\n        <FormItem label=\"跳转节点\" prop=\"nextNodeId\">\r\n          <Select v-model=\"formItem.nextNodeId\">\r\n            <Option :value=\"item.value\" v-for=\"(item,i) in nextNodeIdList\" :key=\"i\">{{item.text}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"说明\" prop=\"describe\">\r\n          <Input type=\"textarea\" v-model=\"formItem.describe\" placeholder=\"请输入...\"></Input>\r\n        </FormItem>\r\n        <FormItem>\r\n          <Button @click=\"btnOk\" type=\"primary\">确定</Button>\r\n          <Button @click=\"btnCancel\" style=\"margin-left: 8px\">取消</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </Col>\r\n\r\n\r\n\r\n    <Modal\r\n        title=\"选择流程变量\"\r\n        v-model=\"processVariablesVisible\"\r\n        :closable=\"false\"\r\n        :mask-closable=\"false\"\r\n        :width=\"800\"\r\n    >\r\n      <processVariables ref=\"getProcessVariablesVisible\"></processVariables>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"processVariablesVisible = false\">{{\r\n            $t(\"cancel\")\r\n          }}</Button>\r\n        <Button\r\n            type=\"primary\"\r\n            @click=\"btnProcessVariables\"\r\n        >{{ $t(\"save\") }}</Button\r\n        >\r\n      </div>\r\n    </Modal><!--选择流程变量-结束--->\r\n  </Row>\r\n</template>\r\n\r\n<script>\r\nimport processVariables from \"@/views/my-components/IVR/processVariables\";\r\nvar frame = parent;\r\nexport default {\r\n  name: \"SetNode_VarCounting\",\r\n  components:{processVariables},\r\n  data(){\r\n    return{\r\n      processVariablesVisible:false,\r\n      layParent:true,\r\n      tableColumnsVisible:false,\r\n      openerid:WFCore.GetQuery(\"openerid\"),\r\n      stepid:WFCore.GetQuery(\"id\"),\r\n      flowdata:top.wMyflowData,\r\n      nextNodeIdList:[{value:0,text:'无'}],\r\n      selIndex:0,\r\n      step:'',\r\n      formItem:{\r\n        id:'',//节点号\r\n        name:'',//节点名称\r\n        //添加播放内容\r\n        judgmentconditionList:[{\r\n          id:'nextNodeIdList0',\r\n          optionType:'eq',\r\n          comparisonValue:'',\r\n          nextNodeIdList:0,//跳转节点\r\n        }],//条件判断\r\n        nextNodeId:0,//跳转节点\r\n        sort:'',//排序序号\r\n        describe:'',//说明\r\n      },\r\n      judgmentconditionLists:[],\r\n      nextNodeIdStr:0,\r\n      formItemValidate:{\r\n        name: [{\r\n          required: true,\r\n          message: this.$t(\"pleaseEnter\"),\r\n          trigger: \"blur\",\r\n        }],\r\n        'voiceList[0].content': [{\r\n          required: true,\r\n          message: this.$t(\"pleaseEnter\"),\r\n          trigger: \"blur\",\r\n        }],\r\n        // nextNodeId: [{\r\n        //   required: true,\r\n        //   message: this.$t(\"pleaseEnter\"),\r\n        //   trigger: \"blur\",\r\n        // }]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    init(){\r\n      this.initData();\r\n    },\r\n    initData(){\r\n      var than=this;\r\n      if (frame == null) return;\r\n      than.flowdata=top.wMyflowData;\r\n      than.step = than.flowdata.getNode(than.stepid);\r\n      if(than.flowdata.nodes.size()>0){\r\n        than.flowdata.nodes.each(function (nodeId,node,index){\r\n          if(than.step.checkNextNodeIsAllow(\"nextNodeId\",node.id)){\r\n            than.nextNodeIdList.push({value:node.id,text:[node.id]+'-' + node.getText()})\r\n          }\r\n        })\r\n      }\r\n      if(than.step.nodeResults.size()>1){\r\n        than.formItem.judgmentconditionList=[];\r\n      }\r\n      window.setTimeout(function (){\r\n        than.initStep(than.step);\r\n      },500)\r\n    },\r\n    initStep(step) {\r\n      var than=this;\r\n      if(step==null||step==undefined){\r\n        than.formItem.name='新流程';\r\n        return;\r\n      }\r\n      than.formItem.id=step.id;\r\n      than.formItem.name=step.getText();\r\n      than.formItem.sort=step.sort;\r\n      than.formItem.describe=step.describe;\r\n      debugger\r\n      if(step.nodeResults.size()>0){\r\n        step.nodeResults.each(function(key,value,index){\r\n          if(value.name!=\"nextNodeId\"){\r\n            debugger\r\n            than.addCondition(value);\r\n          }\r\n\r\n        });\r\n      }\r\n      else\r\n      {\r\n        than.addCondition();\r\n      }\r\n\r\n      //跳转节点\r\n      than.ShowNodeResult(\"nextNodeId\",\"#base_NextNodeId\",1);\r\n      window.setTimeout(function (){\r\n        than.formItem.nextNodeId=than.nextNodeIdStr;\r\n        if(than.formItem.judgmentconditionList.length==0){\r\n          than.formItem.judgmentconditionList.push({\r\n            id:'',\r\n            optionType:'eq',\r\n            comparisonValue:'',\r\n            nextNodeIdList:0,//跳转节点\r\n          });\r\n        }\r\n      },500)\r\n    },\r\n    addCondition(nodeResult) {\r\n      var than=this;\r\n      var condition = nodeResult != undefined && nodeResult.conditions.size()>0 ? nodeResult.conditions.get(0):null;\r\n      if(condition){\r\n        var obj={\r\n          id:'nextNodeIdList'+than.formItem.judgmentconditionList.length,\r\n          optionType:condition.optionType,\r\n          comparisonValue:condition.comparisonValue,\r\n          nextNodeIdList:nodeResult.nextNodeId,\r\n        };\r\n        than.formItem.judgmentconditionList.push(obj);\r\n        than.judgmentconditionLists.push(obj);\r\n      }\r\n    },\r\n    btnOk(){\r\n      var than=this;\r\n      var isFormValid = new RoadUI.Validate().validateForm(\"form1\");\r\n      this.$refs[\"formItem\"].validate((valid) => {\r\n        if (valid) {\r\n          than.confirm1();\r\n        }\r\n      })\r\n\r\n    },\r\n    btnCancel(){\r\n      new RoadUI.Window().close();\r\n    },\r\n    confirm1() {\r\n      var than=this;\r\n\r\n      var ostep={\r\n        text:{\r\n          text:than.formItem.name\r\n        },\r\n        sort:than.formItem.sort,\r\n        describe:than.formItem.describe,\r\n      }\r\n\r\n      this.SaveNodeResult(\"nextNodeId\",\"#base_NextNodeId\",\"跳转节点\",1,than.formItem);\r\n\r\n      than.formItem.judgmentconditionList.forEach(function (v,i,arr){\r\n        var index = i+1;\r\n        var trobj = v;\r\n        var nextNodeId = trobj.id;\r\n        var curNodeResult =  than.SaveNodeResult(v.id,\"#\"+nextNodeId,\"判断条件\",0,v,i);\r\n        debugger\r\n        if(curNodeResult != null){\r\n          curNodeResult.createCondition({\r\n            \"logic\": \"and\",//逻辑符 and or not\r\n            \"optionType\": trobj.optionType,//判断符\r\n            \"comparisonValue\": trobj.comparisonValue//比较值\r\n          });\r\n        }\r\n      })\r\n\r\n      window.setTimeout(function (){\r\n        than.step.restore(ostep);\r\n        new RoadUI.Window().close();\r\n      },1000)\r\n    },\r\n    //给NodeResult控件赋值\r\n    ShowNodeResult(resultName,nextNodeCtlId,isDefault){\r\n      var than=this;\r\n      if(than.step.getNodeResult(resultName) != null && than.step.getNodeResult(resultName).nextNodeId > 0)\r\n      {\r\n        than.formItem[resultName]=parseInt(than.step.getNodeResult(resultName).nextNodeId);\r\n        than.nextNodeIdStr=parseInt(than.step.getNodeResult(resultName).nextNodeId);\r\n      }\r\n    },\r\n    //保存NodeResult控件所选下一节点\r\n    SaveNodeResult(resultName,nextNodeCtlId,describe,isDefault,v,i){\r\n      var than=this;\r\n      var _valName=resultName;\r\n      if(than.step.getNodeResult(resultName) != null){\r\n        if(i!=undefined){\r\n          _valName=resultName.replace(i,'');\r\n          //resultName=resultName+i;\r\n        }\r\n        debugger\r\n        if(v[_valName] != null && v[_valName] != \"\"){\r\n          if(_valName==\"nextNodeId\"){\r\n            var nodeResult = than.step.getNodeResult(resultName).restore({\r\n              nextNodeId:isNaN(v[_valName]) ? 0 : parseInt(v[_valName]) || 0,\r\n              isDefault:isDefault || 0\r\n            });\r\n          }else {\r\n\r\n          }\r\n          if(nodeResult != null){\r\n            nodeResult.drawNodeResult();\r\n            return nodeResult;\r\n          }\r\n        }\r\n        else\r\n        {\r\n          than.step.removeNodeResult(resultName);\r\n        }\r\n      }\r\n      else{\r\n        debugger\r\n        if(i!=undefined){\r\n           _valName=resultName.replace(i,'');\r\n          //resultName=resultName+i;\r\n        }\r\n        //if(v[resultName] != null && v[resultName] != \"\") {\r\n        if(v[_valName] != null && v[_valName] != \"\") {\r\n          var nodeResult = than.step.createNodeResult({\r\n            name:resultName,\r\n            nextNodeId:isNaN(v[_valName]) ? 0 : parseInt(v[_valName]) || 0,\r\n            isDefault:isDefault || 0,\r\n            describe:describe\r\n          });\r\n          if(isDefault==0){\r\n            nodeResult.createCondition({\r\n              \"logic\": \"and\",//逻辑符 and or not\r\n              \"optionType\": v.optionType,//判断符\r\n              \"comparisonValue\": v.comparisonValue//比较值\r\n            });\r\n          }\r\n          if(nodeResult != null) {\r\n            nodeResult.drawNodeResult();\r\n            return nodeResult;\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    //\r\n    addJudgmentconditionListItem(){\r\n      var than=this;\r\n      var str={\r\n        id:'nextNodeId'+than.formItem.judgmentconditionList.length,\r\n        optionType:'eq',\r\n        comparisonValue:'',\r\n        nextNodeIdList:0,//跳转节点\r\n      }\r\n      // str['judgmentconditionList'+(this.formItem.judgmentconditionList+1)]=0;//跳转节点\r\n      this.formItem.judgmentconditionList.push(str);\r\n    },\r\n    //\r\n    delProcessVariablesListItem(i){\r\n      this.formItem.judgmentconditionList.splice(i,1);\r\n    },\r\n    selProcessVariablesVisible(str,v){\r\n      this.processVariablesVisible=true;\r\n      this.selProcessVariablesType=str;\r\n      this.processVariablesIndex=v;\r\n    },\r\n    btnProcessVariables(){\r\n      if(this.selProcessVariablesType==\"str\"){\r\n        this.formItem.strVariable=this.$refs.getProcessVariablesVisible.selectRadioItem.name;\r\n      }else {\r\n        this.formItem.judgmentconditionList[this.processVariablesIndex].comparisonValue=this.$refs.getProcessVariablesVisible.selectRadioItem.name;\r\n      }\r\n      this.processVariablesVisible=false;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.ui-combination-form{\r\n  .ui-voiceList{\r\n    .ui-voiceList-item{\r\n      text-align: left;\r\n      .ivu-form-item-label{\r\n        border: 1px solid red !important;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</style>"]}]}