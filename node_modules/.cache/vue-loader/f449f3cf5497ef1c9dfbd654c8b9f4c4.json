{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\toolbar\\CTICheckIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\toolbar\\CTICheckIn.vue","mtime":1614579763301},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRBbGxDdGlMaW5rc0xpc3QNCn0gZnJvbSAiQC9hcGkvaW5kZXgiOw0KICAgIHZhciBvcGVuZXJXID0gcGFyZW50Ow0KdmFyIGRhdGExPXsxOiLlm7rlrprliIbmnLoiLDI6IuW6p+W4reiHqumAiSIsMzoi6Ieq6YCC5bqUIn07DQovL29wZW5lclcuT2N4Q29yZS5TZXNzaW9uLmdldENvbnRpbnVhdGlvbigpDQp2YXIgd2luU2Vzc2lvbj1vcGVuZXJXLk9jeENvcmUuU2Vzc2lvbjsNCnZhciBfdXNlckluZm89SlNPTi5wYXJzZShDb29raWVzLmdldCgidXNlckluZm8iKSk7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6J0NUSUNoZWNrSW4nLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAgIGFnZW50Q2hlY2tJbkZvcm06IHsNCiAgICAgICAgICBVc2VyTmFtZTogd2luU2Vzc2lvbi5nZXRVc2VyQ29kZSgpLC8v5Z2Q5bit5bel5Y+3DQogICAgICAgICAgRXh0TW9kZTogd2luU2Vzc2lvbi5nZXRFeHRNb2RlKCksIC8v5Z2Q5bit5YiG5py65qih5byPDQogICAgICAgICAgRXh0TW9kZU5hbWU6IGRhdGExW3dpblNlc3Npb24uZ2V0RXh0TW9kZSgpXSwNCiAgICAgICAgICBFeHROdW1iZXI6IHdpblNlc3Npb24uZ2V0RXh0TnVtYmVyKCksLy/lnZDluK3liIbmnLrlj7cNCiAgICAgICAgICBFeHRDYWxsZXJOdW1iZXI6bnVsbCwvL+S4u+WPq+WPt+eggQ0KICAgICAgICAgIEV4dENhbGxlclJlbGF5R3JwTm86bnVsbCwvL+S4ree7p+e7hOWPtw0KICAgICAgICAgIENvbnRpbnVhdGlvbjp3aW5TZXNzaW9uLmdldENvbnRpbnVhdGlvbigpLC8v5o6l57ut562J57qnDQogICAgICAgICAgLy9Hcm91cHNMaXN0OiBbIjEzMTA3ODA4NDY2MzQwNDU0NDEiXSwvL+aKgOiDvee7hA0KICAgICAgICAgIEdyb3Vwc0xpc3Q6IF91c2VySW5mby5hZ2VudEdyb3Vwcz9fdXNlckluZm8uYWdlbnRHcm91cHMuYWdlbnRHcm91cElkOltdLC8v5oqA6IO957uEDQogICAgICAgICAgR3JvdXBzOltdLA0KICAgICAgICAgIEZvcmNlTG9naW46MCwvL+aYr+WQpuW8uuWItuetvuWFpSAx5pivIDDlkKYNCiAgICAgICAgfSwNCiAgICAgICAgLy/lnZDluK3liIbmnLrlj7cNCiAgICAgICAgc2VsZWN0U2VhdEV4dGVuc2lvbk51bWJlcjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAiODAwMSIsDQogICAgICAgICAgICAgICAgbmFtZTogIjgwMDEiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogIjgwMDIiLA0KICAgICAgICAgICAgICAgIG5hbWU6ICI4MDAyIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICI4MDAzIiwNCiAgICAgICAgICAgICAgICBuYW1lOiAiODAwMyIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAiODAwNCIsDQogICAgICAgICAgICAgICAgbmFtZTogIjgwMDQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgICAgLy/lvZLlsZ7mioDog70NCiAgICAgICAgY2hlY2tib3hBdHRyaWJ1dGlvblNraWxsczE6IFt7DQogICAgICAgICAgaWQ6ICIxIiwNCiAgICAgICAgICBuYW1lOiAi5oqA6IO957uEMSIsDQogICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgaWQ6ICIyIiwNCiAgICAgICAgICAgIG5hbWU6ICLmioDog73nu4QyIiwNCiAgICAgICAgICB9XSwNCiAgICAgIGNoZWNrYm94QXR0cmlidXRpb25Ta2lsbHM6WyfmioDog73nu4QxJywn5oqA6IO957uEMicsJ+aKgOiDvee7hDMnXQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCkgew0KDQogICAgICAvL3RoaXMuYmFja1JvdXRlID0gdGhpcy4kcm91dGUucXVlcnkuYmFja1JvdXRlP3RoaXMuJHJvdXRlLnF1ZXJ5LmJhY2tSb3V0ZToiaG9tZV9pbmRleCI7DQogICAgICB0aGlzLnNldFNlbGVjdFNlYXRFeHRlbnNpb25OdW1iZXJMaXN0KCk7Ly/ojrflj5bliIbmnLoNCiAgICAgIHRoaXMuc2V0Q2hlY2tib3hBdHRyaWJ1dGlvblNraWxsc0xpc3QoKTsvL+iuvue9ruaKgOiDvee7hA0KICAgIH0sDQogICAgLy/orr7nva7liIbmnLrlj7fkuIvmi4nmoYYNCiAgICBzZXRTZWxlY3RTZWF0RXh0ZW5zaW9uTnVtYmVyTGlzdCgpew0KICAgICAgdmFyIGRhdGE9b3BlbmVyVy5PY3hDb3JlLlNlc3Npb24uZ2V0RXh0TnVtYmVyTGlzdCgpLnZhbHVlOw0KICAgICAgdmFyIGRhdGFBPVtdOw0KDQogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHYsaSxhcnIpew0KICAgICAgICBkYXRhQS5wdXNoKHsNCiAgICAgICAgICBpZDp2LkV4dE51bWJlciwNCiAgICAgICAgICBuYW1lOnYuRXh0TnVtYmVyDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgICAgdGhpcy5zZWxlY3RTZWF0RXh0ZW5zaW9uTnVtYmVyPWRhdGFBOw0KICAgIH0sDQogICAgLy/orr7nva7mioDog73nu4QNCiAgICBzZXRDaGVja2JveEF0dHJpYnV0aW9uU2tpbGxzTGlzdCgpew0KICAgICAgdmFyIGRhdGE9b3BlbmVyVy5PY3hDb3JlLlNlc3Npb24uZ2V0R3JvdXBMaXN0KCkudmFsdWU7DQogICAgICB2YXIgZGF0YUE9W107DQogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHYsaSxhcnIpew0KICAgICAgICB2YXIgZGF0YUI9djsNCiAgICAgICAgZGF0YUIuaWQ9di5Hcm91cElkOw0KICAgICAgICBkYXRhQi5uYW1lPXYuR3JvdXBOYW1lOw0KICAgICAgICBkYXRhQS5wdXNoKGRhdGFCKTsNCiAgICAgIH0pOw0KICAgICAgdGhpcy5jaGVja2JveEF0dHJpYnV0aW9uU2tpbGxzPWRhdGFBOw0KICAgIH0sDQogICAgLy/lhajpgIl85Y+N6YCJDQogICAgY2hlY2tlZEF0dHJpYnV0aW9uU2tpbGxzKHYpIHsNCiAgICAgIGNvbnNvbGUubG9nKHYpOw0KICAgICAgdGhpcy5jaGVja2VkQXR0cmlidXRpb25Ta2lsbHNTdHV0ZXMgPSAhdGhpcw0KICAgICAgICAgIC5jaGVja2VkQXR0cmlidXRpb25Ta2lsbHNTdHV0ZXM7DQogICAgICBpZiAodGhpcy5jaGVja2VkQXR0cmlidXRpb25Ta2lsbHNTdHV0ZXMgPT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLmFnZW50Q2hlY2tJbkZvcm0uR3JvdXBzID0gdGhpcy5jaGVja2JveEF0dHJpYnV0aW9uU2tpbGxzOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5hZ2VudENoZWNrSW5Gb3JtLkdyb3VwcyA9IFtdOw0KICAgICAgfQ0KICAgIH0sDQogICAgYnRuQ2xvc2UoKXsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFnIiwgInRvQ2FsbCIpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiB0aGlzLmJhY2tSb3V0ZQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBjbG9zZVRoaXNXaW5kb3coKXsNCiAgICAgICAgdmFyIGluZGV4PXBhcmVudC5sYXllci5nZXRGcmFtZUluZGV4KHdpbmRvdy5uYW1lKTsgLy/ojrflj5blvZPliY3nqpflj6PnmoRuYW1lDQogICAgICAgIHBhcmVudC5sYXllci5jbG9zZShpbmRleCk7DQogICAgfSwNCiAgICAvL+e7p+e7reetvuWFpQ0KICAgIGJ0bkNvbnRpbnVlQ2hlY2tpbmdJbigpew0KICAgICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgICB2YXIgZm9ybT10aGlzLmFnZW50Q2hlY2tJbkZvcm07DQogICAgICAgIGlmKGZvcm0uRXh0TnVtYmVyPT0iIikNCiAgICAgICAgew0KICAgICAgICAgICAgb3BlbmVyVy5PY3hDb3JlLkRpYWxvZ1V0aWwudGlwRGlhbG9nKCLliIbmnLrlj7fml6DmlYgiLCAzKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBpZihmb3JtLkdyb3Vwc0xpc3QubGVuZ3RoID09IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5EaWFsb2dVdGlsLnRpcERpYWxvZygi6K+36YCJ5oup6KaB562+5YWl55qE5oqA6IO9IiwgMyk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgaWYob3BlbmVyVy5PY3hDb3JlLmN0aS5DVElTZXJ2ZXJJbXBsLmdldENvbm5lY3RTdGF0ZSgpID09IDIpDQogICAgICAgIHsNCiAgICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5EaWFsb2dVdGlsLnRpcERpYWxvZygi5q2j5Zyo6YeN5paw6L+e5o6lQ1RJ5pyN5Yqh5Zmo77yM6K+356iN5ZCO5YaN5pON5L2c77yBIiwgMyk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd0xvYWRpbmcodHJ1ZSwgIuato+WcqOetvuWFpS4uLiIsMjApOw0KICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgIHZhciBwb3N0RGF0YSA9e307DQogICAgICAgICAgdmFyIEdyb3Vwc0xpc3Q9dGhhbi5hZ2VudENoZWNrSW5Gb3JtLkdyb3Vwc0xpc3Q7DQogICAgICAgICAgdmFyIEdyb3Vwc0FMTExpc3Q9dGhhbi5jaGVja2JveEF0dHJpYnV0aW9uU2tpbGxzOw0KICAgICAgICAgIHZhciBkYXRhR3JvdXBzTGlzdD1bXTsNCiAgICAgICAgICBHcm91cHNBTExMaXN0LmZvckVhY2goZnVuY3Rpb24gKHYsaSxhcnIpew0KICAgICAgICAgICAgR3JvdXBzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2MSxpMSxhcnIxKXsNCiAgICAgICAgICAgICAgaWYodi5pZD09djEpew0KICAgICAgICAgICAgICAgIGRhdGFHcm91cHNMaXN0LnB1c2godik7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGFuLmFnZW50Q2hlY2tJbkZvcm0uR3JvdXBzPWRhdGFHcm91cHNMaXN0Ow0KICAgICAgICAgICAgcG9zdERhdGE9dGhhbi5hZ2VudENoZWNrSW5Gb3JtOw0KDQogICAgICAgICAgICBvcGVuZXJXLk9jeENvbW1hbmRGdW4uQ1RJQWdlbnRMb2dpbigiQ2hlY2tpbiIscG9zdERhdGEsZnVuY3Rpb24ocmV0KXsNCiAgICAgICAgICAgICAgICBpZihyZXQuUmVzdWx0ID09IHRydWUpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93TG9hZGluZyh0cnVlLCAi5q2j5Zyo562+5YWlLi4uIiwzMCk7DQogICAgICAgICAgICAgICAgICAgIHRoYW4uY2xvc2VUaGlzV2luZG93KCk7DQogICAgICAgICAgICAgICAgfWVsc2UNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dMb2FkaW5nKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYocmV0Lk1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIHJldC5NZXNzYWdlICE9ICIiKSBvcGVuZXJXLk9jeENvcmUuRGlhbG9nVXRpbC50aXBEaWFsb2cocmV0Lk1lc3NhZ2UsIDMpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZXJyTXNnID0gcmV0Lk1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIHJldC5NZXNzYWdlICE9ICIiID8gcmV0Lk1lc3NhZ2UgOiAi562+5YWl5aSx6LSlISI7DQogICAgICAgICAgICAgICAgICAgIHZhciBlcnJDb2RlID0gcmV0LkVycm9yQ29kZSAhPSB1bmRlZmluZWQgJiYgcmV0LkVycm9yQ29kZSAhPSAiIiA/IHJldC5FcnJvckNvZGUgOiA5OTk7DQogICAgICAgICAgICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5TZXNzaW9uLkdldEdsb2JhbCgib25DaGVja0luIikuQ2FsbChmYWxzZSxlcnJDb2RlLGVyck1zZyxudWxsKTsvL+etvuWFpeWTjeW6lOWbnuiwg+WHveaVsA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sZnVuY3Rpb24ocmV0KXsNCiAgICAgICAgICAgICAgICBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93TG9hZGluZyhmYWxzZSk7DQogICAgICAgICAgICAgICAgaWYocmV0Lk1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIHJldC5NZXNzYWdlICE9ICIiKSBvcGVuZXJXLk9jeENvcmUuRGlhbG9nVXRpbC50aXBEaWFsb2cocmV0Lk1lc3NhZ2UsIDMpOw0KICAgICAgICAgICAgICAgIHZhciBlcnJNc2cgPSByZXQuTWVzc2FnZSAhPSB1bmRlZmluZWQgJiYgcmV0Lk1lc3NhZ2UgIT0gIiIgPyByZXQuTWVzc2FnZSA6ICLnrb7lhaXlpLHotKUhIjsNCiAgICAgICAgICAgICAgICB2YXIgZXJyQ29kZSA9IHJldC5FcnJvckNvZGUgIT0gdW5kZWZpbmVkICYmIHJldC5FcnJvckNvZGUgIT0gIiIgPyByZXQuRXJyb3JDb2RlIDogOTk5Ow0KICAgICAgICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5TZXNzaW9uLkdldEdsb2JhbCgib25DaGVja0luIikuQ2FsbChmYWxzZSxlcnJDb2RlLGVyck1zZyxudWxsKTsvL+etvuWFpeWTjeW6lOWbnuiwg+WHveaVsA0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sIDIwMCk7DQogICAgICAgIC8vdGhpcy5jbG9zZVRoaXNXaW5kb3coKTsNCg0KICAgICAgICB0aGlzLmdvR2V0QWxsQ3RpTGlua3NMaXN0KCk7DQogICAgfSwNCiAgICAvL+iOt+WPlmN0aWxpbmtzDQogICAgZ29HZXRBbGxDdGlMaW5rc0xpc3QoKXsNCiAgICAgIGdldEFsbEN0aUxpbmtzTGlzdCh7fSkudGhlbihyZXM9PnsNCiAgICAgICAgaWYocmVzLnN1Y2Nlc3Mpew0KDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+WPlua2iOetvuWFpQ0KICAgIGJ0bkNhbmNlbENoZWNrSW4oKXsNCiAgICAgICAgdGhpcy5jbG9zZVRoaXNXaW5kb3coKTsNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0KCk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["CTICheckIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CTICheckIn.vue","sourceRoot":"src/views/my-components/toolbar","sourcesContent":["<style></style>\r\n<template>\r\n  <div>\r\n    <Row>\r\n      <Col span=\"23\">\r\n    <Form\r\n            ref=\"agentCheckInForm\"\r\n            :model=\"agentCheckInForm\"\r\n            :label-width=\"120\"\r\n            :rules=\"agentCheckInValidate\"\r\n    >\r\n      <FormItem label=\"坐席工号\">\r\n        <Input\r\n                v-model=\"agentCheckInForm.UserName\"\r\n                placeholder=\"Enter your name\"\r\n                disabled\r\n        ></Input>\r\n      </FormItem>\r\n      <FormItem label=\"坐席分机模式\">\r\n        <Input\r\n                v-model=\"agentCheckInForm.ExtModeName\"\r\n                placeholder=\"Enter your e-mail\"\r\n                disabled\r\n        ></Input>\r\n      </FormItem>\r\n      <FormItem label=\"坐席分机号\" prop=\"ExtNumber\">\r\n        <Select\r\n                v-model=\"agentCheckInForm.ExtNumber\"\r\n                placeholder=\"请选择\"\r\n        >\r\n          <Option\r\n                  v-for=\"(item, i) in selectSeatExtensionNumber\"\r\n                  :value=\"item.id\"\r\n                  :key=\"i\"\r\n          >{{ item.name }}</Option\r\n          >\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem\r\n              label=\"归属技能\"\r\n              prop=\"Groups\"\r\n              class=\"no-margin-b\"\r\n              style=\"margin-bottom: 0\"\r\n      >\r\n        <CheckboxGroup v-model=\"agentCheckInForm.GroupsList\">\r\n          <Checkbox\r\n                  :label=\"item.GroupId\"\r\n                  v-for=\"(item, i) in checkboxAttributionSkills\"\r\n                  :key=\"i\"\r\n          >{{item.GroupName}}</Checkbox>\r\n        </CheckboxGroup>\r\n      </FormItem>\r\n<!--      {{this.agentCheckInForm}}-->\r\n      <FormItem label=\"\">\r\n        <div @click=\"checkedAttributionSkills\">\r\n          {{ checkedAttributionSkillsStutesFu }}\r\n        </div>\r\n      </FormItem>\r\n      <FormItem label=\"\">\r\n        <Button\r\n        type=\"primary\"\r\n        :loading=\"modal_loading\"\r\n        @click=\"btnContinueCheckingIn\"\r\n        >签入</Button\r\n        >\r\n        <Button\r\n        type=\"defualt\"\r\n        :loading=\"modal_loading\"\r\n        @click=\"btnCancelCheckIn\"\r\n        style=\"margin-left: 8px\"\r\n        >取消</Button\r\n        >\r\n      </FormItem>\r\n    </Form>\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getAllCtiLinksList\r\n} from \"@/api/index\";\r\n    var openerW = parent;\r\nvar data1={1:\"固定分机\",2:\"座席自选\",3:\"自适应\"};\r\n//openerW.OcxCore.Session.getContinuation()\r\nvar winSession=openerW.OcxCore.Session;\r\nvar _userInfo=JSON.parse(Cookies.get(\"userInfo\"));\r\nexport default {\r\n  name:'CTICheckIn',\r\n  data() {\r\n    return {\r\n        agentCheckInForm: {\r\n          UserName: winSession.getUserCode(),//坐席工号\r\n          ExtMode: winSession.getExtMode(), //坐席分机模式\r\n          ExtModeName: data1[winSession.getExtMode()],\r\n          ExtNumber: winSession.getExtNumber(),//坐席分机号\r\n          ExtCallerNumber:null,//主叫号码\r\n          ExtCallerRelayGrpNo:null,//中继组号\r\n          Continuation:winSession.getContinuation(),//接续等级\r\n          //GroupsList: [\"1310780846634045441\"],//技能组\r\n          GroupsList: _userInfo.agentGroups?_userInfo.agentGroups.agentGroupId:[],//技能组\r\n          Groups:[],\r\n          ForceLogin:0,//是否强制签入 1是 0否\r\n        },\r\n        //坐席分机号\r\n        selectSeatExtensionNumber: [\r\n            {\r\n                id: \"8001\",\r\n                name: \"8001\",\r\n            },\r\n            {\r\n                id: \"8002\",\r\n                name: \"8002\",\r\n            },\r\n            {\r\n                id: \"8003\",\r\n                name: \"8003\",\r\n            },\r\n            {\r\n                id: \"8004\",\r\n                name: \"8004\",\r\n            },\r\n        ],\r\n        //归属技能\r\n        checkboxAttributionSkills1: [{\r\n          id: \"1\",\r\n          name: \"技能组1\",\r\n        },\r\n          {\r\n            id: \"2\",\r\n            name: \"技能组2\",\r\n          }],\r\n      checkboxAttributionSkills:['技能组1','技能组2','技能组3']\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n\r\n      //this.backRoute = this.$route.query.backRoute?this.$route.query.backRoute:\"home_index\";\r\n      this.setSelectSeatExtensionNumberList();//获取分机\r\n      this.setCheckboxAttributionSkillsList();//设置技能组\r\n    },\r\n    //设置分机号下拉框\r\n    setSelectSeatExtensionNumberList(){\r\n      var data=openerW.OcxCore.Session.getExtNumberList().value;\r\n      var dataA=[];\r\n\r\n      data.forEach(function (v,i,arr){\r\n        dataA.push({\r\n          id:v.ExtNumber,\r\n          name:v.ExtNumber\r\n        })\r\n      })\r\n      this.selectSeatExtensionNumber=dataA;\r\n    },\r\n    //设置技能组\r\n    setCheckboxAttributionSkillsList(){\r\n      var data=openerW.OcxCore.Session.getGroupList().value;\r\n      var dataA=[];\r\n      data.forEach(function (v,i,arr){\r\n        var dataB=v;\r\n        dataB.id=v.GroupId;\r\n        dataB.name=v.GroupName;\r\n        dataA.push(dataB);\r\n      });\r\n      this.checkboxAttributionSkills=dataA;\r\n    },\r\n    //全选|反选\r\n    checkedAttributionSkills(v) {\r\n      console.log(v);\r\n      this.checkedAttributionSkillsStutes = !this\r\n          .checkedAttributionSkillsStutes;\r\n      if (this.checkedAttributionSkillsStutes == true) {\r\n        this.agentCheckInForm.Groups = this.checkboxAttributionSkills;\r\n      } else {\r\n        this.agentCheckInForm.Groups = [];\r\n      }\r\n    },\r\n    btnClose(){\r\n      this.$store.commit(\"removeTag\", \"toCall\");\r\n      this.$router.push({\r\n        name: this.backRoute\r\n      });\r\n    },\r\n    closeThisWindow(){\r\n        var index=parent.layer.getFrameIndex(window.name); //获取当前窗口的name\r\n        parent.layer.close(index);\r\n    },\r\n    //继续签入\r\n    btnContinueCheckingIn(){\r\n        var than=this;\r\n        var form=this.agentCheckInForm;\r\n        if(form.ExtNumber==\"\")\r\n        {\r\n            openerW.OcxCore.DialogUtil.tipDialog(\"分机号无效\", 3);\r\n            return false;\r\n        }\r\n        if(form.GroupsList.length == 0)\r\n        {\r\n            openerW.OcxCore.DialogUtil.tipDialog(\"请选择要签入的技能\", 3);\r\n            return false;\r\n        }\r\n        if(openerW.OcxCore.cti.CTIServerImpl.getConnectState() == 2)\r\n        {\r\n            openerW.OcxCore.DialogUtil.tipDialog(\"正在重新连接CTI服务器，请稍后再操作！\", 3);\r\n            return false;\r\n        }\r\n        openerW.OcxCore.Utility.ShowLoading(true, \"正在签入...\",20);\r\n        window.setTimeout(function () {\r\n           var postData ={};\r\n          var GroupsList=than.agentCheckInForm.GroupsList;\r\n          var GroupsALLList=than.checkboxAttributionSkills;\r\n          var dataGroupsList=[];\r\n          GroupsALLList.forEach(function (v,i,arr){\r\n            GroupsList.forEach(function (v1,i1,arr1){\r\n              if(v.id==v1){\r\n                dataGroupsList.push(v);\r\n              }\r\n            })\r\n          })\r\n          than.agentCheckInForm.Groups=dataGroupsList;\r\n            postData=than.agentCheckInForm;\r\n\r\n            openerW.OcxCommandFun.CTIAgentLogin(\"Checkin\",postData,function(ret){\r\n                if(ret.Result == true)\r\n                {\r\n                    openerW.OcxCore.Utility.ShowLoading(true, \"正在签入...\",30);\r\n                    than.closeThisWindow();\r\n                }else\r\n                {\r\n                    openerW.OcxCore.Utility.ShowLoading(false);\r\n                    if(ret.Message != undefined && ret.Message != \"\") openerW.OcxCore.DialogUtil.tipDialog(ret.Message, 3);\r\n                    var errMsg = ret.Message != undefined && ret.Message != \"\" ? ret.Message : \"签入失败!\";\r\n                    var errCode = ret.ErrorCode != undefined && ret.ErrorCode != \"\" ? ret.ErrorCode : 999;\r\n                    openerW.OcxCore.Session.GetGlobal(\"onCheckIn\").Call(false,errCode,errMsg,null);//签入响应回调函数\r\n                }\r\n            },function(ret){\r\n                openerW.OcxCore.Utility.ShowLoading(false);\r\n                if(ret.Message != undefined && ret.Message != \"\") openerW.OcxCore.DialogUtil.tipDialog(ret.Message, 3);\r\n                var errMsg = ret.Message != undefined && ret.Message != \"\" ? ret.Message : \"签入失败!\";\r\n                var errCode = ret.ErrorCode != undefined && ret.ErrorCode != \"\" ? ret.ErrorCode : 999;\r\n                openerW.OcxCore.Session.GetGlobal(\"onCheckIn\").Call(false,errCode,errMsg,null);//签入响应回调函数\r\n            });\r\n        }, 200);\r\n        //this.closeThisWindow();\r\n\r\n        this.goGetAllCtiLinksList();\r\n    },\r\n    //获取ctilinks\r\n    goGetAllCtiLinksList(){\r\n      getAllCtiLinksList({}).then(res=>{\r\n        if(res.success){\r\n\r\n        }\r\n      })\r\n    },\r\n    //取消签入\r\n    btnCancelCheckIn(){\r\n        this.closeThisWindow();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n"]}]}