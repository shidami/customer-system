{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\access\\access.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\access\\access.vue","mtime":1614579763201},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ29va2llcyBmcm9tICJqcy1jb29raWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiYWNjZXNzX2luZGV4IiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGVybVR5cGVzOiBbXSwNCiAgICAgIHJvbGVzOiBbXSwNCiAgICAgIGV4YW1wbGU6ICI8QnV0dG9uIHYtaGFzPVwiJ2FkZCdcIj7mt7vliqDmjInpkq48L0J1dHRvbj4iLA0KICAgICAgZXhhbXBsZVJvbGU6ICI8QnV0dG9uIHYtaGFzUm9sZT1cIidST0xFX0FETUlOJ1wiPua3u+WKoOaMiemSrjwvQnV0dG9uPiIsDQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuWnk+WQjSIsDQogICAgICAgICAga2V5OiAibmFtZSIsDQogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgWw0KICAgICAgICAgICAgICBoKCJJY29uIiwgew0KICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICB0eXBlOiAiaW9zLXBlcnNvbiINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICBtYXJnaW46ICIwIDVweCAzcHggMCINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICBoKCJzdHJvbmciLCBwYXJhbXMucm93Lm5hbWUpDQogICAgICAgICAgICBdKTsNCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuW5tOm+hCIsDQogICAgICAgICAga2V5OiAiYWdlIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLlnLDlnYAiLA0KICAgICAgICAgIGtleTogImFkZHJlc3MiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuaTjeS9nCIsDQogICAgICAgICAga2V5OiAiYWN0aW9uIiwNCiAgICAgICAgICB3aWR0aDogMTUwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgIGlmICh0aGlzLnBlcm1UeXBlcy5pbmNsdWRlcygiZWRpdCIpKSB7DQogICAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICJCdXR0b24iLA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwNCiAgICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICI1cHgiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHt9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi57yW6L6RIg0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICJCdXR0b24iLA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsDQogICAgICAgICAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7fQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgIuWIoOmZpCINCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFsNCiAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgIkJ1dHRvbiIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHt9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi5Yig6ZmkIg0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgZGF0YTogWw0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogIkpvaG4gQnJvd24iLA0KICAgICAgICAgIGFnZTogMTgsDQogICAgICAgICAgYWRkcmVzczogIk5ldyBZb3JrIE5vLiAxIExha2UgUGFyayINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICJKaW0gR3JlZW4iLA0KICAgICAgICAgIGFnZTogMjQsDQogICAgICAgICAgYWRkcmVzczogIkxvbmRvbiBOby4gMSBMYWtlIFBhcmsiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAiSm9lIEJsYWNrIiwNCiAgICAgICAgICBhZ2U6IDMwLA0KICAgICAgICAgIGFkZHJlc3M6ICJTeWRuZXkgTm8uIDEgTGFrZSBQYXJrIg0KICAgICAgICB9DQogICAgICBdDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBhdmF0b3JQYXRoKCkgew0KICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5hdmF0b3JJbWdQYXRoOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXRNZXRhKCkgew0KICAgICAgaWYgKHRoaXMuJHJvdXRlLm1ldGEucGVybVR5cGVzKSB7DQogICAgICAgIHRoaXMucGVybVR5cGVzID0gdGhpcy4kcm91dGUubWV0YS5wZXJtVHlwZXM7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuaW5pdE1ldGEoKTsNCiAgICB0aGlzLnJvbGVzID0gdGhpcy5nZXRTdG9yZSgicm9sZXMiKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["access.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"access.vue","sourceRoot":"src/views/access","sourcesContent":["<style lang=\"less\">\r\n@import \"../../styles/common.less\";\r\n@import \"./access.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"access\">\r\n    <Row>\r\n      <Col :lg=\"24\" :xl=\"8\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-contact\" style=\"margin-right:5px;\"></Icon>当前用户\r\n          </p>\r\n          <div class=\"access-user-con access-current-user-con\">\r\n            <img :src=\"avatorPath\" alt />\r\n            <p>当前用户本页面拥有按钮权限:</p>\r\n            <b>{{ permTypes }}</b>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :lg=\"24\" :xl=\"16\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-apps\" style=\"margin-right:5px;\"></Icon>当前用户本页面拥有的按钮操作\r\n          </p>\r\n          <div class=\"access-user-con access-change-access-con\">\r\n            <Col span=\"4\" class=\"buttons\">\r\n              <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\r\n                <Button v-has=\"'add'\" type=\"primary\">添加按钮</Button>\r\n                <Button v-has=\"'edit'\">编辑按钮</Button>\r\n                <Button v-has=\"'delete'\" type=\"error\">删除按钮</Button>\r\n              </Row>\r\n            </Col>\r\n            <Col span=\"17\" class=\"padding-left-10\">\r\n              <Row type=\"flex\" justify=\"center\" align=\"middle\" class=\"access-change-access-con-row\">\r\n                <p>\r\n                  您可以通过更换测试用户账号：\r\n                  <code>test</code>或\r\n                  <code>test2</code> 密码：\r\n                  <code>123456</code>，然后观察该页面按钮以及部门相关数据权限的变化\r\n                  <br />\r\n                  <br />自定义权限标签：\r\n                  <code>v-has</code>，示例：\r\n                  <code>{{example}}</code>\r\n                  <br />\r\n                  <br />说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮\r\n                </p>\r\n              </Row>\r\n            </Col>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n    <Row>\r\n      <Col :lg=\"24\" :xl=\"14\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-grid\" style=\"margin-right:5px;\"></Icon>表格中权限判断\r\n          </p>\r\n          <div class=\"content-table\">\r\n            <Alert show-icon>\r\n              iView Table组件已支持 slot-scope 用法，建议使用该新用法。\r\n              以下为Render函数中权限按钮示例\r\n            </Alert>\r\n            <Table border :columns=\"columns\" :data=\"data\"></Table>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :lg=\"24\" :xl=\"10\" style=\"padding:0 10px 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-contacts\" style=\"margin-right:5px;\"></Icon>通过当前用户角色显示\r\n          </p>\r\n          <p slot=\"extra\">无需配置，全局可用</p>\r\n          <Row class=\"content-role\">\r\n            <div class=\"access-user-roles\">\r\n              <p>当前用户拥有角色:</p>\r\n              <b>{{ roles }}</b>\r\n            </div>\r\n            <div class=\"btns\">\r\n              <Button v-hasRole=\"'ROLE_USER'\" type=\"primary\" style=\"margin-right:5px;\">添加按钮</Button>\r\n              <Button v-hasRole=\"'ROLE_TEST'\" type=\"error\">删除按钮</Button>\r\n              <Button v-hasRole=\"'ROLE_ADMIN'\">编辑按钮</Button>\r\n            </div>\r\n            <div class=\"role-demo\">\r\n              自定义角色权限标签：\r\n              <code>v-hasRole</code>\r\n              <br />\r\n              <br />示例：\r\n              <code>{{exampleRole}}</code>\r\n            </div>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from \"js-cookie\";\r\nexport default {\r\n  name: \"access_index\",\r\n  data() {\r\n    return {\r\n      permTypes: [],\r\n      roles: [],\r\n      example: \"<Button v-has=\\\"'add'\\\">添加按钮</Button>\",\r\n      exampleRole: \"<Button v-hasRole=\\\"'ROLE_ADMIN'\\\">添加按钮</Button>\",\r\n      columns: [\r\n        {\r\n          title: \"姓名\",\r\n          key: \"name\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Icon\", {\r\n                props: {\r\n                  type: \"ios-person\"\r\n                },\r\n                style: {\r\n                  margin: \"0 5px 3px 0\"\r\n                }\r\n              }),\r\n              h(\"strong\", params.row.name)\r\n            ]);\r\n          }\r\n        },\r\n        {\r\n          title: \"年龄\",\r\n          key: \"age\"\r\n        },\r\n        {\r\n          title: \"地址\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 150,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            if (this.permTypes.includes(\"edit\")) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"primary\",\r\n                      size: \"small\"\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\"\r\n                    },\r\n                    on: {\r\n                      click: () => {}\r\n                    }\r\n                  },\r\n                  \"编辑\"\r\n                ),\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\"\r\n                    },\r\n                    on: {\r\n                      click: () => {}\r\n                    }\r\n                  },\r\n                  \"删除\"\r\n                )\r\n              ]);\r\n            } else {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\"\r\n                    },\r\n                    on: {\r\n                      click: () => {}\r\n                    }\r\n                  },\r\n                  \"删除\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      data: [\r\n        {\r\n          name: \"John Brown\",\r\n          age: 18,\r\n          address: \"New York No. 1 Lake Park\"\r\n        },\r\n        {\r\n          name: \"Jim Green\",\r\n          age: 24,\r\n          address: \"London No. 1 Lake Park\"\r\n        },\r\n        {\r\n          name: \"Joe Black\",\r\n          age: 30,\r\n          address: \"Sydney No. 1 Lake Park\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    avatorPath() {\r\n      return localStorage.avatorImgPath;\r\n    }\r\n  },\r\n  methods: {\r\n    initMeta() {\r\n      if (this.$route.meta.permTypes) {\r\n        this.permTypes = this.$route.meta.permTypes;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.initMeta();\r\n    this.roles = this.getStore(\"roles\");\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}