{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\sys\\out-call\\callTaskDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\sys\\out-call\\callTaskDetail.vue","mtime":1614579763381},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRDYWxsVGFza0RldGFpbEFsbCwNCiAgZ2V0Q2FsbFRhc2tBbGxMaXN0cywgICAgICAgLy/ojrflj5bku7vliqHorrDlvZUNCiAgZ2V0Q2FsbFRhc2tCYXRjaEFsbExpc3RzLCAgLy/moLnmja7ku7vliqFpZCzojrflj5bmibnmrKHorrDlvZUNCiAgZ2V0UmVzdWx0QWxsTGlzdHMsICAgICAgICAgLy/moLnmja7ku7vliqFpZCzojrflj5bokKXplIDnu5PmnpwNCiAgZ2V0Q2FsbFRhc2tIaXN0b3J5LCAgICAgICAgIC8v5qC55o2u5riF5Y2VSWTojrflj5bljoblj7LmlbDmja4NCiAgZGVsZXRlQ2FsbFRhc2tCeUlkLA0KICBnZXRCbGFja0xpc3RHcm91cHMsDQogIGVkaXRCbGFja0xpc3QsDQp9IGZyb20gIkAvYXBpL2luZGV4IjsNCmltcG9ydCB1c2VyQ2hvb3NlIGZyb20gIkAvdmlld3Mvc3lzL291dC1jYWxsL3VzZXItY2hvb3NlIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgIGNvbXBvbmVudHM6IHsNCiAgICB1c2VyQ2hvb3NlDQogIH0sDQogIG5hbWU6ICJjYWxsVGFza0RldGFpbC1tYW5hZ2UiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBoZWlnaHQ6IDUxMCwNCiAgICAgIHNob3dVc2VyOiBmYWxzZSwNCiAgICAgIHNob3dUeXBlOiAiMCIsDQogICAgICBvcGVuU2VhcmNoOiBmYWxzZSwNCiAgICAgIG9wZW5UaXA6IHRydWUsDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIHJlYWRpbmc6IGZhbHNlLA0KICAgICAgZHJvcDogZmFsc2UsDQogICAgICBibGFja0xpc3RJdGVtczpbXSwNCiAgICAgIGNoZWNrQ29kZUxvYWRpbmc6ZmFsc2UsDQogICAgICBibGFja0xpc3RNb2JpbGVWaXNpYmxlVGl0bGU6IuaWsOWinum7keWQjeWNlSIsDQogICAgICBibGFja0xpc3RNb2JpbGVWaXNpYmxlOmZhbHNlLA0KICAgICAgYmxhY2tMaXN0Rm9ybTp7Z3JvdXBJZDoiIixyZW1hcms6IiIscmVzb3VyY2U6IiJ9LA0KDQoNCiAgICAgIHBhZ2VOdW1iZXJEZXRhaWw6IDEsDQogICAgICBwYWdlU2l6ZURldGFpbDogMTAsDQogICAgICBtb2RhbERldGFpbFZpc2libGU6IGZhbHNlLCAvLyDmt7vliqDmiJbnvJbovpHmmL7npLoNCiAgICAgIG1vZGFsRGV0YWlsVGl0bGU6ICIiLCAvLyDmt7vliqDmiJbnvJbovpHmoIfpopgNCiAgICAgIGxvYWRpbmdEZXRhaWw6IGZhbHNlLCAvLyDooajmoLzliqDovb3nirbmgIENCiAgICAgIGRhdGFEZXRhaWw6IFtdLCAvL+ihqOWNleaVsOaNrg0KICAgICAgdG90YWxEZXRhaWw6IDAsIC8vIOihqOWNleaVsOaNruaAu+aVsA0KICAgICAgc2VhcmNoRGV0YWlsRm9ybTogew0KICAgICAgICBwYWdlTnVtYmVyRGV0YWlsOiAxLCAvLyDlvZPliY3pobXmlbANCiAgICAgICAgcGFnZVNpemVEZXRhaWw6IDEwLCAvLyDpobXpnaLlpKflsI8NCiAgICAgICAgc29ydDogImNyZWF0ZV90aW1lIiwgLy8g6buY6K6k5o6S5bqP5a2X5q61DQogICAgICAgIG9yZGVyOiAiZGVzYyIsIC8vIOm7mOiupOaOkuW6j+aWueW8jw0KICAgICAgfSwNCiAgICAgIGNvbHVtbnNEZXRhaWw6IFsNCiAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogImluZGV4IiwNCiAgICAgICAgICAgIHdpZHRoOiA2MCwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgeyAgdGl0bGU6ICLku7vliqHlkI3np7AiLCBrZXk6ICJ0YXNrTmFtZSIsIG1pbldpZHRoOiAxMjV9LA0KICAgICAgICB7ICB0aXRsZTogIuaJueasoeWQjeensCIsIGtleTogImJhdGNoTmFtZSIsIG1pbldpZHRoOiAxMjV9LA0KICAgICAgICB7ICB0aXRsZTogIuaJueasoeexu+WeiyIsIGtleTogImJhdGNoVHlwZSIsIG1pbldpZHRoOiAxMjV9LA0KICAgICAgICB7ICB0aXRsZTogIuWIhumFjeWdkOW4rSIsIGtleTogIm5pY2tOYW1lIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5omL5py65Y+356CBIiwga2V5OiAibW9iaWxlTnVtYmVyIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5ZG85Y+r5qyh5pWwIiwga2V5OiAiY2FsbENvdW50IiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5ZG85Y+r54q25oCBIiwga2V5OiAiY2FsbFN0YXR1cyIsIG1pbldpZHRoOiAxMjV9LA0KICAgICAgICB7ICB0aXRsZTogIuacgOi/keWRvOWPq+aXtumXtCIsIGtleTogImxhc3RDYWxsVGltZSIsIG1pbldpZHRoOiAxMjV9LA0KICAgICAgICB7ICB0aXRsZTogIuWbnuiuv+aXtumXtCIsIGtleTogInZpc2l0ZWREYXRlIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi6JCl6ZSA57uT5p6cIiwga2V5OiAibWFya2V0aW5nUmVzdWx0IiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5ZG85Y+r57uT5p6cIiwga2V5OiAiY2FsbFJlc3VsdCIsIG1pbldpZHRoOiAxMjV9LA0KICAgICAgICB7ICB0aXRsZTogIuWkh+azqCIsIGtleTogInJlbWFyayIsIG1pbldpZHRoOiAxMjV9LA0KICAgICAgICB7ICB0aXRsZTogIuWIm+W7uuaXtumXtCIsIGtleTogImNyZWF0ZVRpbWUiLCBzb3J0YWJsZTogdHJ1ZSwgc29ydFR5cGU6ICJkZXNjIiwgd2lkdGg6IDE4MCB9DQogICAgICBdLA0KICAgICAgZHJvcERvd25Db250ZW50OiAi5bGV5byAIiwNCiAgICAgIGRyb3BEb3duSWNvbjogImlvcy1hcnJvdy1kb3duIiwNCiAgICAgIHNlbGVjdENvdW50OiAwLA0KICAgICAgc2VsZWN0TGlzdDogW10sDQogICAgICB0YXNrTGlzdDogW10sICANCiAgICAgIGJhdGNoTGlzdDogW10sIA0KICAgICAgbWFya2V0aW5nUmVzdWx0TGlzdDogW10sDQogICAgICBzZWFyY2hGb3JtOiB7DQogICAgICAgIHRhc2tJZDoiIiwNCiAgICAgICAgdGFza0lkdGV4dDoiIiwNCiAgICAgICAgYmF0Y2hJZDoiIiwNCiAgICAgICAgYWxsU3RhcnRzOiIiLA0KICAgICAgICByZXR1cm5WaXNpdDoiIiwNCiAgICAgICAgbWFya2V0aW5nUmVzdWx0OiIiLA0KICAgICAgICBjYWxsU3RhdHVzOiIiLA0KICAgICAgICBjYWxsUmVzdWx0OiIiLA0KICAgICAgICBzZWF0VXNlcklkczoiIiwNCiAgICAgICAgbW9iaWxlTnVtYmVyOiIiLA0KICAgICAgICBwYWdlTnVtYmVyOiAxLA0KICAgICAgICBwYWdlU2l6ZTogMTAsDQogICAgICAgIHNvcnQ6ICJjcmVhdGVfdGltZSIsDQogICAgICAgIG9yZGVyOiAiZGVzYyINCiAgICAgIH0sDQogICAgICBzZWxlY3REYXRlOiBudWxsLA0KICAgICAgY29sdW1uczogWw0KICAgICAgICB7DQogICAgICAgICAgdHlwZTogInNlbGVjdGlvbiIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIg0KICAgICAgICB9LA0KICAgICAgICB7ICB0aXRsZTogIuS7u+WKoeWQjeensCIsIGtleTogInRhc2tOYW1lIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5om55qyh5ZCN56ewIiwga2V5OiAiYmF0Y2hOYW1lIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5om55qyh57G75Z6LIiwga2V5OiAiYmF0Y2hUeXBlIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5YiG6YWN5Z2Q5bitIiwga2V5OiAibmlja05hbWUiLCBtaW5XaWR0aDogMTI1fSwNCiAgICAgICAgeyAgdGl0bGU6ICLmiYvmnLrlj7fnoIEiLCBrZXk6ICJtb2JpbGVOdW1iZXIiLCBtaW5XaWR0aDogMTI1fSwNCiAgICAgICAgeyAgdGl0bGU6ICLlkbzlj6vmrKHmlbAiLCBrZXk6ICJjYWxsQ291bnQiLCBtaW5XaWR0aDogMTI1fSwNCiAgICAgICAgeyAgdGl0bGU6ICLlkbzlj6vnirbmgIEiLCBrZXk6ICJjYWxsU3RhdHVzIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5pyA6L+R5ZG85Y+r5pe26Ze0Iiwga2V5OiAibGFzdENhbGxUaW1lIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5Zue6K6/5pe26Ze0Iiwga2V5OiAidmlzaXRlZERhdGUiLCBtaW5XaWR0aDogMTI1fSwNCiAgICAgICAgeyAgdGl0bGU6ICLokKXplIDnu5PmnpwiLCBrZXk6ICJtYXJrZXRpbmdSZXN1bHQiLCBtaW5XaWR0aDogMTI1fSwNCiAgICAgICAgeyAgdGl0bGU6ICLlkbzlj6vnu5PmnpwiLCBrZXk6ICJjYWxsUmVzdWx0IiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5aSH5rOoIiwga2V5OiAicmVtYXJrIiwgbWluV2lkdGg6IDEyNX0sDQogICAgICAgIHsgIHRpdGxlOiAi5Yib5bu65pe26Ze0Iiwga2V5OiAiY3JlYXRlVGltZSIsIHNvcnRhYmxlOiB0cnVlLCBzb3J0VHlwZTogImRlc2MiLCB3aWR0aDogMTgwIH0NCiAgICAgIF0sDQogICAgICBkYXRhOiBbXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCkgew0KICAgICAgdGhpcy5nZXRDYWxsVGFza0xpc3QoKTsNCiAgICB9LA0KICAgIGdldENhbGxUYXNrTGlzdCgpew0KICAgICAgICBnZXRDYWxsVGFza0FsbExpc3RzKHt9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgdGhpcy50YXNrTGlzdCA9IHJlcy5yZXN1bHQubGlzdDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRMaXN0KCl7DQogICAgICB2YXIgdGFza0lkID0gdGhpcy5zZWFyY2hGb3JtLnRhc2tJZDsNCiAgICAgIGlmKCB0YXNrSWQhPW51bGwgJiYgdGFza0lkICE9Jycpew0KICAgICAgICAgIGxldCBpZHMgPSAiIjsNCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhc2tJZC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZHMgKz0gdGFza0lkW2ldICsgIiwiOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZHMgPSBpZHMuc3Vic3RyaW5nKDAsIGlkcy5sZW5ndGggLSAxKTsNCiAgICAgICAgICB0aGlzLmdldFJlc3VsdEFsbChpZHMpOw0KICAgICAgICAgIHRoaXMuZ2V0YmF0Y2hMaXN0KGlkcyk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmJhdGNoSWQ9IiI7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5tYXJrZXRpbmdSZXN1bHQ9IiI7DQogICAgICAgIHRoaXMuYmF0Y2hMaXN0ID0gW107DQogICAgICAgIHRoaXMubWFya2V0aW5nUmVzdWx0TGlzdCA9IFtdOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0YmF0Y2hMaXN0KGlkcykgew0KICAgICAgICBnZXRDYWxsVGFza0JhdGNoQWxsTGlzdHMoe3Rhc2tJZHM6aWRzfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoTGlzdD1yZXMucmVzdWx0Lmxpc3Q7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0UmVzdWx0QWxsKGlkcyl7DQogICAgICAgIGdldFJlc3VsdEFsbExpc3RzKHt0YXNrSWRzOmlkc30pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgdGhpcy5tYXJrZXRpbmdSZXN1bHRMaXN0ID0gcmVzLnJlc3VsdC5saXN0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHN1Ym1pdEJhdGNoVXNlcih2KXsNCiAgICAgIGxldCBpZHMgPSAiIjsNCiAgICAgIHYuZm9yRWFjaChmdW5jdGlvbihlKSB7DQogICAgICAgIGlkcyArPSBlLmlkICsgIiwiOw0KICAgICAgfSk7DQogICAgICBpZHMgPSBpZHMuc3Vic3RyaW5nKDAsIGlkcy5sZW5ndGggLSAxKTsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5zZWF0VXNlcklkcyA9IGlkczsNCiAgICB9LA0KICAgIGNoYW5nZVNlbGVjdChlKSB7DQogICAgICB0aGlzLnNlbGVjdExpc3QgPSBlOw0KICAgICAgdGhpcy5zZWxlY3RDb3VudCA9IGUubGVuZ3RoOw0KICAgICAgaWYodGhpcy5zZWxlY3RDb3VudCA+IDApew0KICAgICAgICAgdGhpcy5vcGVuVGlwID0gdHJ1ZTsNCiAgICAgIH1lbHNlew0KICAgICAgICAgdGhpcy5vcGVuVGlwID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2goKSB7DQogICAgICB0aGlzLnNlbGVjdExpc3QgPSAiIjsNCiAgICAgIHRoaXMuc2VsZWN0Q291bnQgPSAwOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VtYmVyID0gMTsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IDEwOw0KICAgICAgdGhpcy5nZXRDYWxsVGFza0RldGFpbExpc3QoKTsNCiAgICB9LA0KICAgIGhhbmRsZVJlc2V0KCkgew0KICAgICAgdGhpcy4kcmVmcy5zZWFyY2hGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IDE7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZVNpemUgPSAxMDsNCiAgICAgIHRoaXMuc2VsZWN0RGF0ZSA9IG51bGw7DQogICAgICB0aGlzLnNlYXJjaEZvcm0uc3RhcnREYXRlID0gIiI7DQogICAgICB0aGlzLnNlYXJjaEZvcm0uZW5kRGF0ZSA9ICIiOw0KICAgICAgdGhpcy4kcmVmcy5kZXAuY2xlYXJTZWxlY3QoKTsNCiAgICB9LA0KICAgIHNlbGVjdERhdGVSYW5nZSh2KSB7DQogICAgICBpZiAodikgew0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0uc3RhcnREYXRlID0gdlswXTsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmVuZERhdGUgPSB2WzFdOw0KICAgICAgfQ0KICAgIH0sDQogICAgZHJvcERvd24oKSB7DQogICAgICBpZiAodGhpcy5kcm9wKSB7DQogICAgICAgIHRoaXMuZHJvcERvd25Db250ZW50ID0gIuWxleW8gCI7DQogICAgICAgIHRoaXMuZHJvcERvd25JY29uID0gImlvcy1hcnJvdy1kb3duIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZHJvcERvd25Db250ZW50ID0gIuaUtui1tyI7DQogICAgICAgIHRoaXMuZHJvcERvd25JY29uID0gImlvcy1hcnJvdy11cCI7DQogICAgICB9DQogICAgICB0aGlzLmRyb3AgPSAhdGhpcy5kcm9wOw0KICAgIH0sDQogICAgY2hhbmdlUGFnZSh2KSB7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IHY7DQogICAgICB0aGlzLmdldENhbGxUYXNrRGV0YWlsTGlzdCgpOw0KICAgICAgdGhpcy5jbGVhclNlbGVjdEFsbCgpOw0KICAgIH0sDQogICAgY2hhbmdlUGFnZVNpemUodikgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gdjsNCiAgICAgIHRoaXMuZ2V0Q2FsbFRhc2tEZXRhaWxMaXN0KCk7DQogICAgfSwNCiAgICBjbGVhclNlbGVjdEFsbCgpIHsNCiAgICAgIHRoaXMuJHJlZnMudGFibGUuc2VsZWN0QWxsKGZhbHNlKTsNCiAgICB9LA0KICAgIHNob3dTZWxlY3QoZSkgew0KICAgICAgdGhpcy5zZWxlY3RMaXN0ID0gZTsNCiAgICAgIHRoaXMuc2VsZWN0Q291bnQgPSBlLmxlbmd0aDsNCiAgICB9LA0KICAgIGNoYW5nZVNvcnQoZSkgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnNvcnQgPSBlLmtleTsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5vcmRlciA9IGUub3JkZXI7DQogICAgICBpZiAoZS5vcmRlciA9PSAibm9ybWFsIikgew0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0ub3JkZXIgPSAiIjsNCiAgICAgIH0NCiAgICAgIHRoaXMuZ2V0Q2FsbFRhc2tEZXRhaWxMaXN0KCk7DQogICAgfSwNCiAgICBnZXRDYWxsVGFza0RldGFpbExpc3QoKSB7DQogICAgICAgIHZhciB0YXNrSWQ9dGhpcy5zZWFyY2hGb3JtLnRhc2tJZDsgDQogICAgICAgIGlmKHRhc2tJZCAhPW51bGwgJiYgdGFza0lkICE9Jycpew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIHZhciBmb3JtZGF0YT17fTsNCiAgICAgICAgICAgIGZvcih2YXIgaSBpbiB0aGlzLnNlYXJjaEZvcm0pew0KICAgICAgICAgICAgICBpZih0aGlzLnNlYXJjaEZvcm1baV0gIT0gbnVsbCAmJiB0aGlzLnNlYXJjaEZvcm1baV0gIT0iIil7DQogICAgICAgICAgICAgICAgaWYoaT09J3Rhc2tJZCcgfHwgaT09J2JhdGNoSWQnIHx8IGk9PSdzZWF0VXNlcklkcycgfHwgaT09J2NhbGxSZXN1bHQnIHx8IGk9PSdjYWxsU3RhdHVzJyB8fCBpPT0nbWFya2V0aW5nUmVzdWx0Jyl7DQogICAgICAgICAgICAgICAgICAgIGZvcm1kYXRhW2ldPSAgdGhpcy5zZWFyY2hGb3JtW2ldLnRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGZvcm1kYXRhW2ldID0gdGhpcy5zZWFyY2hGb3JtW2ldOw0KICAgICAgICAgICAgICAgIH0gICANCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ2V0Q2FsbFRhc2tEZXRhaWxBbGwoZm9ybWRhdGEpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5yZXN1bHQubGlzdDsNCiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnJlc3VsdC50b3RhbDsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLku7vliqHlkI3np7Dlv4XpobvpgInmi6khIik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9LA0KICAgIGdldERldGFpbERhdGFMaXN0KCl7DQogICAgICB0aGlzLm1vZGFsRGV0YWlsVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLm1vZGFsRGV0YWlsVGl0bGU9IuiQpemUgOiusOW9lSI7DQogICAgICB0aGlzLmxvYWRpbmdEZXRhaWwgPSB0cnVlOw0KICAgICAgdGhpcy5zZWxlY3REZXRhaWxDb3VudCA9IDA7DQogICAgICB0aGlzLnNlYXJjaERldGFpbEZvcm0uZGV0YWlsSWQgPSB0aGlzLnNlbGVjdExpc3RbMF0uaWQ7DQogICAgICB0aGlzLnNlYXJjaERldGFpbEZvcm0ucGFnZU51bWJlciA9IHRoaXMuc2VhcmNoRGV0YWlsRm9ybS5wYWdlTnVtYmVyRGV0YWlsOw0KICAgICAgdGhpcy5zZWFyY2hEZXRhaWxGb3JtLnBhZ2VTaXplID0gdGhpcy5zZWFyY2hEZXRhaWxGb3JtLnBhZ2VTaXplRGV0YWlsOw0KDQogICAgICBnZXRDYWxsVGFza0hpc3RvcnkodGhpcy5zZWFyY2hEZXRhaWxGb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nRGV0YWlsID0gZmFsc2U7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuZGF0YURldGFpbCA9IHJlcy5yZXN1bHQubGlzdDsNCiAgICAgICAgICB0aGlzLnRvdGFsRGV0YWlsID0gcmVzLnJlc3VsdC50b3RhbDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICANCiAgICB9LA0KICAgIGNsZWFyRGV0YWlsKCkgew0KICAgICAgdGhpcy5tb2RhbERldGFpbFZpc2libGUgPSBmYWxzZTsNCiAgICAgIHRoaXMuZGF0YURldGFpbCA9ICIiOw0KICAgICAgdGhpcy50b3RhbERldGFpbCA9ICIiOw0KICAgICAgdGhpcy4kcmVmcy5zZWFyY2hEZXRhaWxGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgfSwNCiAgICBjaGFuZ2VEZXRhaWxQYWdlKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRGV0YWlsRm9ybS5wYWdlTnVtYmVyID0gdjsNCiAgICAgIHRoaXMuZ2V0RGV0YWlsRGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIGNoYW5nZURldGFpbFBhZ2VTaXplKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRGV0YWlsRm9ybS5wYWdlU2l6ZSA9IHY7DQogICAgICB0aGlzLmdldERldGFpbERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBkZWxBbGwoKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RDb3VudCA8PSAwKSB7DQogICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5oKo6L+Y5pyq6YCJ5oup6KaB5Yig6Zmk55qE5pWw5o2uIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oew0KICAgICAgICB0aXRsZTogIuehruiupOWIoOmZpCIsDQogICAgICAgIGNvbnRlbnQ6ICLmgqjnoa7orqTopoHliKDpmaTmiYDpgInnmoQgIiArIHRoaXMuc2VsZWN0Q291bnQgKyAiIOadoeaVsOaNrj8iLA0KICAgICAgICBsb2FkaW5nOiB0cnVlLA0KICAgICAgICBvbk9rOiAoKSA9PiB7DQogICAgICAgICAgbGV0IGlkcyA9ICIiOw0KICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIGlkcyArPSBlLmlkICsgIiwiOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOw0KICAgICAgICAgIGRlbGV0ZUNhbGxUYXNrQnlJZCh7ZGV0YWlsSWQ6IGlkc30pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOw0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3RBbGwoKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRDYWxsVGFza0RldGFpbExpc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRJbnNlcnRCbGFjaygpIHsgIA0KICAgICAgdGhpcy5ibGFja0xpc3RNb2JpbGVWaXNpYmxlID0gdHJ1ZTsNCiAgICAgIHRoaXMuYmxhY2tMaXN0Rm9ybS5yZXNvdXJjZSA9IHRoaXMuc2VsZWN0TGlzdFswXS5tb2JpbGVOdW1iZXI7DQogICAgICB0aGlzLmJsYWNrTGlzdEl0ZW1zID1bXTsNCiAgICAgIGdldEJsYWNrTGlzdEdyb3Vwcyh7fSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuYmxhY2tMaXN0SXRlbXMgPSByZXMucmVzdWx0Ow0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8v5o+Q5Lqk5paw5aKe6buR5ZCN5Y2VDQogICAgc3VibWl0QmxhY2tMaXN0KCl7DQogICAgICAgIGlmKCF0aGlzLmJsYWNrTGlzdEZvcm0uZ3JvdXBJZCl7DQogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+mAieaLqem7keWQjeWNlee7hCEiKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgZm9ybURhdGEgPSB7fTsNCiAgICAgICAgZm9yKHZhciBpIGluIHRoaXMuYmxhY2tMaXN0Rm9ybSl7DQogICAgICAgICAgICBpZih0aGlzLmJsYWNrTGlzdEZvcm1baV0hPSIiKXsNCiAgICAgICAgICAgICAgICBmb3JtRGF0YVtpXT10aGlzLmJsYWNrTGlzdEZvcm1baV07DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZm9ybURhdGEuZGVsRmxhZz0wOw0KICAgICAgICBmb3JtRGF0YS50eXBlPTA7DQogICAgICAgIGZvcm1EYXRhLm5hbWU9Zm9ybURhdGEucmVzb3VyY2U7DQogICAgICAgIGVkaXRCbGFja0xpc3QoZm9ybURhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcyh0aGlzLiR0KCJzdWNjZXNzIikpOw0KICAgICAgICAgICAgICB0aGlzLmJsYWNrTGlzdE1vYmlsZVZpc2libGU9ZmFsc2U7DQogICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3RBbGwoKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRDYWxsVGFza0RldGFpbExpc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBjbGVhckJsYWNrKCkgew0KICAgICAgdGhpcy5ibGFja0xpc3RNb2JpbGVWaXNpYmxlID0gZmFsc2U7DQogICAgICB0aGlzLiRyZWZzLmJsYWNrTGlzdEZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8vIOiuoeeul+mrmOW6pg0KICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAyMzApOw0KICAgIHRoaXMuaW5pdCgpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["callTaskDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"callTaskDetail.vue","sourceRoot":"src/views/sys/out-call","sourcesContent":["<style lang=\"less\">\r\n@import \"../../../styles/table-common.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n    <Card>\r\n      <Row v-show=\"openSearch\">\r\n        <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\">\r\n          <Row>\r\n          <FormItem label=\"任务名称\" prop=\"taskId\"> \r\n              <Select v-model=\"searchForm.taskId\" @on-change=\"getList()\" style=\"width: 150px\"  multiple>\r\n                <Option v-for=\"item in taskList\" :value=\"item.id\" :key=\"item.id\" :label=\"item.taskName\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.taskName }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"任务批次\" prop=\"batchId\">\r\n              <Select v-model=\"searchForm.batchId\" style=\"width: 150px\" multiple>\r\n                <Option v-for=\"item in batchList\" :value=\"item.id\" :key=\"item.id\"   :label=\"item.batchName\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.batchName }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"营销结果\" prop=\"marketingResult\">\r\n              <Select v-model=\"searchForm.marketingResult\" style=\"width: 150px\" multiple>\r\n                <Option v-for=\"item in marketingResultList\" :value=\"item.fullName\" :key=\"item.fullName\" :label=\"item.fullName\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.fullName }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"呼叫结果\" prop=\"callResult\">\r\n              <Select v-model=\"searchForm.callResult\" style=\"width:150px\" multiple>\r\n                <Option v-for=\"item in this.$store.state.dict.callResult\" :value=\"item.value\" :key=\"item.id\" :label=\"item.title\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.title }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"分配坐席\" prop=\"seatUserIds\">\r\n              <Input v-model=\"searchForm.seatUserIds\" v-show=\"false\" />\r\n              <user-choose  @click=\"submitBatchUser\" ref=\"user\" style=\"display: inline-block;\"></user-choose>               \r\n          </FormItem>\r\n          <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n            <Button @click.native=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n            <Button @click=\"handleReset\">重置</Button>\r\n            <a class=\"drop-down\" @click=\"dropDown\">\r\n              {{dropDownContent}}\r\n              <Icon :type=\"dropDownIcon\"></Icon>\r\n            </a>\r\n          </Form-item>\r\n          </Row>\r\n          <span v-if=\"drop\">\r\n          <Row>\r\n          <Form-item label=\"手机号\" prop=\"mobileNumber\">\r\n              <Input  type=\"text\"  v-model=\"searchForm.mobileNumber\" clearable placeholder=\"请输入手机号\" style=\"width: 130px\" />\r\n          </Form-item>\r\n          <FormItem label=\"分配状态\" prop=\"allStarts\">\r\n              <Select v-model=\"searchForm.allStarts\" clearable placeholder=\"请选择\" style=\"width:120px\">\r\n                <Option  value=\"1\" >已分配</Option>\r\n                <Option  value=\"2\" >未分配</Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"回访状态\" prop=\"returnVisit\">\r\n              <Select v-model=\"searchForm.returnVisit\" clearable placeholder=\"请选择\" style=\"width:120px\">\r\n                <Option  value=\"1\" >待回访</Option>\r\n                <Option  value=\"2\" >已回访</Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"呼叫状态\" prop=\"callStatus\">\r\n              <Select v-model=\"searchForm.callStatus\" clearable style=\"width:120px\" multiple>\r\n                <Option  value=\"0\"  ><span style=\"margin-right:10px;\">未执行</span> </Option>\r\n                <Option  value=\"1\"  ><span style=\"margin-right:10px;\">待后续</span> </Option>\r\n                <Option  value=\"2\"  ><span style=\"margin-right:10px;\">已完成</span> </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <Form-item label=\"创建时间\">\r\n            <DatePicker  v-model=\"selectDate\"  type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" \r\n              placeholder=\"选择起始时间\" style=\"width: 200px\" ></DatePicker>\r\n          </Form-item>\r\n          </Row>\r\n          </span>\r\n          \r\n        </Form>\r\n      </Row>\r\n      <Row class=\"operation\">\r\n        <Button type=\"dashed\" @click=\"openSearch=!openSearch\">{{openSearch ? \"关闭搜索\" : \"开启搜索\"}}</Button>\r\n        <Button type=\"primary\" icon=\"ios-search\" v-show=\"selectCount > 0  && selectCount < 2\" @click=\"getDetailDataList\">营销记录</Button>\r\n        \r\n        <Button type=\"primary\" icon=\"md-add\" v-show=\"selectCount > 0  && selectCount < 2\" @click=\"getInsertBlack\">添加黑名单</Button>\r\n        <Button @click=\"delAll\" v-show=\"selectCount > 0\" icon=\"md-trash\">批量删除</Button>\r\n      </Row>\r\n      <Row v-show=\"openTip && selectCount > 0\">\r\n        <Alert show-icon>\r\n          已选择\r\n          <span class=\"select-count\">{{selectCount}}</span> 项\r\n          <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n        </Alert>\r\n      </Row>\r\n      <Row>\r\n        <Table\r\n          :loading=\"loading\"\r\n          :columns=\"columns\"\r\n          :data=\"data\"\r\n          sortable=\"custom\"\r\n          @on-sort-change=\"changeSort\"\r\n          @on-selection-change=\"showSelect\"\r\n          ref=\"table\"\r\n        ></Table>\r\n      </Row>\r\n      <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n        <Page\r\n          :current=\"searchForm.pageNumber\"\r\n          :total=\"total\"\r\n          :page-size=\"searchForm.pageSize\"\r\n          @on-change=\"changePage\"\r\n          @on-page-size-change=\"changePageSize\"\r\n          :page-size-opts=\"[10,20,50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n        ></Page>\r\n      </Row>\r\n    </Card>\r\n\r\n      <!--添加黑名单-开始--->\r\n      <Modal :title=\"blackListMobileVisibleTitle\"\r\n              v-model=\"blackListMobileVisible\" :closable=\"false\" :mask-closable=\"false\" :width=\"500\">\r\n          <Form ref=\"blackListForm\" :model=\"blackListForm\" :label-width=\"120\" label-position=\"right\" style=\"width:450px\">\r\n              \r\n              <FormItem label=\"黑名单组\" prop=\"type\">\r\n                  <Select v-model=\"blackListForm.groupId\">\r\n                     <Option v-for=\"(item, index) in blackListItems\" :key=\"index\" :value=\"item.id\" >{{ item.name }}</Option>\r\n                  </Select>\r\n              </FormItem>\r\n              <FormItem label=\"手机号码\" prop=\"resource\">\r\n                  <Input  v-model=\"blackListForm.resource\" :disabled=\"true\" />\r\n              </FormItem>\r\n              <FormItem label=\"备注\" prop=\"remark\">\r\n                  <Input v-model=\"blackListForm.remark\"/>\r\n              </FormItem>\r\n          </Form>\r\n          <div slot=\"footer\">\r\n              <Button type=\"text\" @click=\"clearBlack\">{{ $t(\"cancel\") }}</Button>\r\n              <Button type=\"primary\" :loading=\"checkCodeLoading\" @click=\"submitBlackList\" >{{ $t(\"save\") }}</Button>\r\n          </div> \r\n      </Modal>\r\n      <!--添加黑名单-结束--->\r\n\r\n    <Modal :title=\"modalDetailTitle\"  v-model=\"modalDetailVisible\" :mask-closable=\"false\"  :width=\"800\" >\r\n      <Row>\r\n        <Table\r\n          :loading=\"loading\"\r\n          :columns=\"columnsDetail\"\r\n          :data=\"dataDetail\"\r\n          sortable=\"title\"\r\n          ref=\"tableDetail\"\r\n        ></Table>\r\n      </Row>\r\n      <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n        <Page\r\n          :current=\"pageNumberDetail\"\r\n          :total=\"totalDetail\"\r\n          :page-size=\"pageSizeDetail\"\r\n          @on-change=\"changeDetailPage\"\r\n          @on-page-size-change=\"changeDetailPageSize\"\r\n          :page-size-opts=\"[10, 20, 50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n        ></Page>\r\n      </Row>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"clearDetail\">取消</Button>\r\n      </div>\r\n    </Modal>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getCallTaskDetailAll,\r\n  getCallTaskAllLists,       //获取任务记录\r\n  getCallTaskBatchAllLists,  //根据任务id,获取批次记录\r\n  getResultAllLists,         //根据任务id,获取营销结果\r\n  getCallTaskHistory,         //根据清单Id获取历史数据\r\n  deleteCallTaskById,\r\n  getBlackListGroups,\r\n  editBlackList,\r\n} from \"@/api/index\";\r\nimport userChoose from \"@/views/sys/out-call/user-choose\";\r\nexport default {\r\n   components: {\r\n    userChoose\r\n  },\r\n  name: \"callTaskDetail-manage\",\r\n  data() {\r\n    return {\r\n      height: 510,\r\n      showUser: false,\r\n      showType: \"0\",\r\n      openSearch: false,\r\n      openTip: true,\r\n      loading: false,\r\n      reading: false,\r\n      drop: false,\r\n      blackListItems:[],\r\n      checkCodeLoading:false,\r\n      blackListMobileVisibleTitle:\"新增黑名单\",\r\n      blackListMobileVisible:false,\r\n      blackListForm:{groupId:\"\",remark:\"\",resource:\"\"},\r\n\r\n\r\n      pageNumberDetail: 1,\r\n      pageSizeDetail: 10,\r\n      modalDetailVisible: false, // 添加或编辑显示\r\n      modalDetailTitle: \"\", // 添加或编辑标题\r\n      loadingDetail: false, // 表格加载状态\r\n      dataDetail: [], //表单数据\r\n      totalDetail: 0, // 表单数据总数\r\n      searchDetailForm: {\r\n        pageNumberDetail: 1, // 当前页数\r\n        pageSizeDetail: 10, // 页面大小\r\n        sort: \"create_time\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n      },\r\n      columnsDetail: [\r\n        {\r\n            type: \"index\",\r\n            width: 60,\r\n            align: \"center\",\r\n        },\r\n        {  title: \"任务名称\", key: \"taskName\", minWidth: 125},\r\n        {  title: \"批次名称\", key: \"batchName\", minWidth: 125},\r\n        {  title: \"批次类型\", key: \"batchType\", minWidth: 125},\r\n        {  title: \"分配坐席\", key: \"nickName\", minWidth: 125},\r\n        {  title: \"手机号码\", key: \"mobileNumber\", minWidth: 125},\r\n        {  title: \"呼叫次数\", key: \"callCount\", minWidth: 125},\r\n        {  title: \"呼叫状态\", key: \"callStatus\", minWidth: 125},\r\n        {  title: \"最近呼叫时间\", key: \"lastCallTime\", minWidth: 125},\r\n        {  title: \"回访时间\", key: \"visitedDate\", minWidth: 125},\r\n        {  title: \"营销结果\", key: \"marketingResult\", minWidth: 125},\r\n        {  title: \"呼叫结果\", key: \"callResult\", minWidth: 125},\r\n        {  title: \"备注\", key: \"remark\", minWidth: 125},\r\n        {  title: \"创建时间\", key: \"createTime\", sortable: true, sortType: \"desc\", width: 180 }\r\n      ],\r\n      dropDownContent: \"展开\",\r\n      dropDownIcon: \"ios-arrow-down\",\r\n      selectCount: 0,\r\n      selectList: [],\r\n      taskList: [],  \r\n      batchList: [], \r\n      marketingResultList: [],\r\n      searchForm: {\r\n        taskId:\"\",\r\n        taskIdtext:\"\",\r\n        batchId:\"\",\r\n        allStarts:\"\",\r\n        returnVisit:\"\",\r\n        marketingResult:\"\",\r\n        callStatus:\"\",\r\n        callResult:\"\",\r\n        seatUserIds:\"\",\r\n        mobileNumber:\"\",\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        sort: \"create_time\",\r\n        order: \"desc\"\r\n      },\r\n      selectDate: null,\r\n      columns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {  title: \"任务名称\", key: \"taskName\", minWidth: 125},\r\n        {  title: \"批次名称\", key: \"batchName\", minWidth: 125},\r\n        {  title: \"批次类型\", key: \"batchType\", minWidth: 125},\r\n        {  title: \"分配坐席\", key: \"nickName\", minWidth: 125},\r\n        {  title: \"手机号码\", key: \"mobileNumber\", minWidth: 125},\r\n        {  title: \"呼叫次数\", key: \"callCount\", minWidth: 125},\r\n        {  title: \"呼叫状态\", key: \"callStatus\", minWidth: 125},\r\n        {  title: \"最近呼叫时间\", key: \"lastCallTime\", minWidth: 125},\r\n        {  title: \"回访时间\", key: \"visitedDate\", minWidth: 125},\r\n        {  title: \"营销结果\", key: \"marketingResult\", minWidth: 125},\r\n        {  title: \"呼叫结果\", key: \"callResult\", minWidth: 125},\r\n        {  title: \"备注\", key: \"remark\", minWidth: 125},\r\n        {  title: \"创建时间\", key: \"createTime\", sortable: true, sortType: \"desc\", width: 180 }\r\n      ],\r\n      data: [],\r\n      total: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getCallTaskList();\r\n    },\r\n    getCallTaskList(){\r\n        getCallTaskAllLists({}).then((res) => {\r\n            if (res.success) {\r\n               this.taskList = res.result.list;\r\n            }\r\n        });\r\n    },\r\n    getList(){\r\n      var taskId = this.searchForm.taskId;\r\n      if( taskId!=null && taskId !=''){\r\n          let ids = \"\";\r\n          for (var i = 0; i < taskId.length; i++) {\r\n              ids += taskId[i] + \",\";\r\n          }\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.getResultAll(ids);\r\n          this.getbatchList(ids);\r\n      }else{\r\n        this.searchForm.batchId=\"\";\r\n        this.searchForm.marketingResult=\"\";\r\n        this.batchList = [];\r\n        this.marketingResultList = [];\r\n      }\r\n    },\r\n    getbatchList(ids) {\r\n        getCallTaskBatchAllLists({taskIds:ids}).then((res) => {\r\n            if (res.success) {\r\n                this.batchList=res.result.list;\r\n            }\r\n        });\r\n    },\r\n    getResultAll(ids){\r\n        getResultAllLists({taskIds:ids}).then((res) => {\r\n            if(res.success) {\r\n              this.marketingResultList = res.result.list;\r\n            }\r\n        });\r\n    },\r\n    submitBatchUser(v){\r\n      let ids = \"\";\r\n      v.forEach(function(e) {\r\n        ids += e.id + \",\";\r\n      });\r\n      ids = ids.substring(0, ids.length - 1);\r\n      this.searchForm.seatUserIds = ids;\r\n    },\r\n    changeSelect(e) {\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n      if(this.selectCount > 0){\r\n         this.openTip = true;\r\n      }else{\r\n         this.openTip = false;\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.selectList = \"\";\r\n      this.selectCount = 0;\r\n      this.searchForm.pagember = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getCallTaskDetailList();\r\n    },\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.selectDate = null;\r\n      this.searchForm.startDate = \"\";\r\n      this.searchForm.endDate = \"\";\r\n      this.$refs.dep.clearSelect();\r\n    },\r\n    selectDateRange(v) {\r\n      if (v) {\r\n        this.searchForm.startDate = v[0];\r\n        this.searchForm.endDate = v[1];\r\n      }\r\n    },\r\n    dropDown() {\r\n      if (this.drop) {\r\n        this.dropDownContent = \"展开\";\r\n        this.dropDownIcon = \"ios-arrow-down\";\r\n      } else {\r\n        this.dropDownContent = \"收起\";\r\n        this.dropDownIcon = \"ios-arrow-up\";\r\n      }\r\n      this.drop = !this.drop;\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getCallTaskDetailList();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getCallTaskDetailList();\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    showSelect(e) {\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n    },\r\n    changeSort(e) {\r\n      this.searchForm.sort = e.key;\r\n      this.searchForm.order = e.order;\r\n      if (e.order == \"normal\") {\r\n        this.searchForm.order = \"\";\r\n      }\r\n      this.getCallTaskDetailList();\r\n    },\r\n    getCallTaskDetailList() {\r\n        var taskId=this.searchForm.taskId; \r\n        if(taskId !=null && taskId !=''){\r\n            this.loading = true;\r\n            var formdata={};\r\n            for(var i in this.searchForm){\r\n              if(this.searchForm[i] != null && this.searchForm[i] !=\"\"){\r\n                if(i=='taskId' || i=='batchId' || i=='seatUserIds' || i=='callResult' || i=='callStatus' || i=='marketingResult'){\r\n                    formdata[i]=  this.searchForm[i].toString();\r\n                }else{\r\n                    formdata[i] = this.searchForm[i];\r\n                }   \r\n              }\r\n            }\r\n            getCallTaskDetailAll(formdata).then(res => {\r\n              this.loading = false;\r\n              if (res.success) {\r\n                this.data = res.result.list;\r\n                this.total = res.result.total;\r\n              }\r\n            });\r\n        }else{\r\n            this.$Message.warning(\"任务名称必须选择!\");\r\n            return;\r\n        }\r\n    },\r\n    getDetailDataList(){\r\n      this.modalDetailVisible = true;\r\n      this.modalDetailTitle=\"营销记录\";\r\n      this.loadingDetail = true;\r\n      this.selectDetailCount = 0;\r\n      this.searchDetailForm.detailId = this.selectList[0].id;\r\n      this.searchDetailForm.pageNumber = this.searchDetailForm.pageNumberDetail;\r\n      this.searchDetailForm.pageSize = this.searchDetailForm.pageSizeDetail;\r\n\r\n      getCallTaskHistory(this.searchDetailForm).then((res) => {\r\n        this.loadingDetail = false;\r\n        if (res.success) {\r\n          this.dataDetail = res.result.list;\r\n          this.totalDetail = res.result.total;\r\n        }\r\n      });\r\n      \r\n    },\r\n    clearDetail() {\r\n      this.modalDetailVisible = false;\r\n      this.dataDetail = \"\";\r\n      this.totalDetail = \"\";\r\n      this.$refs.searchDetailForm.resetFields();\r\n    },\r\n    changeDetailPage(v) {\r\n      this.searchDetailForm.pageNumber = v;\r\n      this.getDetailDataList();\r\n    },\r\n    changeDetailPageSize(v) {\r\n      this.searchDetailForm.pageSize = v;\r\n      this.getDetailDataList();\r\n    },\r\n    delAll() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要删除的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除所选的 \" + this.selectCount + \" 条数据?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          deleteCallTaskById({detailId: ids}).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.clearSelectAll();\r\n              this.getCallTaskDetailList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    getInsertBlack() {  \r\n      this.blackListMobileVisible = true;\r\n      this.blackListForm.resource = this.selectList[0].mobileNumber;\r\n      this.blackListItems =[];\r\n      getBlackListGroups({}).then((res) => {\r\n        if (res.success) {\r\n          this.blackListItems = res.result;\r\n        }\r\n      });\r\n    },\r\n    //提交新增黑名单\r\n    submitBlackList(){\r\n        if(!this.blackListForm.groupId){\r\n            this.$Message.warning(\"请选择黑名单组!\");\r\n            return;\r\n        }\r\n        var formData = {};\r\n        for(var i in this.blackListForm){\r\n            if(this.blackListForm[i]!=\"\"){\r\n                formData[i]=this.blackListForm[i];\r\n            }\r\n        }\r\n        formData.delFlag=0;\r\n        formData.type=0;\r\n        formData.name=formData.resource;\r\n        editBlackList(formData).then((res) => {\r\n            if (res.success) {\r\n              this.$Message.success(this.$t(\"success\"));\r\n              this.blackListMobileVisible=false;\r\n              this.clearSelectAll();\r\n              this.getCallTaskDetailList();\r\n            }\r\n        });\r\n    },\r\n    clearBlack() {\r\n      this.blackListMobileVisible = false;\r\n      this.$refs.blackListForm.resetFields();\r\n    },\r\n  },\r\n  mounted() {\r\n    // 计算高度\r\n    this.height = Number(document.documentElement.clientHeight - 230);\r\n    this.init();\r\n  }\r\n};\r\n</script>"]}]}