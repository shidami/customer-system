{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\SetNode_Blacklist.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\SetNode_Blacklist.vue","mtime":1614579763271},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2dldEJsYWNrTGlzdEdyb3Vwc30gZnJvbSAiQC9hcGkvaW5kZXgiOw0KaW1wb3J0IHZvaWNlTWFuYWdlIGZyb20gIkAvdmlld3Mvc3lzL3ZvaWNlLW1hbmFnZS92b2ljZU1hbmFnZSI7DQp2YXIgZnJhbWUgPSBwYXJlbnQ7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTZXROb2RlX0JsYWNrbGlzdCIsDQogIGNvbXBvbmVudHM6e3ZvaWNlTWFuYWdlfSwNCiAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgIGxheVBhcmVudDp0cnVlLA0KICAgICAgb3BlbmVyaWQ6V0ZDb3JlLkdldFF1ZXJ5KCJvcGVuZXJpZCIpLA0KICAgICAgc3RlcGlkOldGQ29yZS5HZXRRdWVyeSgiaWQiKSwNCiAgICAgIGZsb3dkYXRhOnRvcC53TXlmbG93RGF0YSwNCiAgICAgIG5leHROb2RlSWRMaXN0Olt7dmFsdWU6MCx0ZXh0Oifml6AnfV0sDQogICAgICBibGFja0xpc3RHcm91cHM6W10sDQogICAgICBzZWxJbmRleDowLA0KICAgICAgc3RlcDonJywNCiAgICAgIGZvcm1JdGVtOnsNCiAgICAgICAgaWQ6JycsLy/oioLngrnlj7cNCiAgICAgICAgbmFtZTonJywvL+iKgueCueWQjeensA0KICAgICAgICBibGFja0dyb3VwSWQ6JycsLy/pu5HlkI3ljZXnu4QNCiAgICAgICAgaW5CbGFja2xpc3ROZXh0Tm9kZUlkOjAsLy/pu5HlkI3ljZXot7PovazoioLngrkNCiAgICAgICAgbm90SW5CbGFja2xpc3ROZXh0Tm9kZUlkOjAsLy/pnZ7pu5HlkI3ljZXot7PovazoioLngrkNCiAgICAgICAgc29ydDonJywvL+aOkuW6j+W6j+WPtw0KICAgICAgICBkZXNjcmliZTonJywvL+ivtOaYjg0KICAgICAgfSwNCiAgICAgIGluQmxhY2tsaXN0TmV4dE5vZGVJZFN0cjowLC8v6buR5ZCN5Y2V6Lez6L2s6IqC54K5Lee7keWumg0KICAgICAgbm90SW5CbGFja2xpc3ROZXh0Tm9kZUlkU3RyOjAsLy/pnZ7pu5HlkI3ljZXot7PovazoioLngrkt57uR5a6aDQogICAgICBmb3JtSXRlbVZhbGlkYXRlOnsNCiAgICAgICAgbmFtZTogW3sNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJwbGVhc2VFbnRlciIpLA0KICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgfV0sDQogICAgICAgIC8vIHJlcGxheUNvdW50OiBbew0KICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAvLyAgIG1lc3NhZ2U6IHRoaXMuJHQoInBsZWFzZUVudGVyIiksDQogICAgICAgIC8vICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAvLyB9XSwNCiAgICAgICAgLy8gbmV4dE5vZGVJZDogW3sNCiAgICAgICAgLy8gICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgLy8gICBtZXNzYWdlOiB0aGlzLiR0KCJwbGVhc2VFbnRlciIpLA0KICAgICAgICAvLyAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgLy8gfV0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6ew0KICAgIGluaXQoKXsNCiAgICAgIHRoaXMuaW5pdERhdGEoKTsNCiAgICAgIHRoaXMuZ2V0Z2V0QmxhY2tMaXN0R3JvdXAoKTsNCiAgICB9LA0KICAgIC8v6I635Y+W6buR5ZCN5Y2V5YiX6KGo57uEDQogICAgZ2V0Z2V0QmxhY2tMaXN0R3JvdXAoaWQpIHsNCiAgICAgIGdldEJsYWNrTGlzdEdyb3Vwcyh7fSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMuYmxhY2tMaXN0R3JvdXBzPXJlcy5yZXN1bHQ7DQogICAgICAgIHRoaXMuZm9ybUl0ZW0uYmxhY2tHcm91cElkPXJlcy5yZXN1bHRbMF0uaWQ7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGluaXREYXRhKCl7DQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgaWYgKGZyYW1lID09IG51bGwpIHJldHVybjsNCiAgICAgIHRoYW4uZmxvd2RhdGE9dG9wLndNeWZsb3dEYXRhOw0KICAgICAgdGhhbi5zdGVwID0gdGhhbi5mbG93ZGF0YS5nZXROb2RlKHRoYW4uc3RlcGlkKTsNCiAgICAgIGlmKHRoYW4uZmxvd2RhdGEubm9kZXMuc2l6ZSgpPjApew0KICAgICAgICB0aGFuLmZsb3dkYXRhLm5vZGVzLmVhY2goZnVuY3Rpb24gKG5vZGVJZCxub2RlLGluZGV4KXsNCiAgICAgICAgICBpZih0aGFuLnN0ZXAuY2hlY2tOZXh0Tm9kZUlzQWxsb3coIm5leHROb2RlSWQiLG5vZGUuaWQpKXsNCiAgICAgICAgICAgIHRoYW4ubmV4dE5vZGVJZExpc3QucHVzaCh7dmFsdWU6bm9kZS5pZCx0ZXh0Oltub2RlLmlkXSsnLScgKyBub2RlLmdldFRleHQoKX0pDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICB0aGlzLmluaXRTdGVwKHRoYW4uc3RlcCk7DQogICAgfSwNCiAgICBpbml0U3RlcChzdGVwKSB7DQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgaWYoc3RlcD09bnVsbHx8c3RlcD09dW5kZWZpbmVkKXsNCiAgICAgICAgdGhhbi5mb3JtSXRlbS5uYW1lPSfmlrDmtYHnqIsnOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGFuLmZvcm1JdGVtLmlkPXN0ZXAuaWQ7DQogICAgICB0aGFuLmZvcm1JdGVtLm5hbWU9c3RlcC5nZXRUZXh0KCk7DQogICAgICB0aGFuLmZvcm1JdGVtLmJsYWNrR3JvdXBJZD1zdGVwLmJsYWNrR3JvdXBJZDsNCiAgICAgIHRoYW4uZm9ybUl0ZW0uc29ydD1zdGVwLnNvcnQ7DQogICAgICB0aGFuLmZvcm1JdGVtLmRlc2NyaWJlPXN0ZXAuZGVzY3JpYmU7DQoNCiAgICAgIC8v6buR5ZCN5Y2V6Lez6L2s6IqC54K5DQogICAgICB0aGFuLlNob3dOb2RlUmVzdWx0KCJpbkJsYWNrbGlzdE5leHROb2RlSWQiLCIjaW5CbGFja2xpc3ROZXh0Tm9kZUlkIiwwKTsNCiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpew0KICAgICAgICAvL+mdnum7keWQjeWNlei3s+i9rOiKgueCuQ0KICAgICAgICB0aGFuLlNob3dOb2RlUmVzdWx0KCJub3RJbkJsYWNrbGlzdE5leHROb2RlSWQiLCIjbm90SW5CbGFja2xpc3ROZXh0Tm9kZUlkIiwwKTsNCiAgICAgIH0sNTApDQogICAgICAvL+i3s+i9rOiKgueCuQ0KICAgICAvLyB0aGFuLlNob3dOb2RlUmVzdWx0KCJuZXh0Tm9kZUlkIiwiI2Jhc2VfTmV4dE5vZGVJZCIsMCk7DQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdGhhbi5mb3JtSXRlbS5uZXh0Tm9kZUlkPXRoYW4ubmV4dE5vZGVJZFN0cjsNCiAgICAgIH0sNTAwKQ0KICAgIH0sDQogICAgYnRuT2soKXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICB2YXIgaXNGb3JtVmFsaWQgPSBuZXcgUm9hZFVJLlZhbGlkYXRlKCkudmFsaWRhdGVGb3JtKCJmb3JtMSIpOw0KICAgICAgaWYodGhpcy5mb3JtSXRlbS5yZXBsYXlDb3VudCA+IDEwfHx0aGlzLmZvcm1JdGVtLnJlcGxheUNvdW50IDwxKQ0KICAgICAgew0KICAgICAgICBXRkNvcmUuRGlhbG9nVXRpbHMudGlwRGlhbG9nKCLph43mkq3mrKHmlbDlnKgxLTEw5LmL6Ze0IiwyLDcpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLiRyZWZzWyJmb3JtSXRlbSJdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICB0aGFuLmNvbmZpcm0xKCk7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBidG5DYW5jZWwoKXsNCiAgICAgIG5ldyBSb2FkVUkuV2luZG93KCkuY2xvc2UoKTsNCiAgICB9LA0KICAgIGNvbmZpcm0xKCkgew0KICAgICAgdmFyIHRoYW49dGhpczsNCg0KICAgICAgdmFyIG9zdGVwPXsNCiAgICAgICAgdGV4dDp7DQogICAgICAgICAgdGV4dDp0aGFuLmZvcm1JdGVtLm5hbWUNCiAgICAgICAgfSwNCiAgICAgICAgc29ydDp0aGFuLmZvcm1JdGVtLnNvcnQsDQogICAgICAgIGRlc2NyaWJlOnRoYW4uZm9ybUl0ZW0uZGVzY3JpYmUsDQogICAgICAgIGJsYWNrR3JvdXBJZDp0aGFuLmZvcm1JdGVtLmJsYWNrR3JvdXBJZCwNCiAgICAgIH0NCg0KICAgICAgLy90aGlzLlNhdmVOb2RlUmVzdWx0KCJuZXh0Tm9kZUlkIiwiI2Jhc2VfTmV4dE5vZGVJZCIsIui3s+i9rOiKgueCuSIsMSk7DQogICAgICAvL+m7keWQjeWNlei3s+i9rOiKgueCuQ0KICAgICAgdGhhbi5TaG93Tm9kZVJlc3VsdCgiaW5CbGFja2xpc3ROZXh0Tm9kZUlkIiwiI2luQmxhY2tsaXN0TmV4dE5vZGVJZCIsMCk7DQogICAgICAvL+mdnum7keWQjeWNlei3s+i9rOiKgueCuQ0KICAgICAgdGhhbi5TaG93Tm9kZVJlc3VsdCgibm90SW5CbGFja2xpc3ROZXh0Tm9kZUlkIiwiI25vdEluQmxhY2tsaXN0TmV4dE5vZGVJZCIsMCk7DQoNCiAgICAgIC8v6buR5ZCN5Y2V6Lez6L2s6IqC54K5DQogICAgICB0aGFuLlNhdmVOb2RlUmVzdWx0KCJpbkJsYWNrbGlzdE5leHROb2RlSWQiLCIjaW5CbGFja2xpc3ROZXh0Tm9kZUlkIiwi6buR5ZCN5Y2V6Lez6L2s6IqC54K5IiwwKTsNCiAgICAgIC8v6Z2e6buR5ZCN5Y2V6Lez6L2s6IqC54K5DQogICAgICB0aGFuLlNhdmVOb2RlUmVzdWx0KCJub3RJbkJsYWNrbGlzdE5leHROb2RlSWQiLCIjbm90SW5CbGFja2xpc3ROZXh0Tm9kZUlkIiwi6Z2e6buR5ZCN5Y2V6Lez6L2s6IqC54K5IiwwKTsNCg0KICAgICAgdmFyIHBsYXlWb2ljZXMgPSBuZXcgcGFyZW50LldGQ29yZS5MaXN0KCk7DQogICAgICB2YXIgdmFySW5kZXggPSAxOw0KDQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdGhhbi5zdGVwLnJlc3RvcmUob3N0ZXApOw0KICAgICAgICBuZXcgUm9hZFVJLldpbmRvdygpLmNsb3NlKCk7DQogICAgICB9LDUwMCkNCiAgICB9LA0KICAgIC8v57uZTm9kZVJlc3VsdOaOp+S7tui1i+WAvA0KICAgIFNob3dOb2RlUmVzdWx0KHJlc3VsdE5hbWUsbmV4dE5vZGVDdGxJZCxpc0RlZmF1bHQpew0KICAgICAgdmFyIHRoYW49dGhpczsNCiAgICAgIGlmKHRoYW4uc3RlcC5nZXROb2RlUmVzdWx0KHJlc3VsdE5hbWUpICE9IG51bGwgJiYgdGhhbi5zdGVwLmdldE5vZGVSZXN1bHQocmVzdWx0TmFtZSkubmV4dE5vZGVJZCA+IDApDQogICAgICB7DQogICAgICAgIHRoYW4uZm9ybUl0ZW1bcmVzdWx0TmFtZV09cGFyc2VJbnQodGhhbi5zdGVwLmdldE5vZGVSZXN1bHQocmVzdWx0TmFtZSkubmV4dE5vZGVJZCk7DQogICAgICAgIHRoYW4ubmV4dE5vZGVJZFN0cj1wYXJzZUludCh0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKS5uZXh0Tm9kZUlkKTsNCiAgICAgICAgLy8kKG5leHROb2RlQ3RsSWQpLnZhbCh0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKS5uZXh0Tm9kZUlkKyIiKTsNCiAgICAgIH0NCiAgICAgIC8vIGlzRGVmYXVsdCA9IGlzRGVmYXVsdCAhPSB1bmRlZmluZWQgJiYgaXNEZWZhdWx0ICE9IG51bGwgPyBpc0RlZmF1bHQ6MDsNCiAgICAgIC8vICQobmV4dE5vZGVDdGxJZCkuYXR0cigiaXNEZWZhdWx0Iixpc0RlZmF1bHQpOw0KICAgIH0sDQogICAgLy/kv53lrZhOb2RlUmVzdWx05o6n5Lu25omA6YCJ5LiL5LiA6IqC54K5DQogICAgU2F2ZU5vZGVSZXN1bHQocmVzdWx0TmFtZSxuZXh0Tm9kZUN0bElkLGRlc2NyaWJlLGlzRGVmYXVsdCl7DQoNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZih0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKSAhPSBudWxsKXsNCiAgICAgICAgaWYodGhhbi5mb3JtSXRlbS5uZXh0Tm9kZUlkICE9IG51bGwgJiYgdGhhbi5mb3JtSXRlbS5uZXh0Tm9kZUlkICE9ICIiKQ0KICAgICAgICB7DQogICAgICAgICAgdmFyIG5vZGVSZXN1bHQgPSB0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKS5yZXN0b3JlKHsNCiAgICAgICAgICAgIG5leHROb2RlSWQ6aXNOYU4odGhhbi5mb3JtSXRlbVtyZXN1bHROYW1lXSkgPyAwIDogcGFyc2VJbnQodGhhbi5mb3JtSXRlbVtyZXN1bHROYW1lXSkgfHwgMCwNCiAgICAgICAgICAgIGlzRGVmYXVsdDppc0RlZmF1bHQgfHwgMA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGlmKG5vZGVSZXN1bHQgIT0gbnVsbCkgbm9kZVJlc3VsdC5kcmF3Tm9kZVJlc3VsdCgpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgIHRoYW4uc3RlcC5yZW1vdmVOb2RlUmVzdWx0KHJlc3VsdE5hbWUpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBlbHNlew0KICAgICAgICBpZih0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdICE9IG51bGwgJiYgdGhhbi5mb3JtSXRlbVtyZXN1bHROYW1lXSAhPSAiIikNCiAgICAgICAgew0KICAgICAgICAgIHZhciBub2RlUmVzdWx0ID0gdGhhbi5zdGVwLmNyZWF0ZU5vZGVSZXN1bHQoew0KICAgICAgICAgICAgbmFtZTpyZXN1bHROYW1lLA0KICAgICAgICAgICAgbmV4dE5vZGVJZDppc05hTih0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdKSA/IDAgOiBwYXJzZUludCh0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdKSB8fCAwLA0KICAgICAgICAgICAgaXNEZWZhdWx0OmlzRGVmYXVsdCB8fCAwLA0KICAgICAgICAgICAgZGVzY3JpYmU6ZGVzY3JpYmUNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBpZihub2RlUmVzdWx0ICE9IG51bGwpIG5vZGVSZXN1bHQuZHJhd05vZGVSZXN1bHQoKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8NCiAgICBzZWxWb2ljZUxpc3RJdGVtKGkpew0KICAgICAgdGhpcy5zZWxJbmRleD1pOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0KCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["SetNode_Blacklist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SetNode_Blacklist.vue","sourceRoot":"src/views/my-components/IVR","sourcesContent":["<template>\r\n  <Row style=\"padding-top: 20px;background: #fff;\">\r\n    <Col span=\"22\" offset=\"1\">\r\n      <!--      {{formItem}}-->\r\n      <!--      {{nextNodeIdStr}}-->\r\n      <Form class=\"ui-combination-form\" ref=\"formItem\" :model=\"formItem\" :rules=\"formItemValidate\" :label-width=\"120\">\r\n        <FormItem label=\"节点号\" prop=\"id\">\r\n          <Input v-model=\"formItem.id\" placeholder=\"请输入...\" disabled></Input>\r\n        </FormItem>\r\n        <FormItem label=\"节点名称\" prop=\"name\">\r\n          <Input v-model=\"formItem.name\" placeholder=\"请输入...\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"黑名单组\" prop=\"nextNodeId\">\r\n          <Select v-model=\"formItem.blackGroupId\">\r\n            <Option :value=\"item.id\" v-for=\"(item,i) in blackListGroups\" :key=\"i\">{{item.name}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"黑名单跳转节点\" prop=\"inBlacklistNextNodeId\">\r\n          <Select v-model=\"formItem.inBlacklistNextNodeId\">\r\n            <Option :value=\"item.value\" v-for=\"(item,i) in nextNodeIdList\" :key=\"i\">{{item.text}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"非黑名单跳转节点\" prop=\"notInBlacklistNextNodeId\">\r\n          <Select v-model=\"formItem.notInBlacklistNextNodeId\">\r\n            <Option :value=\"item.value\" v-for=\"(item,i) in nextNodeIdList\" :key=\"i\">{{item.text}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"说明\" prop=\"describe\">\r\n          <Input type=\"textarea\" v-model=\"formItem.describe\" placeholder=\"请输入...\"></Input>\r\n        </FormItem>\r\n        <FormItem>\r\n          <Button @click=\"btnOk\" type=\"primary\">确定</Button>\r\n          <Button @click=\"btnCancel\" style=\"margin-left: 8px\">取消</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </Col>\r\n  </Row>\r\n</template>\r\n\r\n<script>\r\nimport {getBlackListGroups} from \"@/api/index\";\r\nimport voiceManage from \"@/views/sys/voice-manage/voiceManage\";\r\nvar frame = parent;\r\nexport default {\r\n  name: \"SetNode_Blacklist\",\r\n  components:{voiceManage},\r\n  data(){\r\n    return{\r\n      layParent:true,\r\n      openerid:WFCore.GetQuery(\"openerid\"),\r\n      stepid:WFCore.GetQuery(\"id\"),\r\n      flowdata:top.wMyflowData,\r\n      nextNodeIdList:[{value:0,text:'无'}],\r\n      blackListGroups:[],\r\n      selIndex:0,\r\n      step:'',\r\n      formItem:{\r\n        id:'',//节点号\r\n        name:'',//节点名称\r\n        blackGroupId:'',//黑名单组\r\n        inBlacklistNextNodeId:0,//黑名单跳转节点\r\n        notInBlacklistNextNodeId:0,//非黑名单跳转节点\r\n        sort:'',//排序序号\r\n        describe:'',//说明\r\n      },\r\n      inBlacklistNextNodeIdStr:0,//黑名单跳转节点-绑定\r\n      notInBlacklistNextNodeIdStr:0,//非黑名单跳转节点-绑定\r\n      formItemValidate:{\r\n        name: [{\r\n          required: true,\r\n          message: this.$t(\"pleaseEnter\"),\r\n          trigger: \"blur\",\r\n        }],\r\n        // replayCount: [{\r\n        //   required: true,\r\n        //   message: this.$t(\"pleaseEnter\"),\r\n        //   trigger: \"blur\",\r\n        // }],\r\n        // nextNodeId: [{\r\n        //   required: true,\r\n        //   message: this.$t(\"pleaseEnter\"),\r\n        //   trigger: \"blur\",\r\n        // }]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    init(){\r\n      this.initData();\r\n      this.getgetBlackListGroup();\r\n    },\r\n    //获取黑名单列表组\r\n    getgetBlackListGroup(id) {\r\n      getBlackListGroups({}).then((res) => {\r\n        this.blackListGroups=res.result;\r\n        this.formItem.blackGroupId=res.result[0].id;\r\n      });\r\n    },\r\n    initData(){\r\n      var than=this;\r\n      if (frame == null) return;\r\n      than.flowdata=top.wMyflowData;\r\n      than.step = than.flowdata.getNode(than.stepid);\r\n      if(than.flowdata.nodes.size()>0){\r\n        than.flowdata.nodes.each(function (nodeId,node,index){\r\n          if(than.step.checkNextNodeIsAllow(\"nextNodeId\",node.id)){\r\n            than.nextNodeIdList.push({value:node.id,text:[node.id]+'-' + node.getText()})\r\n          }\r\n        })\r\n      }\r\n\r\n      this.initStep(than.step);\r\n    },\r\n    initStep(step) {\r\n      var than=this;\r\n      if(step==null||step==undefined){\r\n        than.formItem.name='新流程';\r\n        return;\r\n      }\r\n      than.formItem.id=step.id;\r\n      than.formItem.name=step.getText();\r\n      than.formItem.blackGroupId=step.blackGroupId;\r\n      than.formItem.sort=step.sort;\r\n      than.formItem.describe=step.describe;\r\n\r\n      //黑名单跳转节点\r\n      than.ShowNodeResult(\"inBlacklistNextNodeId\",\"#inBlacklistNextNodeId\",0);\r\n      window.setTimeout(function (){\r\n        //非黑名单跳转节点\r\n        than.ShowNodeResult(\"notInBlacklistNextNodeId\",\"#notInBlacklistNextNodeId\",0);\r\n      },50)\r\n      //跳转节点\r\n     // than.ShowNodeResult(\"nextNodeId\",\"#base_NextNodeId\",0);\r\n      window.setTimeout(function (){\r\n        than.formItem.nextNodeId=than.nextNodeIdStr;\r\n      },500)\r\n    },\r\n    btnOk(){\r\n      var than=this;\r\n      var isFormValid = new RoadUI.Validate().validateForm(\"form1\");\r\n      if(this.formItem.replayCount > 10||this.formItem.replayCount <1)\r\n      {\r\n        WFCore.DialogUtils.tipDialog(\"重播次数在1-10之间\",2,7);\r\n        return false;\r\n      }\r\n      this.$refs[\"formItem\"].validate((valid) => {\r\n        if (valid) {\r\n          than.confirm1();\r\n        }\r\n      })\r\n    },\r\n    btnCancel(){\r\n      new RoadUI.Window().close();\r\n    },\r\n    confirm1() {\r\n      var than=this;\r\n\r\n      var ostep={\r\n        text:{\r\n          text:than.formItem.name\r\n        },\r\n        sort:than.formItem.sort,\r\n        describe:than.formItem.describe,\r\n        blackGroupId:than.formItem.blackGroupId,\r\n      }\r\n\r\n      //this.SaveNodeResult(\"nextNodeId\",\"#base_NextNodeId\",\"跳转节点\",1);\r\n      //黑名单跳转节点\r\n      than.ShowNodeResult(\"inBlacklistNextNodeId\",\"#inBlacklistNextNodeId\",0);\r\n      //非黑名单跳转节点\r\n      than.ShowNodeResult(\"notInBlacklistNextNodeId\",\"#notInBlacklistNextNodeId\",0);\r\n\r\n      //黑名单跳转节点\r\n      than.SaveNodeResult(\"inBlacklistNextNodeId\",\"#inBlacklistNextNodeId\",\"黑名单跳转节点\",0);\r\n      //非黑名单跳转节点\r\n      than.SaveNodeResult(\"notInBlacklistNextNodeId\",\"#notInBlacklistNextNodeId\",\"非黑名单跳转节点\",0);\r\n\r\n      var playVoices = new parent.WFCore.List();\r\n      var varIndex = 1;\r\n\r\n      window.setTimeout(function (){\r\n        than.step.restore(ostep);\r\n        new RoadUI.Window().close();\r\n      },500)\r\n    },\r\n    //给NodeResult控件赋值\r\n    ShowNodeResult(resultName,nextNodeCtlId,isDefault){\r\n      var than=this;\r\n      if(than.step.getNodeResult(resultName) != null && than.step.getNodeResult(resultName).nextNodeId > 0)\r\n      {\r\n        than.formItem[resultName]=parseInt(than.step.getNodeResult(resultName).nextNodeId);\r\n        than.nextNodeIdStr=parseInt(than.step.getNodeResult(resultName).nextNodeId);\r\n        //$(nextNodeCtlId).val(than.step.getNodeResult(resultName).nextNodeId+\"\");\r\n      }\r\n      // isDefault = isDefault != undefined && isDefault != null ? isDefault:0;\r\n      // $(nextNodeCtlId).attr(\"isDefault\",isDefault);\r\n    },\r\n    //保存NodeResult控件所选下一节点\r\n    SaveNodeResult(resultName,nextNodeCtlId,describe,isDefault){\r\n\r\n      var than=this;\r\n      if(than.step.getNodeResult(resultName) != null){\r\n        if(than.formItem.nextNodeId != null && than.formItem.nextNodeId != \"\")\r\n        {\r\n          var nodeResult = than.step.getNodeResult(resultName).restore({\r\n            nextNodeId:isNaN(than.formItem[resultName]) ? 0 : parseInt(than.formItem[resultName]) || 0,\r\n            isDefault:isDefault || 0\r\n          });\r\n          if(nodeResult != null) nodeResult.drawNodeResult();\r\n        }\r\n        else\r\n        {\r\n          than.step.removeNodeResult(resultName);\r\n        }\r\n      }\r\n      else{\r\n        if(than.formItem[resultName] != null && than.formItem[resultName] != \"\")\r\n        {\r\n          var nodeResult = than.step.createNodeResult({\r\n            name:resultName,\r\n            nextNodeId:isNaN(than.formItem[resultName]) ? 0 : parseInt(than.formItem[resultName]) || 0,\r\n            isDefault:isDefault || 0,\r\n            describe:describe\r\n          });\r\n          if(nodeResult != null) nodeResult.drawNodeResult();\r\n        }\r\n      }\r\n    },\r\n    //\r\n    selVoiceListItem(i){\r\n      this.selIndex=i;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.ui-combination-form{\r\n  .ui-voiceList{\r\n    .ui-voiceList-item{\r\n      text-align: left;\r\n      .ivu-form-item-label{\r\n        border: 1px solid red !important;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</style>"]}]}