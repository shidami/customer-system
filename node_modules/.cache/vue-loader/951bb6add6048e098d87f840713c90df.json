{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\ValidateFlow.vue?vue&type=style&index=0&id=12abe140&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\ValidateFlow.vue","mtime":1614579763291},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KYm9keSwNCmh0bWx7DQogIGJhY2tncm91bmQ6ICNmZmY7DQp9DQoNCg=="},{"version":3,"sources":["ValidateFlow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA","file":"ValidateFlow.vue","sourceRoot":"src/views/my-components/IVR","sourcesContent":["<template>\r\n  <Row style=\"padding-top: 20px;background: #fff;\">\r\n    <Col span=\"22\" offset=\"1\">\r\n      <Form ref=\"formItem\" :model=\"formItem\" :rules=\"formItemValidate\" :label-width=\"120\">\r\n        <p>流程校验结果：流程校验不通过，请根据以下校验结果完善配置再提交部署！</p>\r\n        <div>\r\n          <textarea type=\"textarea\" v-model=\"formItem.div_flow_value\" placeholder=\"请输入...\" style=\"height:294px !important;margin-top: 10px;width: 100%;padding: 10px\"></textarea>\r\n        </div>\r\n        <FormItem>\r\n          <Button @click=\"btnOk\" type=\"primary\">确定</Button>\r\n          <Button @click=\"btnCancel\" style=\"margin-left: 8px\">取消</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </Col>\r\n  </Row>\r\n</template>\r\n\r\n<script>\r\nvar frame=parent;\r\nexport default {\r\n  name: \"ValidateFlow\",\r\n  data(){\r\n    return{\r\n      openerid:top.WFCore.GetQuery(\"openerid\"),\r\n      optype:top.WFCore.GetQuery(\"optype\"),\r\n      formItem:{\r\n        validateTitle:'',\r\n        div_flow_value:\"\"\r\n      },\r\n      formItemValidate:{\r\n\r\n      },\r\n    }\r\n  },\r\n  methods:{\r\n    init(){\r\n      this.initData();\r\n    },\r\n    initData(){\r\n      if(frame==null) return;\r\n      var flowdata=top.wMyflowData;\r\n      if(this.optype == \"show\"){\r\n\r\n      }else if(this.optype == \"install\"){\r\n        if(!this.validateForm()){\r\n          this.formItem.validateTitle=\"流程校验不通过，请根据以下校验结果完善配置再提交部署！\";\r\n        }\r\n      }else {\r\n        this.validateForm()\r\n      }\r\n    },\r\n    validateForm(){\r\n      //var flowdata = frame.myflow1.GetMyFlowData();\r\n      var flowdata=top.wMyflowData;\r\n      var validateStr = \"\";\r\n      var validateResultArr = new Array();\r\n      var validateResult = flowdata.validate(validateResultArr);\r\n\r\n      if(validateResult.result)\r\n      {\r\n        $(\"#div_flow_value\").val(\"流程校验通过！\");\r\n        return true;\r\n      }\r\n      else\r\n      {\r\n        validateStr = validateResult.message+\"\\n\";\r\n        for(var i=0;i<validateResultArr.length;i++)\r\n        {\r\n          validateStr += \"\\n----------------------节点【\"+validateResultArr[i].title+\"】--------------------------\\n\";\r\n          validateStr += validateResultArr[i].message.replace(/;/g,\";\\n\");\r\n        }\r\n       // $(\"#div_flow_value\").val(validateStr);\r\n        this.formItem.div_flow_value=validateStr;\r\n        return false;\r\n      }\r\n    },\r\n    //\r\n    btnOk(){\r\n      this.validateForm();\r\n    },\r\n    //\r\n    btnCancel(){\r\n      WFCore.DialogUtils.closeLayerSelfDialog();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody,\r\nhtml{\r\n  background: #fff;\r\n}\r\n\r\n</style>"]}]}