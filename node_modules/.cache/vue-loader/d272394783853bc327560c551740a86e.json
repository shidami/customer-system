{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\ValidateFlow.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\ValidateFlow.vue","mtime":1614579763291},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQp2YXIgZnJhbWU9cGFyZW50Ow0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiVmFsaWRhdGVGbG93IiwNCiAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgIG9wZW5lcmlkOnRvcC5XRkNvcmUuR2V0UXVlcnkoIm9wZW5lcmlkIiksDQogICAgICBvcHR5cGU6dG9wLldGQ29yZS5HZXRRdWVyeSgib3B0eXBlIiksDQogICAgICBmb3JtSXRlbTp7DQogICAgICAgIHZhbGlkYXRlVGl0bGU6JycsDQogICAgICAgIGRpdl9mbG93X3ZhbHVlOiIiDQogICAgICB9LA0KICAgICAgZm9ybUl0ZW1WYWxpZGF0ZTp7DQoNCiAgICAgIH0sDQogICAgfQ0KICB9LA0KICBtZXRob2RzOnsNCiAgICBpbml0KCl7DQogICAgICB0aGlzLmluaXREYXRhKCk7DQogICAgfSwNCiAgICBpbml0RGF0YSgpew0KICAgICAgaWYoZnJhbWU9PW51bGwpIHJldHVybjsNCiAgICAgIHZhciBmbG93ZGF0YT10b3Aud015Zmxvd0RhdGE7DQogICAgICBpZih0aGlzLm9wdHlwZSA9PSAic2hvdyIpew0KDQogICAgICB9ZWxzZSBpZih0aGlzLm9wdHlwZSA9PSAiaW5zdGFsbCIpew0KICAgICAgICBpZighdGhpcy52YWxpZGF0ZUZvcm0oKSl7DQogICAgICAgICAgdGhpcy5mb3JtSXRlbS52YWxpZGF0ZVRpdGxlPSLmtYHnqIvmoKHpqozkuI3pgJrov4fvvIzor7fmoLnmja7ku6XkuIvmoKHpqoznu5PmnpzlrozlloTphY3nva7lho3mj5DkuqTpg6jnvbLvvIEiOw0KICAgICAgICB9DQogICAgICB9ZWxzZSB7DQogICAgICAgIHRoaXMudmFsaWRhdGVGb3JtKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHZhbGlkYXRlRm9ybSgpew0KICAgICAgLy92YXIgZmxvd2RhdGEgPSBmcmFtZS5teWZsb3cxLkdldE15Rmxvd0RhdGEoKTsNCiAgICAgIHZhciBmbG93ZGF0YT10b3Aud015Zmxvd0RhdGE7DQogICAgICB2YXIgdmFsaWRhdGVTdHIgPSAiIjsNCiAgICAgIHZhciB2YWxpZGF0ZVJlc3VsdEFyciA9IG5ldyBBcnJheSgpOw0KICAgICAgdmFyIHZhbGlkYXRlUmVzdWx0ID0gZmxvd2RhdGEudmFsaWRhdGUodmFsaWRhdGVSZXN1bHRBcnIpOw0KDQogICAgICBpZih2YWxpZGF0ZVJlc3VsdC5yZXN1bHQpDQogICAgICB7DQogICAgICAgICQoIiNkaXZfZmxvd192YWx1ZSIpLnZhbCgi5rWB56iL5qCh6aqM6YCa6L+H77yBIik7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfQ0KICAgICAgZWxzZQ0KICAgICAgew0KICAgICAgICB2YWxpZGF0ZVN0ciA9IHZhbGlkYXRlUmVzdWx0Lm1lc3NhZ2UrIlxuIjsNCiAgICAgICAgZm9yKHZhciBpPTA7aTx2YWxpZGF0ZVJlc3VsdEFyci5sZW5ndGg7aSsrKQ0KICAgICAgICB7DQogICAgICAgICAgdmFsaWRhdGVTdHIgKz0gIlxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLeiKgueCueOAkCIrdmFsaWRhdGVSZXN1bHRBcnJbaV0udGl0bGUrIuOAkS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iOw0KICAgICAgICAgIHZhbGlkYXRlU3RyICs9IHZhbGlkYXRlUmVzdWx0QXJyW2ldLm1lc3NhZ2UucmVwbGFjZSgvOy9nLCI7XG4iKTsNCiAgICAgICAgfQ0KICAgICAgIC8vICQoIiNkaXZfZmxvd192YWx1ZSIpLnZhbCh2YWxpZGF0ZVN0cik7DQogICAgICAgIHRoaXMuZm9ybUl0ZW0uZGl2X2Zsb3dfdmFsdWU9dmFsaWRhdGVTdHI7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vDQogICAgYnRuT2soKXsNCiAgICAgIHRoaXMudmFsaWRhdGVGb3JtKCk7DQogICAgfSwNCiAgICAvLw0KICAgIGJ0bkNhbmNlbCgpew0KICAgICAgV0ZDb3JlLkRpYWxvZ1V0aWxzLmNsb3NlTGF5ZXJTZWxmRGlhbG9nKCk7DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9DQp9DQo="},{"version":3,"sources":["ValidateFlow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ValidateFlow.vue","sourceRoot":"src/views/my-components/IVR","sourcesContent":["<template>\r\n  <Row style=\"padding-top: 20px;background: #fff;\">\r\n    <Col span=\"22\" offset=\"1\">\r\n      <Form ref=\"formItem\" :model=\"formItem\" :rules=\"formItemValidate\" :label-width=\"120\">\r\n        <p>流程校验结果：流程校验不通过，请根据以下校验结果完善配置再提交部署！</p>\r\n        <div>\r\n          <textarea type=\"textarea\" v-model=\"formItem.div_flow_value\" placeholder=\"请输入...\" style=\"height:294px !important;margin-top: 10px;width: 100%;padding: 10px\"></textarea>\r\n        </div>\r\n        <FormItem>\r\n          <Button @click=\"btnOk\" type=\"primary\">确定</Button>\r\n          <Button @click=\"btnCancel\" style=\"margin-left: 8px\">取消</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </Col>\r\n  </Row>\r\n</template>\r\n\r\n<script>\r\nvar frame=parent;\r\nexport default {\r\n  name: \"ValidateFlow\",\r\n  data(){\r\n    return{\r\n      openerid:top.WFCore.GetQuery(\"openerid\"),\r\n      optype:top.WFCore.GetQuery(\"optype\"),\r\n      formItem:{\r\n        validateTitle:'',\r\n        div_flow_value:\"\"\r\n      },\r\n      formItemValidate:{\r\n\r\n      },\r\n    }\r\n  },\r\n  methods:{\r\n    init(){\r\n      this.initData();\r\n    },\r\n    initData(){\r\n      if(frame==null) return;\r\n      var flowdata=top.wMyflowData;\r\n      if(this.optype == \"show\"){\r\n\r\n      }else if(this.optype == \"install\"){\r\n        if(!this.validateForm()){\r\n          this.formItem.validateTitle=\"流程校验不通过，请根据以下校验结果完善配置再提交部署！\";\r\n        }\r\n      }else {\r\n        this.validateForm()\r\n      }\r\n    },\r\n    validateForm(){\r\n      //var flowdata = frame.myflow1.GetMyFlowData();\r\n      var flowdata=top.wMyflowData;\r\n      var validateStr = \"\";\r\n      var validateResultArr = new Array();\r\n      var validateResult = flowdata.validate(validateResultArr);\r\n\r\n      if(validateResult.result)\r\n      {\r\n        $(\"#div_flow_value\").val(\"流程校验通过！\");\r\n        return true;\r\n      }\r\n      else\r\n      {\r\n        validateStr = validateResult.message+\"\\n\";\r\n        for(var i=0;i<validateResultArr.length;i++)\r\n        {\r\n          validateStr += \"\\n----------------------节点【\"+validateResultArr[i].title+\"】--------------------------\\n\";\r\n          validateStr += validateResultArr[i].message.replace(/;/g,\";\\n\");\r\n        }\r\n       // $(\"#div_flow_value\").val(validateStr);\r\n        this.formItem.div_flow_value=validateStr;\r\n        return false;\r\n      }\r\n    },\r\n    //\r\n    btnOk(){\r\n      this.validateForm();\r\n    },\r\n    //\r\n    btnCancel(){\r\n      WFCore.DialogUtils.closeLayerSelfDialog();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody,\r\nhtml{\r\n  background: #fff;\r\n}\r\n\r\n</style>"]}]}