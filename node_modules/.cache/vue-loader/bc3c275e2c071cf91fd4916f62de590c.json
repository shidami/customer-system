{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\SetNode_DirectCall.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\SetNode_DirectCall.vue","mtime":1614579763281},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2dldEFsbEV4dE51bWJlcixnZXRBbGxDdGlMaXN0LGdldENhbGxSZWxheVBob25lQWxsc30gZnJvbSAnQC9hcGkvaW5kZXgnDQppbXBvcnQgcHJvY2Vzc1ZhcmlhYmxlcyBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMvSVZSL3Byb2Nlc3NWYXJpYWJsZXMiOw0KdmFyIGZyYW1lID0gcGFyZW50Ow0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiU2V0Tm9kZV9EaXJlY3RDYWxsIiwNCiAgY29tcG9uZW50czp7cHJvY2Vzc1ZhcmlhYmxlc30sDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICBwcm9jZXNzVmFyaWFibGVzVmlzaWJsZTpmYWxzZSwNCiAgICAgIGxheVBhcmVudDp0cnVlLA0KICAgICAgdGFibGVDb2x1bW5zVmlzaWJsZTpmYWxzZSwNCiAgICAgIG9wZW5lcmlkOldGQ29yZS5HZXRRdWVyeSgib3BlbmVyaWQiKSwNCiAgICAgIHN0ZXBpZDpXRkNvcmUuR2V0UXVlcnkoImlkIiksDQogICAgICBmbG93ZGF0YTp0b3Aud015Zmxvd0RhdGEsDQogICAgICByZWxheUdyb3VwSWRTaG93OmZhbHNlLA0KICAgICAgc2VsSW5kZXg6MCwNCiAgICAgIHN0ZXA6JycsDQogICAgICBmb3JtSXRlbTp7DQogICAgICAgIGlkOicnLC8v6IqC54K55Y+3DQogICAgICAgIG5hbWU6JycsLy/oioLngrnlkI3np7ANCiAgICAgICAgc3RyVmFyaWFibGU6JycsLy/lj5jph4/lkI0NCiAgICAgICAgdHJhbnNmZXJNb2RlOicxJywvL+i9rOaOpeexu+Weiw0KICAgICAgICB0cmFuc2ZlckV4dE51bTonJywvL+WIhuacuuWPtw0KICAgICAgICBleHROdW1UeXBlOicxJywvL+mFjee9ruWIhuacug0KICAgICAgICB0cmFuc2ZlclBob25lOicnLC8v5aSW57q/5Y+356CBDQogICAgICAgIHJlbGF5R3JvdXBBcnI6JycsDQogICAgICAgIHJlbGF5R3JvdXBJZDonJywvL+S4ree7p+e7hA0KICAgICAgICByZWxheUdyb3VwTm86JycsLy/kuK3nu6fnu4QNCiAgICAgICAgcmVsYXlQaG9uZTonJywvL+S4ree7p+WPt+eggQ0KICAgICAgICBzb3J0OicnLC8v5o6S5bqP5bqP5Y+3DQogICAgICAgIGRlc2NyaWJlOicnLC8v6K+05piODQogICAgICB9LA0KICAgICAgbmV4dE5vZGVJZFN0cjowLA0KICAgICAgZm9ybUl0ZW1WYWxpZGF0ZTp7DQogICAgICAgIG5hbWU6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicGxlYXNlRW50ZXIiKSwNCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsDQogICAgICAgIH1dLA0KICAgICAgICAvLyByZXBsYXlDb3VudDogW3sNCiAgICAgICAgLy8gICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgLy8gICBtZXNzYWdlOiB0aGlzLiR0KCJwbGVhc2VFbnRlciIpLA0KICAgICAgICAvLyAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgLy8gfV0sDQogICAgICAgICd2b2ljZUxpc3RbMF0uY29udGVudCc6IFt7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgicGxlYXNlRW50ZXIiKSwNCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsDQogICAgICAgIH1dLA0KICAgICAgICAvLyBuZXh0Tm9kZUlkOiBbew0KICAgICAgICAvLyAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAvLyAgIG1lc3NhZ2U6IHRoaXMuJHQoInBsZWFzZUVudGVyIiksDQogICAgICAgIC8vICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAvLyB9XQ0KICAgICAgfSwNCiAgICAgIEV4dE51bWJlckJ5Q29uZGl0aW9uRGF0YTpbXSwNCiAgICAgIEN0aURhdGE6W10sDQogICAgICBDYWxsUmVsYXlQaG9uZURhdGE6W10NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6ew0KICAgIGluaXQoKXsNCiAgICAgIHRoaXMuaW5pdERhdGEoKTsNCiAgICAgIHRoaXMuZ2V0RXh0TnVtYmVyQnlDb25kaXRpb25MaXN0KCk7Ly/liIbmnLrlj7cNCiAgICAgIHRoaXMuZ2V0QWxsQ3RpRGF0YUxpc3QoKTsvL+S4ree7p+e7hA0KICAgICAgLy90aGlzLmdldENhbGxSZWxheVBob25lRGF0YUFsbHMoKTsvL+S4ree7p+e7hOWPt+eggQ0KICAgIH0sDQogICAgaW5pdERhdGEoKXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZiAoZnJhbWUgPT0gbnVsbCkgcmV0dXJuOw0KICAgICAgdGhhbi5mbG93ZGF0YT10b3Aud015Zmxvd0RhdGE7DQogICAgICB0aGFuLnN0ZXAgPSB0aGFuLmZsb3dkYXRhLmdldE5vZGUodGhhbi5zdGVwaWQpOw0KDQogICAgICB0aGlzLmluaXRTdGVwKHRoYW4uc3RlcCk7DQogICAgfSwNCiAgICBnZXRFeHROdW1iZXJCeUNvbmRpdGlvbkxpc3QoKXsNCiAgICAgIGdldEFsbEV4dE51bWJlcih7fSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLkV4dE51bWJlckJ5Q29uZGl0aW9uRGF0YSA9IHJlcy5yZXN1bHQ7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0QWxsQ3RpRGF0YUxpc3QoKXsNCiAgICAgIGdldEFsbEN0aUxpc3Qoe30pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy5DdGlEYXRhID0gcmVzLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRDYWxsUmVsYXlQaG9uZURhdGFBbGxzKCl7DQogICAgICBnZXRDYWxsUmVsYXlQaG9uZUFsbHMoew0KICAgICAgICBzb3J0OiAnY3JlYXRlVGltZScsDQogICAgICAgIG9yZGVyOiAnZGVzYycsDQogICAgICAgIHBhZ2VOdW1iZXI6IDEsDQogICAgICAgIHBhZ2VTaXplOiAxMCwNCiAgICAgICAgY2FsbFJlbGF5R3JvdXBJZDp0aGlzLmZvcm1JdGVtLnJlbGF5R3JvdXBJZA0KICAgICAgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLkNhbGxSZWxheVBob25lRGF0YSA9IHJlcy5yZXN1bHQubGlzdC5sZW5ndGg9PTA/W106cmVzLnJlc3VsdC5saXN0Ow0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGluaXRTdGVwKHN0ZXApIHsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZihzdGVwPT1udWxsfHxzdGVwPT11bmRlZmluZWQpew0KICAgICAgICB0aGFuLmZvcm1JdGVtLm5hbWU9J+aWsOa1geeoiyc7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHRoYW4uZm9ybUl0ZW0uaWQ9c3RlcC5pZDsNCiAgICAgIHRoYW4uZm9ybUl0ZW0ubmFtZT1zdGVwLmdldFRleHQoKTsNCiAgICAgIHRoYW4uZm9ybUl0ZW0uc3RyVmFyaWFibGU9c3RlcC5zdHJWYXJpYWJsZTsNCiAgICAgIHRoYW4uZm9ybUl0ZW0uZXh0TnVtVHlwZT1zdGVwLmV4dE51bVR5cGU7DQogICAgICB0aGFuLmZvcm1JdGVtLnRyYW5zZmVyTW9kZT1zdGVwLnRyYW5zZmVyTW9kZS50b1N0cmluZygpOw0KICAgICAgdGhhbi5mb3JtSXRlbS50cmFuc2ZlckV4dE51bT1zdGVwLnRyYW5zZmVyRXh0TnVtOw0KICAgICAgdGhhbi5mb3JtSXRlbS50cmFuc2ZlclBob25lPXN0ZXAudHJhbnNmZXJQaG9uZTsNCiAgICAgIHRoYW4uZm9ybUl0ZW0ucmVsYXlHcm91cEFycj1zdGVwLnJlbGF5R3JvdXBJZCsnLScrc3RlcC5yZWxheUdyb3VwTm87DQogICAgICB0aGFuLmZvcm1JdGVtLnNvcnQ9c3RlcC5zb3J0Ow0KICAgICAgdGhhbi5mb3JtSXRlbS5kZXNjcmliZT1zdGVwLmRlc2NyaWJlOw0KDQogICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCl7DQogICAgICAgICB0aGFuLmZvcm1JdGVtLnJlbGF5UGhvbmU9c3RlcC5yZWxheVBob25lOw0KICAgICAgfSw1MDApDQogICAgfSwNCiAgICBidG5Paygpew0KICAgICAgdmFyIHRoYW49dGhpczsNCiAgICAgIHZhciBpc0Zvcm1WYWxpZCA9IG5ldyBSb2FkVUkuVmFsaWRhdGUoKS52YWxpZGF0ZUZvcm0oImZvcm0xIik7DQogICAgICBpZih0aGlzLmZvcm1JdGVtLnJlcGxheUNvdW50ID4gMTB8fHRoaXMuZm9ybUl0ZW0ucmVwbGF5Q291bnQgPDEpDQogICAgICB7DQogICAgICAgIFdGQ29yZS5EaWFsb2dVdGlscy50aXBEaWFsb2coIumHjeaSreasoeaVsOWcqDEtMTDkuYvpl7QiLDIsNyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHRoaXMuJHJlZnNbImZvcm1JdGVtIl0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHRoYW4uY29uZmlybTEoKTsNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGJ0bkNhbmNlbCgpew0KICAgICAgbmV3IFJvYWRVSS5XaW5kb3coKS5jbG9zZSgpOw0KICAgIH0sDQogICAgY2hhbmdlUGxheVR5cGUocGxheVR5cGVPYmopIHsNCiAgICAgIHZhciB0cm9iaiA9ICQocGxheVR5cGVPYmopLnBhcmVudCgpLnBhcmVudCgpOw0KICAgICAgaWYgKCQocGxheVR5cGVPYmopLnZhbCgpID09ICIxIikNCiAgICAgIHsNCiAgICAgICAgJChwbGF5VHlwZU9iaikubmV4dCgpLnRleHQoIuaSreaUvuivremfsyIpOw0KICAgICAgICB0cm9iai5maW5kKCJpbnB1dFtuYW1lPSd2b2ljZUZpbGUnXSIpLmF0dHIoInJlYWRvbmx5IiwicmVhZG9ubHkiKS52YWwoIiIpOw0KICAgICAgICB0cm9iai5maW5kKCJpbnB1dFtuYW1lPSdidG5TZXRQbGF5Vm9pY2UnXSIpLnNob3coKTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKCQocGxheVR5cGVPYmopLnZhbCgpID09ICIyIikNCiAgICAgIHsNCiAgICAgICAgJChwbGF5VHlwZU9iaikubmV4dCgpLnRleHQoIuaSreaUvlRUUyAiKTsNCiAgICAgICAgdHJvYmouZmluZCgiaW5wdXRbbmFtZT0ndm9pY2VGaWxlJ10iKS5yZW1vdmVBdHRyKCJyZWFkb25seSIpLnZhbCgiIik7DQogICAgICAgIHRyb2JqLmZpbmQoImlucHV0W25hbWU9J2J0blNldFBsYXlWb2ljZSddIikuaGlkZSgpOw0KICAgICAgfQ0KICAgICAgZWxzZSBpZiAoJChwbGF5VHlwZU9iaikudmFsKCkgPT0gIjMiKQ0KICAgICAgew0KICAgICAgICAkKHBsYXlUeXBlT2JqKS5uZXh0KCkudGV4dCgiICDlj5jph48iKTsNCiAgICAgICAgdHJvYmouZmluZCgiaW5wdXRbbmFtZT0ndm9pY2VGaWxlJ10iKS5hdHRyKCJyZWFkb25seSIsInJlYWRvbmx5IikudmFsKCIiKTsNCiAgICAgICAgdHJvYmouZmluZCgiaW5wdXRbbmFtZT0nYnRuU2V0UGxheVZvaWNlJ10iKS5oaWRlKCk7DQogICAgICB9DQogICAgfSwNCiAgICBzZWxlY3RWYXJpYWJsZShvYmopew0KICAgICAgdmFyIHRyT2JqID0gJChvYmopLnBhcmVudCgpLnBhcmVudCgpOw0KICAgICAgdmFyIHZhcmlhYmxlT2JqID0gdHJPYmouZmluZCgiaW5wdXRbbmFtZT0ndm9pY2VGaWxlJ10iKTsNCiAgICAgIFdGQ29yZS5EaWFsb2dVdGlscy5vcGVuRGlhbG9nKFdGQ29yZS5Sb290UGF0aCArICIvSVZSRGVzaWduZXJTREsvUGxhdGZvcm0vV29ya0Zsb3cvRGVzaWduZXIvVmFyaWFibGVTZWxlY3Rlci5odG1sP3R5cGU9MSZtdWx0aXNlbGVjdD0wJnNlbGVjdGVyPSINCiAgICAgICAgICArIiZDb21wYW55SWQ9IitzdGVwLm93bmVyV29ya2Zsb3cuY29tcGFueUlkLCAiVmFyaWFibGVTZWxlY3RlciIsICLpgInmi6nlj5jph48iLCA2NzUsIDUwMCwNCiAgICAgICAgICBmdW5jdGlvbihpZnJhbWUpIHsNCiAgICAgICAgICAgIHZhciBpZnJhbWVWID0gdG9wLmZyYW1lc1tpZnJhbWVdOw0KICAgICAgICAgICAgdmFyIHZhbHVlID0gaWZyYW1lVi5nZXRWYWx1ZSgpOw0KICAgICAgICAgICAgdmFyIG5hbWUgPSBpZnJhbWVWLmdldE5hbWUoKTsNCg0KDQogICAgICAgICAgICBpZihuYW1lID09IHVuZGVmaW5lZCB8fCBuYW1lID09IG51bGwgfHwgbmFtZSA9PSAiIikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgYWxlcnQoIuivt+mAieaLqeWPmOmHj++8gSIpOw0KICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0b3AuZnJhbWVzW2lmcmFtZV0uY2xvc2UoKTsNCiAgICAgICAgICAgIHZhcmlhYmxlT2JqLnZhbChuYW1lKTsNCiAgICAgICAgICAgIHZvaWNlRmlsZU9iai5hdHRyKCJ0YWciLDEpOw0KICAgICAgICAgIH0pOw0KICAgIH0sDQogICAgY29uZmlybTEoKSB7DQogICAgICB2YXIgdGhhbj10aGlzOw0KDQogICAgICB2YXIgb3N0ZXA9ew0KICAgICAgICB0ZXh0OnsNCiAgICAgICAgICB0ZXh0OnRoYW4uZm9ybUl0ZW0ubmFtZQ0KICAgICAgICB9LA0KICAgICAgICBzb3J0OnRoYW4uZm9ybUl0ZW0uc29ydCwNCiAgICAgICAgZGVzY3JpYmU6dGhhbi5mb3JtSXRlbS5kZXNjcmliZQ0KICAgICAgfQ0KICAgICAgaWYodGhhbi5mb3JtSXRlbS50cmFuc2Zlck1vZGU9PTEpew0KICAgICAgICBvc3RlcC50cmFuc2Zlck1vZGUgPSAxOw0KICAgICAgICBvc3RlcC5leHROdW1UeXBlID0gaXNOYU4odGhhbi5mb3JtSXRlbS5leHROdW1UeXBlKSA/IDEgOiBwYXJzZUludCh0aGFuLmZvcm1JdGVtLmV4dE51bVR5cGUpIHx8IDE7DQogICAgICAgIG9zdGVwLnRyYW5zZmVyUGhvbmUgPSBbXTsNCiAgICAgICAgb3N0ZXAucmVsYXlHcm91cElkID0gIiI7DQogICAgICAgIG9zdGVwLnJlbGF5R3JvdXBObyA9IDA7DQogICAgICAgIG9zdGVwLnJlbGF5UGhvbmUgPSAiIjsNCg0KICAgICAgICBpZihvc3RlcC5leHROdW1UeXBlID09IDEpDQogICAgICAgIHsNCiAgICAgICAgICBvc3RlcC50cmFuc2ZlckV4dE51bSA9IHRoYW4uZm9ybUl0ZW0udHJhbnNmZXJFeHROdW0gfHwgIiI7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgb3N0ZXAudHJhbnNmZXJFeHROdW0gPSB0aGFuLmZvcm1JdGVtLnN0clZhcmlhYmxlIHx8ICIiOw0KICAgICAgICB9DQogICAgICB9ZWxzZSB7DQogICAgICAgIHZhciByZWxheUdyb3VwTm9TdHIgPSB0aGFuLmZvcm1JdGVtLnJlbGF5R3JvdXBObyB8fCAiMCI7DQogICAgICAgIG9zdGVwLnRyYW5zZmVyTW9kZSA9IDI7DQogICAgICAgIG9zdGVwLmV4dE51bVR5cGUgPSAxOw0KICAgICAgICBvc3RlcC50cmFuc2ZlckV4dE51bSA9ICIiOw0KICAgICAgICAvLw0KICAgICAgICB2YXIgdHJhbnNmZXJQaG9uZUFyciA9IFtdOw0KICAgICAgICB2YXIgdHJhbnNmZXJQaG9uZSA9IHRoYW4uZm9ybUl0ZW0udHJhbnNmZXJQaG9uZTsNCiAgICAgICAgdHJhbnNmZXJQaG9uZUFyciA9IHRyYW5zZmVyUGhvbmUuc3BsaXQoIiwiKTsNCiAgICAgICAgaWYodHJhbnNmZXJQaG9uZUFyciAhPSAiIil7DQogICAgICAgICAgdGhhbi5zdGVwLnRyYW5zZmVyUGhvbmUgPSBvc3RlcC50cmFuc2ZlclBob25lQXJyPXRyYW5zZmVyUGhvbmVBcnI7DQogICAgICAgIH0NCiAgICAgICAgLy8NCiAgICAgICAgb3N0ZXAucmVsYXlHcm91cElkID0gdGhhbi5mb3JtSXRlbS5yZWxheUdyb3VwSWQgfHwgIiI7DQogICAgICAgIG9zdGVwLnJlbGF5R3JvdXBObyA9IGlzTmFOKHJlbGF5R3JvdXBOb1N0cikgPyAwIDogcGFyc2VJbnQocmVsYXlHcm91cE5vU3RyKSB8fCAwOw0KICAgICAgICBvc3RlcC5yZWxheVBob25lID0gdGhhbi5mb3JtSXRlbS5yZWxheVBob25lIHx8ICIiOw0KICAgICAgfQ0KDQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdGhhbi5zdGVwLnJlc3RvcmUob3N0ZXApOw0KICAgICAgICBuZXcgUm9hZFVJLldpbmRvdygpLmNsb3NlKCk7DQogICAgICB9LDEwMDApDQogICAgfSwNCiAgICAvL+e7mU5vZGVSZXN1bHTmjqfku7botYvlgLwNCiAgICBTaG93Tm9kZVJlc3VsdChyZXN1bHROYW1lLG5leHROb2RlQ3RsSWQsaXNEZWZhdWx0KXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZih0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKSAhPSBudWxsICYmIHRoYW4uc3RlcC5nZXROb2RlUmVzdWx0KHJlc3VsdE5hbWUpLm5leHROb2RlSWQgPiAwKQ0KICAgICAgew0KICAgICAgICB0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdPXBhcnNlSW50KHRoYW4uc3RlcC5nZXROb2RlUmVzdWx0KHJlc3VsdE5hbWUpLm5leHROb2RlSWQpOw0KICAgICAgICB0aGFuLm5leHROb2RlSWRTdHI9cGFyc2VJbnQodGhhbi5zdGVwLmdldE5vZGVSZXN1bHQocmVzdWx0TmFtZSkubmV4dE5vZGVJZCk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+S/neWtmE5vZGVSZXN1bHTmjqfku7bmiYDpgInkuIvkuIDoioLngrkNCiAgICBTYXZlTm9kZVJlc3VsdChyZXN1bHROYW1lLG5leHROb2RlQ3RsSWQsZGVzY3JpYmUsaXNEZWZhdWx0KXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZih0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKSAhPSBudWxsKXsNCiAgICAgICAgaWYodGhhbi5mb3JtSXRlbS5uZXh0Tm9kZUlkICE9IG51bGwgJiYgdGhhbi5mb3JtSXRlbS5uZXh0Tm9kZUlkICE9ICIiKQ0KICAgICAgICB7DQogICAgICAgICAgdmFyIG5vZGVSZXN1bHQgPSB0aGFuLnN0ZXAuZ2V0Tm9kZVJlc3VsdChyZXN1bHROYW1lKS5yZXN0b3JlKHsNCiAgICAgICAgICAgIG5leHROb2RlSWQ6aXNOYU4odGhhbi5mb3JtSXRlbVtyZXN1bHROYW1lXSkgPyAwIDogcGFyc2VJbnQodGhhbi5mb3JtSXRlbVtyZXN1bHROYW1lXSkgfHwgMCwNCiAgICAgICAgICAgIGlzRGVmYXVsdDppc0RlZmF1bHQgfHwgMA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGlmKG5vZGVSZXN1bHQgIT0gbnVsbCkgbm9kZVJlc3VsdC5kcmF3Tm9kZVJlc3VsdCgpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgIHRoYW4uc3RlcC5yZW1vdmVOb2RlUmVzdWx0KHJlc3VsdE5hbWUpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBlbHNlew0KICAgICAgICBpZih0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdICE9IG51bGwgJiYgdGhhbi5mb3JtSXRlbVtyZXN1bHROYW1lXSAhPSAiIikNCiAgICAgICAgew0KICAgICAgICAgIHZhciBub2RlUmVzdWx0ID0gdGhhbi5zdGVwLmNyZWF0ZU5vZGVSZXN1bHQoew0KICAgICAgICAgICAgbmFtZTpyZXN1bHROYW1lLA0KICAgICAgICAgICAgbmV4dE5vZGVJZDppc05hTih0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdKSA/IDAgOiBwYXJzZUludCh0aGFuLmZvcm1JdGVtW3Jlc3VsdE5hbWVdKSB8fCAwLA0KICAgICAgICAgICAgaXNEZWZhdWx0OmlzRGVmYXVsdCB8fCAwLA0KICAgICAgICAgICAgZGVzY3JpYmU6ZGVzY3JpYmUNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBpZihub2RlUmVzdWx0ICE9IG51bGwpIG5vZGVSZXN1bHQuZHJhd05vZGVSZXN1bHQoKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYnRuVm9pY2UoKXsNCiAgICAgIHZhciB2b2ljZT10aGlzLiRyZWZzLmdldFNlbGVjdERhdGEuc2VsZWN0UmFkaW9JdGVtOw0KICAgICAgdmFyIHZvaWNlUHVibGljPXRoaXMuJHJlZnMuZ2V0U2VsZWN0RGF0YS4kcmVmcy5wdWJsaWNWb2ljZU1hbmFnZS5zZWxlY3RSYWRpb0l0ZW07DQogICAgICB2YXIgb2JqPXZvaWNlOw0KICAgICAgaWYodm9pY2VQdWJsaWMuaWQ9PXVuZGVmaW5lZCl7DQogICAgICAgIG9iaj12b2ljZTsNCiAgICAgICAgb2JqLnRhZz0wOw0KICAgICAgfWVsc2Ugew0KICAgICAgICBvYmo9dm9pY2VQdWJsaWM7DQogICAgICAgIG9iai50YWc9MTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZm9ybUl0ZW0udm9pY2VMaXN0W3RoaXMuc2VsSW5kZXhdLmlkPW9iai5pZDsNCiAgICAgIHRoaXMuZm9ybUl0ZW0udm9pY2VMaXN0W3RoaXMuc2VsSW5kZXhdLm5hbWU9InZvaWNlIjsNCiAgICAgIHRoaXMuZm9ybUl0ZW0udm9pY2VMaXN0W3RoaXMuc2VsSW5kZXhdLnR5cGU9MTsNCiAgICAgIHRoaXMuZm9ybUl0ZW0udm9pY2VMaXN0W3RoaXMuc2VsSW5kZXhdLmNvbnRlbnQ9b2JqLmNvbnRlbnQ7DQogICAgICB0aGlzLmZvcm1JdGVtLnZvaWNlTGlzdFt0aGlzLnNlbEluZGV4XS5kZXNjcmliZT1vYmouYXVkaW87DQogICAgICB0aGlzLmZvcm1JdGVtLnZvaWNlTGlzdFt0aGlzLnNlbEluZGV4XS50YWc9b2JqLnRhZzsNCiAgICAgIHRoaXMudGFibGVDb2x1bW5zVmlzaWJsZT1mYWxzZTsNCg0KICAgIH0sDQogICAgc2VsUHJvY2Vzc1ZhcmlhYmxlc1Zpc2libGUoc3RyLHYpew0KICAgICAgdGhpcy5wcm9jZXNzVmFyaWFibGVzVmlzaWJsZT10cnVlOw0KICAgICAgdGhpcy5zZWxQcm9jZXNzVmFyaWFibGVzVHlwZT1zdHI7DQogICAgICB0aGlzLnByb2Nlc3NWYXJpYWJsZXNJbmRleD12Ow0KICAgIH0sDQogICAgYnRuUHJvY2Vzc1ZhcmlhYmxlcygpew0KICAgICAgaWYodGhpcy5zZWxQcm9jZXNzVmFyaWFibGVzVHlwZT09InN0ciIpew0KICAgICAgICB0aGlzLmZvcm1JdGVtLnN0clZhcmlhYmxlPXRoaXMuJHJlZnMuZ2V0UHJvY2Vzc1ZhcmlhYmxlc1Zpc2libGUuc2VsZWN0UmFkaW9JdGVtLm5hbWU7DQogICAgICB9ZWxzZSB7DQogICAgICAgIHRoaXMuZm9ybUl0ZW0uanVkZ21lbnRjb25kaXRpb25MaXN0W3RoaXMucHJvY2Vzc1ZhcmlhYmxlc0luZGV4XS5jb21wYXJpc29uVmFsdWU9dGhpcy4kcmVmcy5nZXRQcm9jZXNzVmFyaWFibGVzVmlzaWJsZS5zZWxlY3RSYWRpb0l0ZW0ubmFtZTsNCiAgICAgIH0NCiAgICAgIHRoaXMucHJvY2Vzc1ZhcmlhYmxlc1Zpc2libGU9ZmFsc2U7DQogICAgfSwNCiAgICBzZWxSZWxheUdyb3VwSWQodil7DQogICAgICBjb25zb2xlLmxvZyh2KTsNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0KCkNCiAgfSwNCiAgd2F0Y2g6ew0KICAgICJmb3JtSXRlbS5yZWxheUdyb3VwQXJyIjp7DQogICAgICBoYW5kbGVyKHYpew0KICAgICAgICB2YXIgYXJyMT12LnNwbGl0KCItIik7DQogICAgICAgIHRoaXMuZm9ybUl0ZW0ucmVsYXlHcm91cElkPWFycjFbMF07DQogICAgICAgIHRoaXMuZm9ybUl0ZW0ucmVsYXlHcm91cE5vPWFycjFbMV07DQogICAgICAgIHRoaXMuZm9ybUl0ZW0ucmVsYXlQaG9uZT0nJzsNCiAgICAgICAgdGhpcy5nZXRDYWxsUmVsYXlQaG9uZURhdGFBbGxzKCk7DQogICAgICB9LA0KICAgICAgZGVlcDp0cnVlDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["SetNode_DirectCall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SetNode_DirectCall.vue","sourceRoot":"src/views/my-components/IVR","sourcesContent":["<template>\r\n  <Row style=\"padding-top: 20px;background: #fff;\">\r\n    <Col span=\"22\" offset=\"1\">\r\n            {{formItem}}\r\n      <!--      {{nextNodeIdStr}}-->\r\n      <Form class=\"ui-combination-form\" ref=\"formItem\" :model=\"formItem\" :rules=\"formItemValidate\" :label-width=\"120\">\r\n        <FormItem label=\"节点号\" prop=\"id\">\r\n          <Input v-model=\"formItem.id\" placeholder=\"请输入...\" disabled></Input>\r\n        </FormItem>\r\n        <FormItem label=\"节点名称\" prop=\"name\">\r\n          <Input v-model=\"formItem.name\" placeholder=\"请输入...\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"转接类型\" prop=\"transferMode\">\r\n          <RadioGroup v-model=\"formItem.transferMode\">\r\n            <Radio label=\"1\">转分机</Radio>\r\n            <Radio label=\"2\">转外线</Radio>\r\n          </RadioGroup>\r\n        </FormItem>\r\n        <FormItem label=\"配置分机\" prop=\"extNumType\" v-show=\"formItem.transferMode==1\">\r\n            <Row :gutter=\"15\">\r\n              <Col span=\"5\" style=\"padding-left: 0;\">\r\n                <Select v-model=\"formItem.extNumType\">\r\n                  <Option value=\"1\">分机号</Option>\r\n                  <Option value=\"2\">变量</Option>\r\n                </Select>\r\n              </Col>\r\n              <Col span=\"7\" v-show=\"formItem.extNumType==1\">\r\n                <Select v-model=\"formItem.transferExtNum\">\r\n                  <Option :value=\"item.ext\" v-for=\"(item,i) in ExtNumberByConditionData\" :key=\"i\">{{item.ext}}</Option>\r\n                </Select>\r\n              </Col>\r\n              <Col span=\"6\" v-show=\"formItem.extNumType==2\">\r\n                <Input @click.native=\"selProcessVariablesVisible('str')\" v-model=\"formItem.strVariable\" placeholder=\"点击选择变量\" disabled></Input>\r\n              </Col>\r\n              <Col span=\"6\" v-show=\"formItem.extNumType==2\">\r\n                <Button @click=\"selProcessVariablesVisible('str')\" style=\"margin-left: 10px\">选择</Button>\r\n              </Col>\r\n            </Row>\r\n        </FormItem>\r\n        <FormItem label=\"外线号码\" prop=\"transferPhone\" v-show=\"formItem.transferMode==2\">\r\n          <Input v-model=\"formItem.transferPhone\" placeholder=\"请输入...\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"中继组\" prop=\"relayGroupId\" v-show=\"formItem.transferMode==2\" >\r\n          <Select v-model=\"formItem.relayGroupArr\" @on-change=\"selRelayGroupId\">\r\n            <OptionGroup  v-for=\"item in CtiData\" :value=\"item.id\" :key=\"item.id\" :label=\"item.ctiName\">\r\n              <Option v-for=\"(itemChild,iChild) in item.children\"  :value=\"itemChild.id+'-'+itemChild.relayGroupNo\" :key=\"itemChild.id\">{{ itemChild.relayGroupName }}</Option>\r\n            </OptionGroup>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"中继号码\" prop=\"relayPhone\" v-show=\"formItem.transferMode==2\">\r\n          <Select v-model=\"formItem.relayPhone\" :placeholder=\"formItem.relayGroupArr==''?'请先选择中继组':'请选择'\">\r\n            <Option :value=\"item.id\" v-for=\"(item,i) in CallRelayPhoneData\" :key=\"i\">{{item.relayPhoneNumber}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"说明\" prop=\"describe\">\r\n          <Input type=\"textarea\" v-model=\"formItem.describe\" placeholder=\"请输入...\"></Input>\r\n        </FormItem>\r\n        <FormItem>\r\n          <Button @click=\"btnOk\" type=\"primary\">确定</Button>\r\n          <Button @click=\"btnCancel\" style=\"margin-left: 8px\">取消</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </Col>\r\n    <Modal\r\n        title=\"选择流程变量\"\r\n        v-model=\"processVariablesVisible\"\r\n        :closable=\"false\"\r\n        :mask-closable=\"false\"\r\n        :width=\"800\"\r\n    >\r\n      <processVariables ref=\"getProcessVariablesVisible\"></processVariables>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"processVariablesVisible = false\">{{\r\n            $t(\"cancel\")\r\n          }}</Button>\r\n        <Button\r\n            type=\"primary\"\r\n            @click=\"btnProcessVariables\"\r\n        >{{ $t(\"save\") }}</Button\r\n        >\r\n      </div>\r\n    </Modal><!--选择流程变量-结束--->\r\n  </Row>\r\n</template>\r\n\r\n<script>\r\nimport {getAllExtNumber,getAllCtiList,getCallRelayPhoneAlls} from '@/api/index'\r\nimport processVariables from \"@/views/my-components/IVR/processVariables\";\r\nvar frame = parent;\r\nexport default {\r\n  name: \"SetNode_DirectCall\",\r\n  components:{processVariables},\r\n  data(){\r\n    return{\r\n      processVariablesVisible:false,\r\n      layParent:true,\r\n      tableColumnsVisible:false,\r\n      openerid:WFCore.GetQuery(\"openerid\"),\r\n      stepid:WFCore.GetQuery(\"id\"),\r\n      flowdata:top.wMyflowData,\r\n      relayGroupIdShow:false,\r\n      selIndex:0,\r\n      step:'',\r\n      formItem:{\r\n        id:'',//节点号\r\n        name:'',//节点名称\r\n        strVariable:'',//变量名\r\n        transferMode:'1',//转接类型\r\n        transferExtNum:'',//分机号\r\n        extNumType:'1',//配置分机\r\n        transferPhone:'',//外线号码\r\n        relayGroupArr:'',\r\n        relayGroupId:'',//中继组\r\n        relayGroupNo:'',//中继组\r\n        relayPhone:'',//中继号码\r\n        sort:'',//排序序号\r\n        describe:'',//说明\r\n      },\r\n      nextNodeIdStr:0,\r\n      formItemValidate:{\r\n        name: [{\r\n          required: true,\r\n          message: this.$t(\"pleaseEnter\"),\r\n          trigger: \"blur\",\r\n        }],\r\n        // replayCount: [{\r\n        //   required: true,\r\n        //   message: this.$t(\"pleaseEnter\"),\r\n        //   trigger: \"blur\",\r\n        // }],\r\n        'voiceList[0].content': [{\r\n          required: true,\r\n          message: this.$t(\"pleaseEnter\"),\r\n          trigger: \"blur\",\r\n        }],\r\n        // nextNodeId: [{\r\n        //   required: true,\r\n        //   message: this.$t(\"pleaseEnter\"),\r\n        //   trigger: \"blur\",\r\n        // }]\r\n      },\r\n      ExtNumberByConditionData:[],\r\n      CtiData:[],\r\n      CallRelayPhoneData:[]\r\n    }\r\n  },\r\n  methods:{\r\n    init(){\r\n      this.initData();\r\n      this.getExtNumberByConditionList();//分机号\r\n      this.getAllCtiDataList();//中继组\r\n      //this.getCallRelayPhoneDataAlls();//中继组号码\r\n    },\r\n    initData(){\r\n      var than=this;\r\n      if (frame == null) return;\r\n      than.flowdata=top.wMyflowData;\r\n      than.step = than.flowdata.getNode(than.stepid);\r\n\r\n      this.initStep(than.step);\r\n    },\r\n    getExtNumberByConditionList(){\r\n      getAllExtNumber({}).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.ExtNumberByConditionData = res.result;\r\n        }\r\n      });\r\n    },\r\n    getAllCtiDataList(){\r\n      getAllCtiList({}).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.CtiData = res.result;\r\n        }\r\n      });\r\n    },\r\n    getCallRelayPhoneDataAlls(){\r\n      getCallRelayPhoneAlls({\r\n        sort: 'createTime',\r\n        order: 'desc',\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        callRelayGroupId:this.formItem.relayGroupId\r\n      }).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.CallRelayPhoneData = res.result.list.length==0?[]:res.result.list;\r\n        }\r\n      });\r\n    },\r\n    initStep(step) {\r\n      var than=this;\r\n      if(step==null||step==undefined){\r\n        than.formItem.name='新流程';\r\n        return;\r\n      }\r\n      than.formItem.id=step.id;\r\n      than.formItem.name=step.getText();\r\n      than.formItem.strVariable=step.strVariable;\r\n      than.formItem.extNumType=step.extNumType;\r\n      than.formItem.transferMode=step.transferMode.toString();\r\n      than.formItem.transferExtNum=step.transferExtNum;\r\n      than.formItem.transferPhone=step.transferPhone;\r\n      than.formItem.relayGroupArr=step.relayGroupId+'-'+step.relayGroupNo;\r\n      than.formItem.sort=step.sort;\r\n      than.formItem.describe=step.describe;\r\n\r\n       window.setTimeout(function (){\r\n         than.formItem.relayPhone=step.relayPhone;\r\n      },500)\r\n    },\r\n    btnOk(){\r\n      var than=this;\r\n      var isFormValid = new RoadUI.Validate().validateForm(\"form1\");\r\n      if(this.formItem.replayCount > 10||this.formItem.replayCount <1)\r\n      {\r\n        WFCore.DialogUtils.tipDialog(\"重播次数在1-10之间\",2,7);\r\n        return false;\r\n      }\r\n      this.$refs[\"formItem\"].validate((valid) => {\r\n        if (valid) {\r\n          than.confirm1();\r\n        }\r\n      })\r\n    },\r\n    btnCancel(){\r\n      new RoadUI.Window().close();\r\n    },\r\n    changePlayType(playTypeObj) {\r\n      var trobj = $(playTypeObj).parent().parent();\r\n      if ($(playTypeObj).val() == \"1\")\r\n      {\r\n        $(playTypeObj).next().text(\"播放语音\");\r\n        trobj.find(\"input[name='voiceFile']\").attr(\"readonly\",\"readonly\").val(\"\");\r\n        trobj.find(\"input[name='btnSetPlayVoice']\").show();\r\n      }\r\n      else if ($(playTypeObj).val() == \"2\")\r\n      {\r\n        $(playTypeObj).next().text(\"播放TTS \");\r\n        trobj.find(\"input[name='voiceFile']\").removeAttr(\"readonly\").val(\"\");\r\n        trobj.find(\"input[name='btnSetPlayVoice']\").hide();\r\n      }\r\n      else if ($(playTypeObj).val() == \"3\")\r\n      {\r\n        $(playTypeObj).next().text(\"  变量\");\r\n        trobj.find(\"input[name='voiceFile']\").attr(\"readonly\",\"readonly\").val(\"\");\r\n        trobj.find(\"input[name='btnSetPlayVoice']\").hide();\r\n      }\r\n    },\r\n    selectVariable(obj){\r\n      var trObj = $(obj).parent().parent();\r\n      var variableObj = trObj.find(\"input[name='voiceFile']\");\r\n      WFCore.DialogUtils.openDialog(WFCore.RootPath + \"/IVRDesignerSDK/Platform/WorkFlow/Designer/VariableSelecter.html?type=1&multiselect=0&selecter=\"\r\n          +\"&CompanyId=\"+step.ownerWorkflow.companyId, \"VariableSelecter\", \"选择变量\", 675, 500,\r\n          function(iframe) {\r\n            var iframeV = top.frames[iframe];\r\n            var value = iframeV.getValue();\r\n            var name = iframeV.getName();\r\n\r\n\r\n            if(name == undefined || name == null || name == \"\")\r\n            {\r\n              alert(\"请选择变量！\");\r\n              return false;\r\n            }\r\n            top.frames[iframe].close();\r\n            variableObj.val(name);\r\n            voiceFileObj.attr(\"tag\",1);\r\n          });\r\n    },\r\n    confirm1() {\r\n      var than=this;\r\n\r\n      var ostep={\r\n        text:{\r\n          text:than.formItem.name\r\n        },\r\n        sort:than.formItem.sort,\r\n        describe:than.formItem.describe\r\n      }\r\n      if(than.formItem.transferMode==1){\r\n        ostep.transferMode = 1;\r\n        ostep.extNumType = isNaN(than.formItem.extNumType) ? 1 : parseInt(than.formItem.extNumType) || 1;\r\n        ostep.transferPhone = [];\r\n        ostep.relayGroupId = \"\";\r\n        ostep.relayGroupNo = 0;\r\n        ostep.relayPhone = \"\";\r\n\r\n        if(ostep.extNumType == 1)\r\n        {\r\n          ostep.transferExtNum = than.formItem.transferExtNum || \"\";\r\n        }\r\n        else\r\n        {\r\n          ostep.transferExtNum = than.formItem.strVariable || \"\";\r\n        }\r\n      }else {\r\n        var relayGroupNoStr = than.formItem.relayGroupNo || \"0\";\r\n        ostep.transferMode = 2;\r\n        ostep.extNumType = 1;\r\n        ostep.transferExtNum = \"\";\r\n        //\r\n        var transferPhoneArr = [];\r\n        var transferPhone = than.formItem.transferPhone;\r\n        transferPhoneArr = transferPhone.split(\",\");\r\n        if(transferPhoneArr != \"\"){\r\n          than.step.transferPhone = ostep.transferPhoneArr=transferPhoneArr;\r\n        }\r\n        //\r\n        ostep.relayGroupId = than.formItem.relayGroupId || \"\";\r\n        ostep.relayGroupNo = isNaN(relayGroupNoStr) ? 0 : parseInt(relayGroupNoStr) || 0;\r\n        ostep.relayPhone = than.formItem.relayPhone || \"\";\r\n      }\r\n\r\n      window.setTimeout(function (){\r\n        than.step.restore(ostep);\r\n        new RoadUI.Window().close();\r\n      },1000)\r\n    },\r\n    //给NodeResult控件赋值\r\n    ShowNodeResult(resultName,nextNodeCtlId,isDefault){\r\n      var than=this;\r\n      if(than.step.getNodeResult(resultName) != null && than.step.getNodeResult(resultName).nextNodeId > 0)\r\n      {\r\n        than.formItem[resultName]=parseInt(than.step.getNodeResult(resultName).nextNodeId);\r\n        than.nextNodeIdStr=parseInt(than.step.getNodeResult(resultName).nextNodeId);\r\n      }\r\n    },\r\n    //保存NodeResult控件所选下一节点\r\n    SaveNodeResult(resultName,nextNodeCtlId,describe,isDefault){\r\n      var than=this;\r\n      if(than.step.getNodeResult(resultName) != null){\r\n        if(than.formItem.nextNodeId != null && than.formItem.nextNodeId != \"\")\r\n        {\r\n          var nodeResult = than.step.getNodeResult(resultName).restore({\r\n            nextNodeId:isNaN(than.formItem[resultName]) ? 0 : parseInt(than.formItem[resultName]) || 0,\r\n            isDefault:isDefault || 0\r\n          });\r\n          if(nodeResult != null) nodeResult.drawNodeResult();\r\n        }\r\n        else\r\n        {\r\n          than.step.removeNodeResult(resultName);\r\n        }\r\n      }\r\n      else{\r\n        if(than.formItem[resultName] != null && than.formItem[resultName] != \"\")\r\n        {\r\n          var nodeResult = than.step.createNodeResult({\r\n            name:resultName,\r\n            nextNodeId:isNaN(than.formItem[resultName]) ? 0 : parseInt(than.formItem[resultName]) || 0,\r\n            isDefault:isDefault || 0,\r\n            describe:describe\r\n          });\r\n          if(nodeResult != null) nodeResult.drawNodeResult();\r\n        }\r\n      }\r\n    },\r\n    btnVoice(){\r\n      var voice=this.$refs.getSelectData.selectRadioItem;\r\n      var voicePublic=this.$refs.getSelectData.$refs.publicVoiceManage.selectRadioItem;\r\n      var obj=voice;\r\n      if(voicePublic.id==undefined){\r\n        obj=voice;\r\n        obj.tag=0;\r\n      }else {\r\n        obj=voicePublic;\r\n        obj.tag=1;\r\n      }\r\n      this.formItem.voiceList[this.selIndex].id=obj.id;\r\n      this.formItem.voiceList[this.selIndex].name=\"voice\";\r\n      this.formItem.voiceList[this.selIndex].type=1;\r\n      this.formItem.voiceList[this.selIndex].content=obj.content;\r\n      this.formItem.voiceList[this.selIndex].describe=obj.audio;\r\n      this.formItem.voiceList[this.selIndex].tag=obj.tag;\r\n      this.tableColumnsVisible=false;\r\n\r\n    },\r\n    selProcessVariablesVisible(str,v){\r\n      this.processVariablesVisible=true;\r\n      this.selProcessVariablesType=str;\r\n      this.processVariablesIndex=v;\r\n    },\r\n    btnProcessVariables(){\r\n      if(this.selProcessVariablesType==\"str\"){\r\n        this.formItem.strVariable=this.$refs.getProcessVariablesVisible.selectRadioItem.name;\r\n      }else {\r\n        this.formItem.judgmentconditionList[this.processVariablesIndex].comparisonValue=this.$refs.getProcessVariablesVisible.selectRadioItem.name;\r\n      }\r\n      this.processVariablesVisible=false;\r\n    },\r\n    selRelayGroupId(v){\r\n      console.log(v);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  watch:{\r\n    \"formItem.relayGroupArr\":{\r\n      handler(v){\r\n        var arr1=v.split(\"-\");\r\n        this.formItem.relayGroupId=arr1[0];\r\n        this.formItem.relayGroupNo=arr1[1];\r\n        this.formItem.relayPhone='';\r\n        this.getCallRelayPhoneDataAlls();\r\n      },\r\n      deep:true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.ui-combination-form{\r\n  .ui-voiceList{\r\n    .ui-voiceList-item{\r\n      text-align: left;\r\n      .ivu-form-item-label{\r\n        border: 1px solid red !important;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</style>"]}]}