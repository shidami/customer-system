{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\ExportFlowData.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\IVR\\ExportFlowData.vue","mtime":1614579763271},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQp2YXIgZnJhbWU9cGFyZW50Ow0KZXhwb3J0IGRlZmF1bHQgew0KbmFtZTogIkV4cG9ydEZsb3dEYXRhIiwNCiAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgIG9wZW5lcmlkOldGQ29yZS5HZXRRdWVyeSgib3BlbmVyaWQiKSwNCiAgICAgIG9wdHlwZTpXRkNvcmUuR2V0UXVlcnkoIm9wdHlwZSIpLA0KICAgICAganNvblRleHQ6JycsDQogICAgICBGb3JtYXRKc29uVGV4dDon566A5YyW5pWw5o2uJywNCiAgICAgIHRhZzowLA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczp7DQogICAgaW5pdCgpew0KICAgICAgdGhpcy5pbml0RGF0YSgpOw0KICAgIH0sDQogICAgaW5pdERhdGEoKXsNCiAgICAgIGlmIChmcmFtZSA9PSBudWxsKSByZXR1cm47DQogICAgICBkZWJ1Z2dlcg0KICAgICAgLy92YXIgZmxvd2RhdGEgPSBmcmFtZS5teWZsb3cxLkdldE15Rmxvd0RhdGEoKTsNCiAgICAgIHZhciBmbG93ZGF0YSA9IHRvcC53TXlmbG93RGF0YTsNCiAgICAgIHZhciBqc29uID0gIiI7DQogICAgICBpZiAodGhpcy5vcHR5cGUgPT0gImZsb3ciKSB7DQogICAgICAgIHZhciBmbG93anNvbmRhdGEgPSBmbG93ZGF0YS5wYXJzZVRvSnNvbigpOw0KICAgICAgICBqc29uID0gSlNPTi5zdHJpbmdpZnkoZmxvd2pzb25kYXRhLG51bGwsNCk7DQogICAgICB9ZWxzZSBpZiAodGhpcy5vcHR5cGUgPT0gIkxpbmUiKSB7DQogICAgICAgIHZhciByID0gZnJhbWUubXlmbG93MS5HZXRNeUZsb3dDdXJyZW50Tm9kZSgpOw0KICAgICAgICB2YXIgZCA9IGZsb3dkYXRhLmdldExpbmUoci5nZXRSZWFsSWQoKSkucGFyc2VUb0pzb24oKTsNCiAgICAgICAganNvbiA9IEpTT04uc3RyaW5naWZ5KGQsbnVsbCw0KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhciByID0gZnJhbWUubXlmbG93MS5HZXRNeUZsb3dDdXJyZW50Tm9kZSgpOw0KICAgICAgICB2YXIgZCA9IGZsb3dkYXRhLmdldE5vZGUoci5nZXRSZWFsSWQoKSkucGFyc2VUb0pzb24oKTsNCiAgICAgICAganNvbiA9IEpTT04uc3RyaW5naWZ5KGQsbnVsbCw0KTsNCiAgICAgIH0NCiAgICAgIHRoaXMuanNvblRleHQ9anNvbjsNCiAgICB9LA0KICAgIGJ0blNpbXBsZUpzb24oKXsNCiAgICAgIGRlYnVnZ2VyDQogICAgICB2YXIgdGFnID10aGlzLnRhZzsNCiAgICAgIC8vdmFyIHRhZyA9ICQodGhpcykuYXR0cigidGFnIik7DQogICAgICAvL3ZhciBmbG93ZGF0YSA9IGZyYW1lLm15ZmxvdzEuR2V0TXlGbG93RGF0YSgpOw0KICAgICAgdmFyIGZsb3dkYXRhID0gdG9wLndNeWZsb3dEYXRhOw0KICAgICAgdmFyIGpzb24gPSAiIjsNCiAgICAgIGlmICh0aGlzLm9wdHlwZSA9PSAiZmxvdyIpIHsNCiAgICAgICAgdmFyIGZsb3dqc29uZGF0YSA9IHRoaXMudGFnID09ICIwIiA/IGZsb3dkYXRhLnBhcnNlVG9TaW1wbGVKc29uKCk6Zmxvd2RhdGEucGFyc2VUb0pzb24oKTsNCiAgICAgICAganNvbiA9IEpTT04uc3RyaW5naWZ5KGZsb3dqc29uZGF0YSxudWxsLDQpOw0KICAgICAgfWVsc2UgaWYgKHRoaXMub3B0eXBlID09ICJMaW5lIikgew0KICAgICAgICB2YXIgciA9IGZyYW1lLm15ZmxvdzEuR2V0TXlGbG93Q3VycmVudE5vZGUoKTsNCiAgICAgICAgdmFyIGQgPSB0aGlzLnRhZyA9PSAiMCIgPyBmbG93ZGF0YS5nZXRMaW5lKHIuZ2V0UmVhbElkKCkpLnBhcnNlVG9TaW1wbGVKc29uKCk6Zmxvd2RhdGEuZ2V0TGluZShyLmdldFJlYWxJZCgpKS5wYXJzZVRvSnNvbigpOw0KICAgICAgICBqc29uID0gSlNPTi5zdHJpbmdpZnkoZCxudWxsLDQpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdmFyIHIgPSBmcmFtZS5teWZsb3cxLkdldE15Rmxvd0N1cnJlbnROb2RlKCk7DQogICAgICAgIHZhciBkID0gdGFnID09ICIwIiA/IGZsb3dkYXRhLmdldE5vZGUoci5nZXRSZWFsSWQoKSkucGFyc2VUb1NpbXBsZUpzb24oKTpmbG93ZGF0YS5nZXROb2RlKHIuZ2V0UmVhbElkKCkpLnBhcnNlVG9Kc29uKCk7DQogICAgICAgIGpzb24gPSBKU09OLnN0cmluZ2lmeShkLG51bGwsNCk7DQogICAgICB9DQogICAgICB0aGlzLmpzb25UZXh0PWpzb247DQogICAgICAvLyQodGhpcykudmFsKHRhZyA9PSAiMCIgPyAi5Y6f5aeL5pWw5o2uIjoi566A5YyW5pWw5o2uIikuYXR0cigidGFnIix0YWcgPT0gIjAiID8gIjEiOiIwIik7DQogICAgICAvL3RoaXMuRm9ybWF0SnNvblRleHQ9dGFnID09ICIwIiA/ICLljp/lp4vmlbDmja4iOiLnroDljJbmlbDmja4iOw0KICAgICAgdGhpcy50YWcgPXRoaXMudGFnID09IDAgPyAxOjA7DQogICAgfSwNCiAgICBidG5Gb3JtYXRKc29uKCl7DQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgaWYodGhpcy5qc29uVGV4dCA9PSAiIikNCiAgICAgIHsNCiAgICAgICAgV0ZDb3JlLkRpYWxvZ1V0aWxzLnRpcERpYWxvZygi5peg5rWB56iL5pWw5o2u77yBIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHZhciBmbG93anNvbmRhdGEgPSBldmFsKCIoIit0aGlzLmpzb25UZXh0KyIpIik7DQogICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KGZsb3dqc29uZGF0YSxudWxsLDQpOw0KICAgICAgdGhpcy5qc29uVGV4dD1qc29uOw0KICAgIH0sDQogICAgYnRuQ29tcHJlc3NKc29uKCl7DQogICAgICBpZih0aGlzLmpzb25UZXh0ID09ICIiKQ0KICAgICAgew0KICAgICAgICBXRkNvcmUuRGlhbG9nVXRpbHMudGlwRGlhbG9nKCLml6DmtYHnqIvmlbDmja7vvIEiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdmFyIGZsb3dqc29uZGF0YSA9IGV2YWwoIigiK3RoaXMuanNvblRleHQrIikiKTsNCiAgICAgIHZhciBqc29uID0gSlNPTi5zdHJpbmdpZnkoZmxvd2pzb25kYXRhKTsNCiAgICAgIHRoaXMuanNvblRleHQ9anNvbjsNCiAgICB9LA0KICAgIGJ0bkNhbmNlbCgpew0KICAgICAgbmV3IFJvYWRVSS5XaW5kb3coKS5jbG9zZSgpOw0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXQoKTsNCiAgfQ0KfQ0K"},{"version":3,"sources":["ExportFlowData.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExportFlowData.vue","sourceRoot":"src/views/my-components/IVR","sourcesContent":["<template>\r\n  <div style=\"padding: 15px\">\r\n    <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" v-model=\"jsonText\" style=\"width: 100%;height: 440px;\"></textarea>\r\n    <div class=\"btn-group-warp-default\">\r\n      <Button  type=\"default\" @click=\"btnSimpleJson\">{{ tag == \"0\" ? \"简化数据\":\"原始数据\" }}</Button>\r\n      <Button type=\"default\" @click=\"btnFormatJson\">格式化</Button>\r\n      <Button type=\"default\" @click=\"btnCompressJson\">压缩</Button>\r\n      <Button type=\"default\" @click=\"btnCancel\">关 闭</Button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar frame=parent;\r\nexport default {\r\nname: \"ExportFlowData\",\r\n  data(){\r\n    return{\r\n      openerid:WFCore.GetQuery(\"openerid\"),\r\n      optype:WFCore.GetQuery(\"optype\"),\r\n      jsonText:'',\r\n      FormatJsonText:'简化数据',\r\n      tag:0,\r\n    }\r\n  },\r\n  methods:{\r\n    init(){\r\n      this.initData();\r\n    },\r\n    initData(){\r\n      if (frame == null) return;\r\n      debugger\r\n      //var flowdata = frame.myflow1.GetMyFlowData();\r\n      var flowdata = top.wMyflowData;\r\n      var json = \"\";\r\n      if (this.optype == \"flow\") {\r\n        var flowjsondata = flowdata.parseToJson();\r\n        json = JSON.stringify(flowjsondata,null,4);\r\n      }else if (this.optype == \"Line\") {\r\n        var r = frame.myflow1.GetMyFlowCurrentNode();\r\n        var d = flowdata.getLine(r.getRealId()).parseToJson();\r\n        json = JSON.stringify(d,null,4);\r\n      } else {\r\n        var r = frame.myflow1.GetMyFlowCurrentNode();\r\n        var d = flowdata.getNode(r.getRealId()).parseToJson();\r\n        json = JSON.stringify(d,null,4);\r\n      }\r\n      this.jsonText=json;\r\n    },\r\n    btnSimpleJson(){\r\n      debugger\r\n      var tag =this.tag;\r\n      //var tag = $(this).attr(\"tag\");\r\n      //var flowdata = frame.myflow1.GetMyFlowData();\r\n      var flowdata = top.wMyflowData;\r\n      var json = \"\";\r\n      if (this.optype == \"flow\") {\r\n        var flowjsondata = this.tag == \"0\" ? flowdata.parseToSimpleJson():flowdata.parseToJson();\r\n        json = JSON.stringify(flowjsondata,null,4);\r\n      }else if (this.optype == \"Line\") {\r\n        var r = frame.myflow1.GetMyFlowCurrentNode();\r\n        var d = this.tag == \"0\" ? flowdata.getLine(r.getRealId()).parseToSimpleJson():flowdata.getLine(r.getRealId()).parseToJson();\r\n        json = JSON.stringify(d,null,4);\r\n      } else {\r\n        var r = frame.myflow1.GetMyFlowCurrentNode();\r\n        var d = tag == \"0\" ? flowdata.getNode(r.getRealId()).parseToSimpleJson():flowdata.getNode(r.getRealId()).parseToJson();\r\n        json = JSON.stringify(d,null,4);\r\n      }\r\n      this.jsonText=json;\r\n      //$(this).val(tag == \"0\" ? \"原始数据\":\"简化数据\").attr(\"tag\",tag == \"0\" ? \"1\":\"0\");\r\n      //this.FormatJsonText=tag == \"0\" ? \"原始数据\":\"简化数据\";\r\n      this.tag =this.tag == 0 ? 1:0;\r\n    },\r\n    btnFormatJson(){\r\n      var than=this;\r\n      if(this.jsonText == \"\")\r\n      {\r\n        WFCore.DialogUtils.tipDialog(\"无流程数据！\");\r\n        return;\r\n      }\r\n      var flowjsondata = eval(\"(\"+this.jsonText+\")\");\r\n      var json = JSON.stringify(flowjsondata,null,4);\r\n      this.jsonText=json;\r\n    },\r\n    btnCompressJson(){\r\n      if(this.jsonText == \"\")\r\n      {\r\n        WFCore.DialogUtils.tipDialog(\"无流程数据！\");\r\n        return;\r\n      }\r\n      var flowjsondata = eval(\"(\"+this.jsonText+\")\");\r\n      var json = JSON.stringify(flowjsondata);\r\n      this.jsonText=json;\r\n    },\r\n    btnCancel(){\r\n      new RoadUI.Window().close();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}