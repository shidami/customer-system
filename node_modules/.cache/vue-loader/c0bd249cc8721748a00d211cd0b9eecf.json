{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\work-order\\business.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\work-order\\business.vue","mtime":1614579763421},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYnVzaW5lc3NBZGQgZnJvbSAnLi9jb21wb25lbnRzL2J1c2luZXNzLWFkZC52dWUnDQppbXBvcnQgYnVzaW5lc3NIYW5kbGUgZnJvbSAnLi9jb21wb25lbnRzL2J1c2luZXNzLWhhbmRsZS52dWUnDQppbXBvcnQgcmVwb3J0IGZyb20gJy4vcmVwb3J0LXBjLnZ1ZScNCmltcG9ydCB7DQogIGdldERpY3REYXRhQnlUeXBlLCAgICAgICAgIC8v5qC55o2u57G75Z6L5p+l6K+i5a2X5YW45pWw5o2uDQogIGdldEFsbEJ5T3BCdXNpbmVzc1BhZ2UsICAgIC8v6I635Y+W5b2T5YmN5YWs5Y+457q/5LiL5Y+X55CG6Lef6L+b5YiG6aG15pWw5o2uDQogIGRlbGV0ZU9wQnVzaW5lc3MsICAgICAgICAgIC8v5Yig6Zmk57q/5LiL5Y+X55CG6Lef6L+bDQogIGltcG9ydE9wQnVzaW5lc3NMaXN0LCAgICAgIC8v5a+85YWl57q/5LiL5Y+X55CG6KGo5o6l5Y+jDQp9IGZyb20gIkAvYXBpL2luZGV4IjsNCi8vIGV4Y2Vs77yM5a+85YWl5a+85Ye65ZKM6L2s5o2i5bel5YW357G7DQppbXBvcnQgZXhjZWwgZnJvbSAiQC9saWJzL2V4Y2VsIjsNCmltcG9ydCBleGNlbEV4cG9ydCBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMvZXhjZWwvZXhjZWxFeHBvcnQudnVlIjsNCmltcG9ydCBleGNlbEltcG9ydCBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMvZXhjZWwvZXhjZWxJbXBvcnQudnVlIjsNCi8vIOWvvOWHuuaWh+S7tuaJgOmcgOimgeW+l+aVsOaNruaooeadvw0KaW1wb3J0IHsNCiAgaW1wb3J0Q29sdW1ucywgICAgICAgICAgICAvL+WvvOWFpeaooeadv+ihqOWktA0KICBpbXBvcnREYXRhLCAgICAgICAgICAgICAgIC8v5a+85YWl5qih5p2/6K+05piODQogIGV4cG9ydENvbHVtbnMsICAgICAgICAgICAgLy/lr7zlh7rmlbDmja7ooajlpLQNCn0gZnJvbSAiQC9saWJzL3RhYmxlVGVtcGxhdGUvYnVzaW5lc3MuanMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBvcGVuU2VhcmNoOiBmYWxzZSwNCiAgICAgICAgbG9hZGluZzpmYWxzZSwNCiAgICAgICAgY2hhbm5lbExvYWRpbmc6ZmFsc2UsDQogICAgICAgIGNvbnRhY3RJdGVtc0xvYWRpbmc6ZmFsc2UsDQogICAgICAgIGNvbnRhY3RSZXN1bHRMb2FkaW5nOmZhbHNlLA0KICAgICAgICByZXBvcnRWaXNpYWJsZTpmYWxzZSwNCiAgICAgICAgdG90YWw6JycsDQogICAgICAgIHVzZXJJbmZvOicnLCAgICAgIC8v5b2T5YmN55So5oi35L+h5oGvDQogICAgICAgIHNlYXJjaEZvcm06ew0KICAgICAgICAgIHBhZ2VOdW1iZXI6IDEsIC8vIOW9k+WJjemhteaVsA0KICAgICAgICAgIHBhZ2VTaXplOiAxMCwgLy8g6aG16Z2i5aSn5bCPDQogICAgICAgICAgc29ydDogImlkIiwgLy8g6buY6K6k5o6S5bqP5a2X5q61DQogICAgICAgICAgb3JkZXI6ICJhc2MiLCAvLyDpu5jorqTmjpLluo/mlrnlvI8NCiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgIGNoYW5uZWw6JycsDQogICAgICAgICAgc3RhcnREYXRlOicnLCAgICAgLy/nlZnoqIDlvIDlp4vml7bpl7QNCiAgICAgICAgICBlbmREYXRlOicnLCAgICAgICAvL+eVmeiogOe7k+adn+aXtumXtA0KICAgICAgICAgIG1vYmlsZTonJywgICAgICAgIC8v6IGU57O755S16K+dDQogICAgICAgICAgYWNjZXB0Qnk6JycsICAgICAgLy/lj5fnkIblrqLmnI0NCiAgICAgICAgICBlbHNlTW9iaWxlOicnLCAgICAvL+WFtuS7luWPt+eggQ0KICAgICAgICAgIGNvbnRlbnQ6JycsICAgICAgIC8v5Y+N6aaI5YaF5a65DQogICAgICAgICAgY29udGFjdEl0ZW1zOicnLA0KICAgICAgICAgIGNvbnRhY3RSZXN1bHQ6JycsDQogICAgICAgICAgYWNjZXB0U3RhcnRUaW1lOicnLA0KICAgICAgICAgIGFjY2VwdEVuZFRpbWU6JycsDQogICAgICAgICAgYWNjZXB0VGltZU51bTonJywNCiAgICAgICAgfSwNCiAgICAgICAgc2VsZWN0VGFibGVMaXN0OltdLCAgIC8v5Yu+6YCJ6KGo5qC85pWw57uEDQogICAgICAgIHJlY29yZFRpbWVMaXN0OltdLCAgICAvL+eVmeiogOaXtumXtOaVsOe7hA0KICAgICAgICBhY2NlcHRUaW1lTGlzdDpbXSwgICAgLy/lj5fnkIbml7bpl7TmlbDnu4QNCiAgICAgICAgZGF0YUxpc3Q6IFtdLCAgICAgICAgIC8v6KGo5qC85pWw5o2uDQogICAgICAgIGNvbHVtbnNMaXN0OiBbDQogICAgICAgICAge3R5cGU6ICdzZWxlY3Rpb24nLHdpZHRoOiAnNjAnLGFsaWduOidjZW50ZXInLHRvb2x0aXA6dHJ1ZX0sDQogICAgICAgICAge3RpdGxlOiAn5rig6YGTJyxrZXk6ICdjaGFubmVsJyx0b29sdGlwOnRydWV9LA0KICAgICAgICAgIHt0aXRsZTogJ+eVmeiogOaXtumXtCcsa2V5OiAncmVjb3JkVGltZScsdG9vbHRpcDp0cnVlfSwNCiAgICAgICAgICB7dGl0bGU6ICflrqLmiLflp5PlkI0nLGtleTogJ2N1c3RvbWVyTmFtZScsdG9vbHRpcDp0cnVlfSwNCiAgICAgICAgICB7dGl0bGU6ICfmnaXnlLXlj7fnoIEnLGtleTogJ21vYmlsZScsdG9vbHRpcDp0cnVlfSwNCiAgICAgICAgICB7dGl0bGU6ICflhbbku5blj7fnoIEnLGtleTogJ2Vsc2VNb2JpbGUnLHRvb2x0aXA6dHJ1ZX0sDQogICAgICAgICAge3RpdGxlOiAn6K+m57uG5Zyw5Z2AJyxrZXk6ICdhZGRyZXNzJyx0b29sdGlwOnRydWV9LA0KICAgICAgICAgIHt0aXRsZTogJ+WPjemmiOWGheWuuScsa2V5OiAnY29udGVudCcsdG9vbHRpcDp0cnVlfSwNCiAgICAgICAgICB7dGl0bGU6ICflj5fnkIbml7bpl7QnLGtleTogJ2FjY2VwdFRpbWUnLHRvb2x0aXA6dHJ1ZX0sDQogICAgICAgICAge3RpdGxlOiAn6IGU57uc5LqL6aG5JyxrZXk6ICdjb250YWN0SXRlbXMyJyx0b29sdGlwOnRydWV9LC8vY29udGFjdEl0ZW1zMuaYr2NvbnRhY3RJdGVtc+i9rOaNoueUqOS6juWxleekuueahOaVsOaNrg0KICAgICAgICAgIHt0aXRsZTogJ+iBlOe7nOe7k+aenCcsa2V5OiAnY29udGFjdFJlc3VsdCcsdG9vbHRpcDp0cnVlfSwNCiAgICAgICAgICB7dGl0bGU6ICfot5/ov5vnu5PmnpwnLGtleTogJ3Jlc3VsdCcsdG9vbHRpcDp0cnVlfSwNCiAgICAgICAgICB7dGl0bGU6ICflj5fnkIblrqLmnI0nLGtleTogJ2FjY2VwdEJ5Jyx0b29sdGlwOnRydWV9LA0KICAgICAgICAgIHt0aXRsZTogJ+aTjeS9nCcsc2xvdDogJ2FjdGlvbicsd2lkdGg6IDIwMCxhbGlnbjogJ2NlbnRlcicsZml4ZWQgOidyaWdodCd9DQogICAgICAgIF0sDQogICAgICAgIHNlbGVjdFRpbWU6IHsgICAgICAgICAgICAgLy/nlKjkuo7lv6vpgJ/pgInmi6nml7bpl7QNCiAgICAgICAgICBzaG9ydGN1dHM6IFsNCiAgICAgICAgICAgIHt0ZXh0OiAn5YmNMeWRqCcsdmFsdWUoKSB7DQogICAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTsNCiAgICAgICAgICAgIH19LA0KICAgICAgICAgICAge3RleHQ6ICfliY0x5pyIJyx2YWx1ZSgpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTsNCiAgICAgICAgICAgIH19LA0KICAgICAgICAgICAge3RleHQ6ICfliY0z5pyIJyx2YWx1ZSgpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA5MCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTsNCiAgICAgICAgICAgIH19LA0KICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXQoKXsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKQ0KICAgIH0sDQogICAgZ2V0RGF0YUxpc3QoKXsNCiAgICAgIC8vIOi9rOaNouaXpeacn+agvOW8jw0KICAgICAgaWYodGhpcy5yZWNvcmRUaW1lTGlzdFswXSl7DQogICAgICAgIGNvbnNvbGUubG9nKDEyMykNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnN0YXJ0RGF0ZT10aGlzLmNvbW1vbkpTLmRhdGVGb3JtYXQodGhpcy5yZWNvcmRUaW1lTGlzdFswXSkNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmVuZERhdGU9dGhpcy5jb21tb25KUy5kYXRlRm9ybWF0KHRoaXMucmVjb3JkVGltZUxpc3RbMV0pDQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnN0YXJ0RGF0ZT0nJw0KICAgICAgICB0aGlzLnNlYXJjaEZvcm0uZW5kRGF0ZT0nJw0KICAgICAgfQ0KICAgICAgaWYodGhpcy5hY2NlcHRUaW1lTGlzdFswXSl7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5hY2NlcHRTdGFydFRpbWU9dGhpcy5jb21tb25KUy5kYXRlRm9ybWF0KHRoaXMuYWNjZXB0VGltZUxpc3RbMF0pDQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5hY2NlcHRFbmRUaW1lPXRoaXMuY29tbW9uSlMuZGF0ZUZvcm1hdCh0aGlzLmFjY2VwdFRpbWVMaXN0WzFdKQ0KICAgICAgfWVsc2V7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5hY2NlcHRTdGFydFRpbWU9JycNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmFjY2VwdEVuZFRpbWU9JycNCiAgICAgIH0NCiAgICAgIC8v6I635Y+W6KGo5qC85pWw5o2uDQogICAgICB0aGlzLmxvYWRpbmc9dHJ1ZQ0KICAgICAgZ2V0QWxsQnlPcEJ1c2luZXNzUGFnZSh0aGlzLnNlYXJjaEZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nPWZhbHNlDQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIGxldCBkYXRhPXJlcy5yZXN1bHQuY29udGVudA0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdGhpcy5jb21tb25KUy5kZWxldGVOdWxsKGRhdGFbaV0pDQogICAgICAgICAgICAvLyDovazmjaLmlbDnu4QNCiAgICAgICAgICAgIGxldCBzdHI9ZGF0YVtpXS5jb250YWN0SXRlbXMNCiAgICAgICAgICAgIGlmKHN0cil7DQogICAgICAgICAgICAgIGRhdGFbaV0uY29udGFjdEl0ZW1zMj1zdHINCiAgICAgICAgICAgICAgZGF0YVtpXS5jb250YWN0SXRlbXM9c3RyLnNwbGl0KCcsJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGENCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnJlc3VsdC50b3RhbEVsZW1lbnRzOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsDQogICAgICAgICAgICBjb250ZW50OiByZXMubWVzc2FnZQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZURyb3Bkb3duKG5hbWUpIHsNCiAgICAgIGlmIChuYW1lID09ICJkb3dubG9hZERhdGEiKSB7IC8v5qih5p2/5LiL6L296YC76L6RDQogICAgICAgIC8vIOWvueaooeadv+ivtOaYjuWKqOaAgea3u+WKoOWPr+mAiemhuS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgaW1wb3J0RGF0YVswXS5jaGFubmVsKz10aGlzLmNvbW1vbkpTLmdldERpY3RWYWx1ZUFycih0aGlzLiRzdG9yZS5zdGF0ZS5kaWN0LmNoYW5uZWwpLnRvU3RyaW5nKCkgICAgICAvLyDmuKDpgZMNCiAgICAgICAgaW1wb3J0RGF0YVswXS5jb250YWN0SXRlbXMrPXRoaXMuY29tbW9uSlMuZ2V0RGljdFZhbHVlQXJyKHRoaXMuJHN0b3JlLnN0YXRlLmRpY3QuY29udGFjdE1hdHRlcikudG9TdHJpbmcoKSAvLyDogZTnu5zkuovpobkNCiAgICAgICAgaW1wb3J0RGF0YVswXS5jb250YWN0UmVzdWx0Kz10aGlzLmNvbW1vbkpTLmdldERpY3RWYWx1ZUFycih0aGlzLiRzdG9yZS5zdGF0ZS5kaWN0LmNvbnRhY3RSZXN1bHRzKS50b1N0cmluZygpIC8vIOiBlOe7nOe7k+aenA0KICAgICAgICAvLyDlr7nmqKHmnb/or7TmmI7liqjmgIHmt7vliqDlj6/pgInpoblvdmVyLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgY29uc29sZS5sb2coJ+S4i+i9veaooeadvycpDQogICAgICAgIGxldCB0aXRsZSA9IFtdOw0KICAgICAgICBsZXQga2V5ID0gW107DQogICAgICAgIGltcG9ydENvbHVtbnMuZm9yRWFjaChlID0+IHsNCiAgICAgICAgICB0aXRsZS5wdXNoKGUudGl0bGUpOw0KICAgICAgICAgIGtleS5wdXNoKGUua2V5KTsNCiAgICAgICAgfSk7DQogICAgICAgIGV4Y2VsLmV4cG9ydF9hcnJheV90b19leGNlbCh7dGl0bGU6IHRpdGxlLGtleToga2V5LGRhdGE6IGltcG9ydERhdGEsIGZpbGVuYW1lOiAi5a+85YWl5pWw5o2u5qih54mIIn0pOw0KICAgICAgfSBlbHNlIGlmIChuYW1lID09ICJleHBvcnREYXRhIikgeyAvL+WvvOWHuumAu+i+kQ0KICAgICAgICBpZighdGhpcy5zZWxlY3RUYWJsZUxpc3QubGVuZ3RoKXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoe2JhY2tncm91bmQ6IHRydWUsY29udGVudDogJ+ivt+WLvumAiemcgOimgeWIoOmZpOeahOaVsOaNrid9KTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy4kcmVmcy5leGNlbEV4cG9ydC5leHBvcnRDb2x1bW5zPWV4cG9ydENvbHVtbnMgICAgIC8v6KGo5qC86KGo5aS05pWw5o2uDQogICAgICAgICAgdGhpcy4kcmVmcy5leGNlbEV4cG9ydC5leHBvcnREYXRhPXRoaXMuc2VsZWN0VGFibGVMaXN0IC8v6KGo5qC85YaF5a655pWw5o2uDQogICAgICAgICAgdGhpcy4kcmVmcy5leGNlbEV4cG9ydC5leHBvcnRNb2RhbFZpc2libGUgPSB0cnVlOyAgICAgIC8v5pi+56S65a+56K+d5qGGDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAiaW1wb3J0RGF0YSIpIHsgLy/lr7zlhaXpgLvovpENCiAgICAgICAgdGhpcy4kcmVmcy5leGNlbEltcG9ydC5pbXBvcnRNb2RhbFZpc2libGUgPSB0cnVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgaW1wb3J0SGFuZGxlKGRhdGEpew0KICAgICAgLy/lpITnkIbmlbDmja7moLzlvI8NCiAgICAgIGZvciAobGV0IGl0ZW0gb2YgZGF0YSkgew0KICAgICAgICAvLyDlgZrlv4XpgInpobnlkozlhbHlkIzpgInpobnliKTmlq0NCiAgICAgICAgaWYoKCFpdGVtLmN1c3RvbWVyTmFtZSl8fCghaXRlbS5tb2JpbGUpfHwoIWl0ZW0uYWRkcmVzcykpew0KICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0sIWl0ZW0ubW9iaWxlLCFpdGVtLmFkZHJlc3MpDQogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcih7YmFja2dyb3VuZDogdHJ1ZSxjb250ZW50OiAn5b+F5aGr6aG55LiN6IO95Li656m6JyxjbG9zYWJsZTp0cnVlfSk7DQogICAgICAgICAgcmV0dXJuIA0KICAgICAgICB9DQogICAgICAgIGlmKGl0ZW0uYWNjZXB0VGltZSYmaXRlbS5jb250YWN0SXRlbXMmJml0ZW0uY29udGFjdFJlc3VsdCYmaXRlbS5yZXN1bHQpew0KICAgICAgICAgIGNvbnNvbGUubG9nKCflhbHlkIzpgInloavvvJrlhajloasnLGl0ZW0uYWNjZXB0VGltZSxpdGVtLmNvbnRhY3RJdGVtcyxpdGVtLmNvbnRhY3RSZXN1bHQsaXRlbS5yZXN1bHQpDQogICAgICAgICAgLy8g5bCG6IGU57uc5LqL6aG55a2X56ym5Liy55qE6YCX5Y+36L+b6KGM5aSE55CGDQogICAgICAgICAgaXRlbS5jb250YWN0SXRlbXM9aXRlbS5jb250YWN0SXRlbXMucmVwbGFjZSgi77yMIiwiLCIpDQogICAgICAgICAgLy8g5bCG5Y+X55CG5pe26Ze05pel5pyf5pWw5o2u6L2s5Li65qCH5YeG5pel5pyf5qC85byPDQogICAgICAgICAgaXRlbS5hY2NlcHRUaW1lPXRoaXMuY29tbW9uSlMuZGF0ZUZvcm1hdChpdGVtLmFjY2VwdFRpbWUpDQogICAgICAgICAgaWYoIWl0ZW0uYWNjZXB0Qnkpew0KICAgICAgICAgICAgaXRlbS5hY2NlcHRCeT10aGlzLnVzZXJJbmZvLm5pY2tuYW1lDQogICAgICAgICAgfQ0KICAgICAgICB9ZWxzZSBpZighaXRlbS5hY2NlcHRUaW1lJiYhaXRlbS5jb250YWN0SXRlbXMmJiFpdGVtLmNvbnRhY3RSZXN1bHQmJiFpdGVtLnJlc3VsdCl7DQogICAgICAgICAgY29uc29sZS5sb2coJ+WFseWQjOmAieWhq++8muWFqOS4jeWhqycpDQogICAgICAgICAgaXRlbS5hY2NlcHRCeT0nJw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHtiYWNrZ3JvdW5kOiB0cnVlLGNvbnRlbnQ6ICflhbHlkIzpgInloavor7flhajloavmiJblhajkuI3loasnLGNsb3NhYmxlOnRydWV9KTsNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICAvLyDlsIbnlZnoqIDml7bpl7Tml6XmnJ/mlbDmja7ovazkuLrmoIflh4bml6XmnJ/moLzlvI8NCiAgICAgICAgaWYoaXRlbS5yZWNvcmRUaW1lKXsNCiAgICAgICAgICBpdGVtLnJlY29yZFRpbWU9dGhpcy5jb21tb25KUy5kYXRlRm9ybWF0KGl0ZW0ucmVjb3JkVGltZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgbGV0IGRhdGFMaXN0PUpTT04uc3RyaW5naWZ5KGRhdGEpOw0KICAgICAgaW1wb3J0T3BCdXNpbmVzc0xpc3Qoe2RhdGFMaXN0OmRhdGFMaXN0fSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3Moew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdHJ1ZSwNCiAgICAgICAgICAgIGNvbnRlbnQ6ICflr7zlhaXmiJDlip8nDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy4kcmVmcy5leGNlbEltcG9ydC5jbG9zZSgpDQogICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsDQogICAgICAgICAgICBjb250ZW50OiByZXMubWVzc2FnZQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZUVkaXQoaXNBZGQsaW5kZXgpew0KICAgICAgdGhpcy4kcmVmcy5idXNpbmVzc0FkZC52aXNpYWJsZT10cnVlDQogICAgICB0aGlzLiRyZWZzLmJ1c2luZXNzQWRkLmlzQWRkPWlzQWRkDQogICAgICB0aGlzLiRyZWZzLmJ1c2luZXNzQWRkLmhhbmRsZVJlc2V0KCkNCiAgICAgIGlmKCFpc0FkZCl7DQogICAgICAgIHRoaXMuJHJlZnMuYnVzaW5lc3NBZGQuZm9ybURhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGFMaXN0W2luZGV4XSkpDQogICAgICB9DQogICAgfSwNCiAgICBjb2x1bW5IYW5kbGUoaW5kZXgpIHsNCiAgICAgIHRoaXMuJHJlZnMuYnVzaW5lc3NIYW5kbGUuaGFuZGxlUmVzZXQoKQ0KICAgICAgdGhpcy4kcmVmcy5idXNpbmVzc0hhbmRsZS5mb3JtRGF0YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YUxpc3RbaW5kZXhdKSkNCiAgICAgIHRoaXMuJHJlZnMuYnVzaW5lc3NIYW5kbGUudmlzaWFibGU9dHJ1ZQ0KICAgIH0sDQogICAgcmVwb3J0SGFuZGxlKGluZGV4KSB7DQogICAgICAvLyB0aGlzLiRyZWZzLnJlcG9ydC52aXNpYWJsZT10cnVlDQogICAgfSwNCiAgICByZW1vdmVIYW5kbGUoKSB7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdFRhYmxlTGlzdCkNCiAgICAgIGlmKCF0aGlzLnNlbGVjdFRhYmxlTGlzdC5sZW5ndGgpew0KICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoew0KICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsDQogICAgICAgICAgY29udGVudDogJ+ivt+WLvumAiemcgOimgeWIoOmZpOeahOaVsOaNricNCiAgICAgICAgfSk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaQiLA0KICAgICAgICAgIGNvbnRlbnQ6ICLmgqjnoa7orqTopoHliKDpmaTmiYDpgInnmoQgIiArIHRoaXMuc2VsZWN0VGFibGVMaXN0Lmxlbmd0aCArICIg5p2h5pWw5o2uPyIsDQogICAgICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgICAgICBvbk9rOiAoKSA9PiB7DQogICAgICAgICAgICBsZXQgcGFyYW1zID0gW107DQogICAgICAgICAgICB0aGlzLnNlbGVjdFRhYmxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgcGFyYW1zLnB1c2goZS5pZCkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8g5om56YeP5Yig6ZmkDQogICAgICAgICAgICBkZWxldGVPcEJ1c2luZXNzKHtpZHM6cGFyYW1zfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHsNCiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsDQogICAgICAgICAgICAgICAgICBjb250ZW50OiAn5Yig6Zmk5oiQ5YqfJw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcih7DQogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgY29udGVudDogcmVzLm1lc3NhZ2UNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZVNlYXJjaChuYW1lKSB7DQoNCiAgICB9LA0KICAgIC8v6KGo5Y2V6YeN572u77yM6ZyA6KaBcHJvcOWxnuaApw0KICAgIGhhbmRsZVJlc2V0KG5hbWUpIHsNCiAgICAgIC8vIHRoaXMuJHJlZnMuc2VhcmNoRm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgdGhpcy4kcmVmc1tuYW1lXS5yZXNldEZpZWxkcygpOw0KICAgICAgdGhpcy5yZWNvcmRUaW1lTGlzdD1bXQ0KICAgICAgdGhpcy5hY2NlcHRUaW1lTGlzdD1bXQ0KICAgIH0sDQogICAgY2hhbmdlUGFnZSh2KSB7DQogICAgICBjb25zb2xlLmxvZyh2KQ0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSB2Ow0KICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgIH0sDQogICAgY2hhbmdlUGFnZVNpemUodikgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gdjsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIC8v5Yid5aeL5YyW6I635Y+W5a2X5YW45pWw5o2uDQogICAgaW5pdERhdGEoKXsNCiAgICAgIC8v6I635Y+W5LiA57qn5rig6YGT5pWw5o2uDQogICAgICB0aGlzLmNoYW5uZWxMb2FkaW5nPXRydWUNCiAgICAgIGdldERpY3REYXRhQnlUeXBlKCdvcF9idXNpbmVzc19jaGFubmVsX2xldmVsMScpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5jaGFubmVsTG9hZGluZz1mYWxzZQ0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldENoYW5uZWwnLHJlcy5yZXN1bHQpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3Ioew0KICAgICAgICAgICAgYmFja2dyb3VuZDogdHJ1ZSwNCiAgICAgICAgICAgIGNvbnRlbnQ6IHJlcy5tZXNzYWdlDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgLy/ojrflj5bogZTnu5zkuovpobnmlbDmja4NCiAgICAgIHRoaXMuY29udGFjdEl0ZW1zTG9hZGluZz10cnVlDQogICAgICBnZXREaWN0RGF0YUJ5VHlwZSgnb3BfY29udGFjdF9pdGVtJykudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmNvbnRhY3RJdGVtc0xvYWRpbmc9ZmFsc2UNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDb250YWN0TWF0dGVyJyxyZXMucmVzdWx0KQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsDQogICAgICAgICAgICBjb250ZW50OiByZXMubWVzc2FnZQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIC8v6I635Y+W6IGU57uc57uT5p6c5pWw5o2uDQogICAgICB0aGlzLmNvbnRhY3RSZXN1bHRMb2FkaW5nPXRydWUNCiAgICAgIGdldERpY3REYXRhQnlUeXBlKCdvcF9jb250YWN0X3Jlc3VsdCcpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5jb250YWN0UmVzdWx0TG9hZGluZz1mYWxzZQ0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldENvbnRhY3RSZXN1bHRzJyxyZXMucmVzdWx0KQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsDQogICAgICAgICAgICBjb250ZW50OiByZXMubWVzc2FnZQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgY29uc29sZS5sb2codGhpcy5jb21tb25KUy5kYXRlRm9ybWF0KCcyMDAxLTEtMScpKSANCiAgICB0aGlzLnVzZXJJbmZvPUpTT04ucGFyc2UodGhpcy5nZXRTdG9yZSgndXNlckluZm8nKSkNCiAgICB0aGlzLmluaXQoKQ0KICAgIC8v5b2TdnVleOS4reayoeacieaVsOaNruWwseivt+axguW5tua3u+WKoOWIsHZ1ZXjvvIznm67liY3pobnnm67mmK/liIfmjaJ0YWLmoIfnrb7pobXph43mlrDovb3lhaXkuIDmrKHpobXpnaLvvIzmiYDmnInlj5jph4/kvJrliJ3lp4vljJbvvIzmiYDku6Xlj6rog73nlKh2dWV45Y+Y6YeP5Yik5pat77yMDQogICAgLy/lkI7mnJ/lj6/ku6XogIPomZHnu5nliqDkuIprZWVwYWxpdmUs5LiN55So5q+P5qyh5YiH5o2i5qCH562+6aG16YO96YeN5paw6L295YWl6LWE5rqQDQogICAgaWYodGhpcy4kc3RvcmUuc3RhdGUuZGljdC5jaGFubmVsLmxlbmd0aD09MCl7DQogICAgICAvL+WIneWni+WMluivt+axguaJgOacieWtl+WFuOaVsOaNrg0KICAgICAgdGhpcy5pbml0RGF0YSgpICAgICANCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6ew0KICAgIGJ1c2luZXNzQWRkLA0KICAgIGJ1c2luZXNzSGFuZGxlLA0KICAgIHJlcG9ydCwNCiAgICBleGNlbEV4cG9ydCwNCiAgICBleGNlbEltcG9ydCwNCiAgfQ0KfQ0K"},{"version":3,"sources":["business.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"business.vue","sourceRoot":"src/views/work-order","sourcesContent":["<template>\r\n  <div>\r\n  <Card>\r\n    <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"75\">\r\n      <Row>\r\n        <FormItem label=\"渠道\" prop=\"channel\">\r\n          <Select v-model=\"searchForm.channel\" filterable :loading=\"channelLoading\">\r\n            <Option v-for=\"item in $store.state.dict.channel\" :value=\"item.value\" :key=\"item.id\">{{item.title}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <Form-item label=\"留言时间\">\r\n          <DatePicker v-model=\"recordTimeList\" :options=\"selectTime\" style=\"width: 170px\" type=\"daterange\" format=\"yyyy-MM-dd\"></DatePicker>\r\n        </Form-item>\r\n        <FormItem label=\"联系电话\" prop=\"mobile\">\r\n          <Input v-model=\"searchForm.mobile\" />\r\n        </FormItem>\r\n        <FormItem label=\"受理客服\" prop=\"acceptBy\">\r\n          <Input v-model=\"searchForm.acceptBy\" />\r\n        </FormItem>\r\n        <Form-item class=\"br\" style=\"margin-left: -50px;\">\r\n          <a class=\"mr-10\" @click=\"openSearch=!openSearch\">{{openSearch?'收起':'展开'}}<Icon :type=\"openSearch?'ios-arrow-up':'ios-arrow-down'\"></Icon></a>\r\n          <Button @click.native=\"getDataList\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n          <Button @click=\"handleReset('searchForm')\">重置</Button>\r\n          <Button type=\"primary\" @click=\"handleEdit(true)\">添加</Button>\r\n          <Button type=\"error\" @click=\"removeHandle\">删除</Button>\r\n          <Dropdown @on-click=\"handleDropdown\" trigger='hover' transfer>\r\n            <Button>更多操作<Icon type=\"md-arrow-dropdown\" /></Button>\r\n            <DropdownMenu slot=\"list\" class=\"width-120\">\r\n              <DropdownItem name=\"downloadData\">下载模板</DropdownItem>\r\n              <DropdownItem name=\"exportData\">导出知识</DropdownItem>\r\n              <DropdownItem name=\"importData\">导入知识</DropdownItem>\r\n            </DropdownMenu>\r\n          </Dropdown>\r\n          <Button @click.native=\"reportVisiable=true\" type=\"primary\">客户端自助报修</Button>\r\n        </Form-item>\r\n      </Row>\r\n      <Row v-show=\"openSearch\">\r\n        <FormItem label=\"其他电话\" prop=\"elseMobile\">\r\n          <Input v-model=\"searchForm.elseMobile\" />\r\n        </FormItem>\r\n        <FormItem label=\"反馈内容\" prop=\"content\">\r\n          <Input v-model=\"searchForm.content\" />\r\n        </FormItem>\r\n        <FormItem label=\"联络事项\" prop=\"contactItems\">\r\n          <Select v-model=\"searchForm.contactItems\" filterable :loading=\"contactItemsLoading\">\r\n            <Option v-for=\"item in $store.state.dict.contactMatter\" :value=\"item.value\" :key=\"item.id\">{{item.title}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"联络结果\" prop=\"contactResult\">\r\n          <Select v-model=\"searchForm.contactResult\" filterable :loading=\"contactResultLoading\">\r\n            <Option v-for=\"item in $store.state.dict.contactResults\" :value=\"item.value\" :key=\"item.id\">{{item.title}}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <Form-item label=\"受理时间\">\r\n          <DatePicker v-model=\"acceptTimeList\" :options=\"selectTime\" style=\"width: 170px\"  type=\"daterange\" format=\"yyyy-MM-dd\"></DatePicker>\r\n        </Form-item>\r\n        <FormItem label=\"受理时长(小时)\" prop=\"acceptTimeNum\">\r\n          <Input v-model=\"searchForm.acceptTimeNum\" placeholder=\"不大于此值的记录\"/>\r\n        </FormItem>\r\n      </Row>\r\n    </Form>\r\n    <Table border :columns=\"columnsList\" :data=\"dataList\" :loading=\"loading\" @on-selection-change=\"selectTableList=$event\">\r\n      <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n        <Button class=\"mr-5\" type=\"primary\" size=\"small\" @click=\"reportHandle(index)\">新建工单</Button>\r\n        <Button class=\"mr-5\" :type=\"row.acceptTimeNum>2?'error':'primary'\" size=\"small\" @click=\"columnHandle(index)\" v-if=\"!row.acceptTime\">处理</Button>\r\n        <Button class=\"mr-5\" type=\"primary\" size=\"small\" @click=\"handleEdit(false,index)\">编辑</Button>\r\n        <!-- <Button type=\"error\" size=\"small\" @click=\"removeHandle(index)\">删除</Button> -->\r\n      </template>\r\n    </Table>\r\n    <Row type=\"flex\" justify=\"end\" style=\"margin-top: 2vh;\">\r\n      <Page :current=\"searchForm.pageNumber\" :total=\"total\" :page-size=\"searchForm.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[10,20,50]\" size=\"small\" show-total show-elevator show-sizer ></Page>\r\n    </Row>\r\n\r\n  </Card>\r\n  <Modal v-model=\"reportVisiable\" title=\"报修\" width=\"50\" footer-hide>\r\n    <report></report>\r\n  </Modal>\r\n  <business-add ref=\"businessAdd\"></business-add>\r\n  <business-handle ref=\"businessHandle\"></business-handle>\r\n  <excel-export ref=\"excelExport\"></excel-export>\r\n  <excel-import ref=\"excelImport\" @import=\"importHandle\"></excel-import>\r\n  </div>\r\n</template>\r\n<script>\r\nimport businessAdd from './components/business-add.vue'\r\nimport businessHandle from './components/business-handle.vue'\r\nimport report from './report-pc.vue'\r\nimport {\r\n  getDictDataByType,         //根据类型查询字典数据\r\n  getAllByOpBusinessPage,    //获取当前公司线下受理跟进分页数据\r\n  deleteOpBusiness,          //删除线下受理跟进\r\n  importOpBusinessList,      //导入线下受理表接口\r\n} from \"@/api/index\";\r\n// excel，导入导出和转换工具类\r\nimport excel from \"@/libs/excel\";\r\nimport excelExport from \"@/views/my-components/excel/excelExport.vue\";\r\nimport excelImport from \"@/views/my-components/excel/excelImport.vue\";\r\n// 导出文件所需要得数据模板\r\nimport {\r\n  importColumns,            //导入模板表头\r\n  importData,               //导入模板说明\r\n  exportColumns,            //导出数据表头\r\n} from \"@/libs/tableTemplate/business.js\";\r\nexport default {\r\n    data() {\r\n      return {\r\n        openSearch: false,\r\n        loading:false,\r\n        channelLoading:false,\r\n        contactItemsLoading:false,\r\n        contactResultLoading:false,\r\n        reportVisiable:false,\r\n        total:'',\r\n        userInfo:'',      //当前用户信息\r\n        searchForm:{\r\n          pageNumber: 1, // 当前页数\r\n          pageSize: 10, // 页面大小\r\n          sort: \"id\", // 默认排序字段\r\n          order: \"asc\", // 默认排序方式\r\n          // -----------------------------------------------\r\n          channel:'',\r\n          startDate:'',     //留言开始时间\r\n          endDate:'',       //留言结束时间\r\n          mobile:'',        //联系电话\r\n          acceptBy:'',      //受理客服\r\n          elseMobile:'',    //其他号码\r\n          content:'',       //反馈内容\r\n          contactItems:'',\r\n          contactResult:'',\r\n          acceptStartTime:'',\r\n          acceptEndTime:'',\r\n          acceptTimeNum:'',\r\n        },\r\n        selectTableList:[],   //勾选表格数组\r\n        recordTimeList:[],    //留言时间数组\r\n        acceptTimeList:[],    //受理时间数组\r\n        dataList: [],         //表格数据\r\n        columnsList: [\r\n          {type: 'selection',width: '60',align:'center',tooltip:true},\r\n          {title: '渠道',key: 'channel',tooltip:true},\r\n          {title: '留言时间',key: 'recordTime',tooltip:true},\r\n          {title: '客户姓名',key: 'customerName',tooltip:true},\r\n          {title: '来电号码',key: 'mobile',tooltip:true},\r\n          {title: '其他号码',key: 'elseMobile',tooltip:true},\r\n          {title: '详细地址',key: 'address',tooltip:true},\r\n          {title: '反馈内容',key: 'content',tooltip:true},\r\n          {title: '受理时间',key: 'acceptTime',tooltip:true},\r\n          {title: '联络事项',key: 'contactItems2',tooltip:true},//contactItems2是contactItems转换用于展示的数据\r\n          {title: '联络结果',key: 'contactResult',tooltip:true},\r\n          {title: '跟进结果',key: 'result',tooltip:true},\r\n          {title: '受理客服',key: 'acceptBy',tooltip:true},\r\n          {title: '操作',slot: 'action',width: 200,align: 'center',fixed :'right'}\r\n        ],\r\n        selectTime: {             //用于快速选择时间\r\n          shortcuts: [\r\n            {text: '前1周',value() {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                return [start, end];\r\n            }},\r\n            {text: '前1月',value() {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                return [start, end];\r\n            }},\r\n            {text: '前3月',value() {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                return [start, end];\r\n            }},\r\n          ]\r\n        },\r\n      }\r\n  },\r\n  methods: {\r\n    init(){\r\n      this.getDataList()\r\n    },\r\n    getDataList(){\r\n      // 转换日期格式\r\n      if(this.recordTimeList[0]){\r\n        console.log(123)\r\n        this.searchForm.startDate=this.commonJS.dateFormat(this.recordTimeList[0])\r\n        this.searchForm.endDate=this.commonJS.dateFormat(this.recordTimeList[1])\r\n      }else{\r\n        this.searchForm.startDate=''\r\n        this.searchForm.endDate=''\r\n      }\r\n      if(this.acceptTimeList[0]){\r\n        this.searchForm.acceptStartTime=this.commonJS.dateFormat(this.acceptTimeList[0])\r\n        this.searchForm.acceptEndTime=this.commonJS.dateFormat(this.acceptTimeList[1])\r\n      }else{\r\n        this.searchForm.acceptStartTime=''\r\n        this.searchForm.acceptEndTime=''\r\n      }\r\n      //获取表格数据\r\n      this.loading=true\r\n      getAllByOpBusinessPage(this.searchForm).then(res => {\r\n        this.loading=false\r\n        if (res.success) {\r\n          let data=res.result.content\r\n          for (let i = 0; i < data.length; i++) {\r\n            this.commonJS.deleteNull(data[i])\r\n            // 转换数组\r\n            let str=data[i].contactItems\r\n            if(str){\r\n              data[i].contactItems2=str\r\n              data[i].contactItems=str.split(',')\r\n            }\r\n          }\r\n          this.dataList = data\r\n          this.total = res.result.totalElements;\r\n        }else{\r\n          this.$Message.error({\r\n            background: true,\r\n            content: res.message\r\n          });\r\n        }\r\n      });\r\n    },\r\n    handleDropdown(name) {\r\n      if (name == \"downloadData\") { //模板下载逻辑\r\n        // 对模板说明动态添加可选项-------------------------------\r\n        importData[0].channel+=this.commonJS.getDictValueArr(this.$store.state.dict.channel).toString()      // 渠道\r\n        importData[0].contactItems+=this.commonJS.getDictValueArr(this.$store.state.dict.contactMatter).toString() // 联络事项\r\n        importData[0].contactResult+=this.commonJS.getDictValueArr(this.$store.state.dict.contactResults).toString() // 联络结果\r\n        // 对模板说明动态添加可选项over-----------------------------\r\n        console.log('下载模板')\r\n        let title = [];\r\n        let key = [];\r\n        importColumns.forEach(e => {\r\n          title.push(e.title);\r\n          key.push(e.key);\r\n        });\r\n        excel.export_array_to_excel({title: title,key: key,data: importData, filename: \"导入数据模版\"});\r\n      } else if (name == \"exportData\") { //导出逻辑\r\n        if(!this.selectTableList.length){\r\n          this.$Message.warning({background: true,content: '请勾选需要删除的数据'});\r\n        }else{\r\n          this.$refs.excelExport.exportColumns=exportColumns     //表格表头数据\r\n          this.$refs.excelExport.exportData=this.selectTableList //表格内容数据\r\n          this.$refs.excelExport.exportModalVisible = true;      //显示对话框\r\n        }\r\n      } else if (name == \"importData\") { //导入逻辑\r\n        this.$refs.excelImport.importModalVisible = true;\r\n      }\r\n    },\r\n    importHandle(data){\r\n      //处理数据格式\r\n      for (let item of data) {\r\n        // 做必选项和共同选项判断\r\n        if((!item.customerName)||(!item.mobile)||(!item.address)){\r\n          console.log(item,!item.mobile,!item.address)\r\n          this.$Message.error({background: true,content: '必填项不能为空',closable:true});\r\n          return \r\n        }\r\n        if(item.acceptTime&&item.contactItems&&item.contactResult&&item.result){\r\n          console.log('共同选填：全填',item.acceptTime,item.contactItems,item.contactResult,item.result)\r\n          // 将联络事项字符串的逗号进行处理\r\n          item.contactItems=item.contactItems.replace(\"，\",\",\")\r\n          // 将受理时间日期数据转为标准日期格式\r\n          item.acceptTime=this.commonJS.dateFormat(item.acceptTime)\r\n          if(!item.acceptBy){\r\n            item.acceptBy=this.userInfo.nickname\r\n          }\r\n        }else if(!item.acceptTime&&!item.contactItems&&!item.contactResult&&!item.result){\r\n          console.log('共同选填：全不填')\r\n          item.acceptBy=''\r\n        }else{\r\n          this.$Message.error({background: true,content: '共同选填请全填或全不填',closable:true});\r\n          return\r\n        }\r\n        // 将留言时间日期数据转为标准日期格式\r\n        if(item.recordTime){\r\n          item.recordTime=this.commonJS.dateFormat(item.recordTime)\r\n        }\r\n      }\r\n      let dataList=JSON.stringify(data);\r\n      importOpBusinessList({dataList:dataList}).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success({\r\n            background: true,\r\n            content: '导入成功'\r\n          });\r\n          this.$refs.excelImport.close()\r\n          this.getDataList();\r\n        }else{\r\n          this.$Message.error({\r\n            background: true,\r\n            content: res.message\r\n          });\r\n        }\r\n      });\r\n    },\r\n    handleEdit(isAdd,index){\r\n      this.$refs.businessAdd.visiable=true\r\n      this.$refs.businessAdd.isAdd=isAdd\r\n      this.$refs.businessAdd.handleReset()\r\n      if(!isAdd){\r\n        this.$refs.businessAdd.formData=JSON.parse(JSON.stringify(this.dataList[index]))\r\n      }\r\n    },\r\n    columnHandle(index) {\r\n      this.$refs.businessHandle.handleReset()\r\n      this.$refs.businessHandle.formData=JSON.parse(JSON.stringify(this.dataList[index]))\r\n      this.$refs.businessHandle.visiable=true\r\n    },\r\n    reportHandle(index) {\r\n      // this.$refs.report.visiable=true\r\n    },\r\n    removeHandle() {\r\n      console.log(this.selectTableList)\r\n      if(!this.selectTableList.length){\r\n        this.$Message.warning({\r\n          background: true,\r\n          content: '请勾选需要删除的数据'\r\n        });\r\n      }else{\r\n        this.$Modal.confirm({\r\n          title: \"确认删除\",\r\n          content: \"您确认要删除所选的 \" + this.selectTableList.length + \" 条数据?\",\r\n          loading: true,\r\n          onOk: () => {\r\n            let params = [];\r\n            this.selectTableList.forEach(function(e) {\r\n              params.push(e.id)\r\n            });\r\n            // 批量删除\r\n            deleteOpBusiness({ids:params}).then(res => {\r\n              this.$Modal.remove();\r\n              if (res.success) {\r\n                this.$Message.success({\r\n                  background: true,\r\n                  content: '删除成功'\r\n                });\r\n                this.getDataList();\r\n              }else{\r\n                this.$Message.error({\r\n                  background: true,\r\n                  content: res.message\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    handleSearch(name) {\r\n\r\n    },\r\n    //表单重置，需要prop属性\r\n    handleReset(name) {\r\n      // this.$refs.searchForm.resetFields();\r\n      this.$refs[name].resetFields();\r\n      this.recordTimeList=[]\r\n      this.acceptTimeList=[]\r\n    },\r\n    changePage(v) {\r\n      console.log(v)\r\n      this.searchForm.pageNumber = v;\r\n      this.getDataList();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getDataList();\r\n    },\r\n    //初始化获取字典数据\r\n    initData(){\r\n      //获取一级渠道数据\r\n      this.channelLoading=true\r\n      getDictDataByType('op_business_channel_level1').then(res => {\r\n        this.channelLoading=false\r\n        if (res.success) {\r\n          this.$store.commit('setChannel',res.result)\r\n        }else{\r\n          this.$Message.error({\r\n            background: true,\r\n            content: res.message\r\n          });\r\n        }\r\n      });\r\n      //获取联络事项数据\r\n      this.contactItemsLoading=true\r\n      getDictDataByType('op_contact_item').then(res => {\r\n        this.contactItemsLoading=false\r\n        if (res.success) {\r\n          this.$store.commit('setContactMatter',res.result)\r\n        }else{\r\n          this.$Message.error({\r\n            background: true,\r\n            content: res.message\r\n          });\r\n        }\r\n      });\r\n      //获取联络结果数据\r\n      this.contactResultLoading=true\r\n      getDictDataByType('op_contact_result').then(res => {\r\n        this.contactResultLoading=false\r\n        if (res.success) {\r\n          this.$store.commit('setContactResults',res.result)\r\n        }else{\r\n          this.$Message.error({\r\n            background: true,\r\n            content: res.message\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    console.log(this.commonJS.dateFormat('2001-1-1')) \r\n    this.userInfo=JSON.parse(this.getStore('userInfo'))\r\n    this.init()\r\n    //当vuex中没有数据就请求并添加到vuex，目前项目是切换tab标签页重新载入一次页面，所有变量会初始化，所以只能用vuex变量判断，\r\n    //后期可以考虑给加上keepalive,不用每次切换标签页都重新载入资源\r\n    if(this.$store.state.dict.channel.length==0){\r\n      //初始化请求所有字典数据\r\n      this.initData()     \r\n    }\r\n  },\r\n  components:{\r\n    businessAdd,\r\n    businessHandle,\r\n    report,\r\n    excelExport,\r\n    excelImport,\r\n  }\r\n}\r\n</script>\r\n"]}]}