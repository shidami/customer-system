{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\reset.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\reset.vue","mtime":1614579763341},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICB2YXB0Y2hhSUQsDQogIHNlbmRSZXNldFNtcywNCiAgcmVzZXRCeU1vYmlsZSwNCiAgc2VuZFJlc2V0RW1haWwsDQogIHJlc2V0QnlFbWFpbA0KfSBmcm9tICJAL2FwaS9pbmRleCI7DQppbXBvcnQgeyB2YWxpZGF0ZU1vYmlsZSwgdmFsaWRhdGVQYXNzd29yZCB9IGZyb20gIkAvbGlicy92YWxpZGF0ZSI7DQppbXBvcnQgSGVhZGVyIGZyb20gIkAvdmlld3MvbWFpbi1jb21wb25lbnRzL2hlYWRlciI7DQppbXBvcnQgRm9vdGVyIGZyb20gIkAvdmlld3MvbWFpbi1jb21wb25lbnRzL2Zvb3RlciI7DQppbXBvcnQgTGFuZ1N3aXRjaCBmcm9tICJAL3ZpZXdzL21haW4tY29tcG9uZW50cy9sYW5nLXN3aXRjaCI7DQppbXBvcnQgQ291bnREb3duQnV0dG9uIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy94Ym9vdC9jb3VudC1kb3duLWJ1dHRvbiI7DQppbXBvcnQgU2V0UGFzc3dvcmQgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L3NldC1wYXNzd29yZCI7DQp2YXIgdmFwdGNoYU9iamVjdDsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIENvdW50RG93bkJ1dHRvbiwNCiAgICBMYW5nU3dpdGNoLA0KICAgIFNldFBhc3N3b3JkLA0KICAgIEhlYWRlciwNCiAgICBGb290ZXINCiAgfSwNCiAgZGF0YSgpIHsNCiAgICBjb25zdCB2YWxpZGF0ZUNvbmZpcm1QYXNzID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDYpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLlr4bnoIHplb/luqbkuI3lvpflsI/kuo425L2NIikpOw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5mb3JtLnBhc3N3b3JkKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5Lik5qyh6L6T5YWl55qE5a+G56CB5LiN5LiA6Ie0IikpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIHJldHVybiB7DQogICAgICBsYWJlbDogIuS9v+eUqOaJi+acuuWPt+mHjee9ruWvhueggSIsDQogICAgICBpY29uOiAibWQtcGhvbmUtcG9ydHJhaXQiLA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICB0eXBlOiAiMCIsDQogICAgICBmb3JtOiB7DQogICAgICAgIG1vYmlsZTogIiIsDQogICAgICAgIGVtYWlsOiAiIiwNCiAgICAgICAgdG9rZW46ICIiLA0KICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICAgIHBhc3NTdHJlbmd0aDogIiINCiAgICAgIH0sDQogICAgICBzZW5kZWQ6IGZhbHNlLA0KICAgICAgc2VuZGluZzogZmFsc2UsDQogICAgICBnZXRTbXM6ICLojrflj5bpqozor4HnoIEiLA0KICAgICAgc2VsZWN0OiAiODYiLA0KICAgICAgZXJyb3JNb2JpbGU6ICIiLA0KICAgICAgZXJyb3JFbWFpbDogIiIsDQogICAgICBydWxlczogew0KICAgICAgICBtb2JpbGU6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmiYvmnLrlj7fkuI3og73kuLrnqboiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlTW9iaWxlLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBlbWFpbDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpemCrueuseWcsOWdgCIsDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJlbWFpbCIsDQogICAgICAgICAgICBtZXNzYWdlOiAi6YKu566x5qC85byP5LiN5q2j56GuIiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgcGFzc3dvcmQ6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlr4bnoIHkuI3og73kuLrnqboiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQsDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIGNvZGU6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLpqozor4HnoIHkuI3og73kuLrnqboiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBjb25maXJtUGFzczogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogIuehruiupOWvhueggeS4jeiDveS4uuepuiIsDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVDb25maXJtUGFzcywNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0VmFwdGNoYSgpIHsNCiAgICAgIGxldCB0aGF0ID0gdGhpczsNCiAgICAgIHZhcHRjaGEoew0KICAgICAgICAvL+mFjee9ruWPguaVsA0KICAgICAgICB2aWQ6IHZhcHRjaGFJRCwgLy8g6aqM6K+B5Y2V5YWDaWQNCiAgICAgICAgdHlwZTogImludmlzaWJsZSIsIC8vIOWxleeOsOexu+WeiyDpmpDol4/lvI8NCiAgICAgICAgb2ZmbGluZV9zZXJ2ZXI6ICLkvaDnmoTnprvnur/pqozor4HmjqXlj6PlnLDlnYAg5Y+v6YCJ5L2G5q2k5aSE5LiN6IO95Li656m6Ig0KICAgICAgfSkudGhlbihmdW5jdGlvbih2YXB0Y2hhT2JqKSB7DQogICAgICAgIHZhcHRjaGFPYmplY3QgPSB2YXB0Y2hhT2JqOw0KICAgICAgICB2YXB0Y2hhT2JqLmxpc3RlbigicGFzcyIsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgIHRoYXQuZm9ybS50b2tlbiA9IHZhcHRjaGFPYmouZ2V0VG9rZW4oKTsNCiAgICAgICAgICAvLyDpqozor4HmiJDlip8g5Y+R6YCB6aqM6K+B56CBDQogICAgICAgICAgaWYgKHRoYXQudHlwZSA9PSAiMCIpIHsNCiAgICAgICAgICAgIHRoYXQuc2VuZFNtc0NvZGUoKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoYXQudHlwZSA9PSAiMSIpIHsNCiAgICAgICAgICAgIHRoYXQuc2VuZEVtYWlsQ29kZSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIHNob3dWYXB0Y2hhKCkgew0KICAgICAgaWYgKHRoaXMudHlwZSA9PSAiMCIpIHsNCiAgICAgICAgdmFyIHJlZyA9IC9eWzFdWzMsNCw1LDYsNyw4XVswLTldezl9JC87DQogICAgICAgIGlmICghcmVnLnRlc3QodGhpcy5mb3JtLm1vYmlsZSkpIHsNCiAgICAgICAgICB0aGlzLmVycm9yTW9iaWxlID0gIuaJi+acuuWPt+agvOW8j+mUmeivryI7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZXJyb3JNb2JpbGUgPSAiIjsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT0gIjEiKSB7DQogICAgICAgIHZhciByZWcgPSAvXltBLVphLXpcZF0rKFstXy5dW0EtWmEtelxkXSspKkAoW0EtWmEtelxkXStbLS5dKStbQS1aYS16XGRdezIsNH0kLzsNCiAgICAgICAgaWYgKCFyZWcudGVzdCh0aGlzLmZvcm0uZW1haWwpKSB7DQogICAgICAgICAgdGhpcy5lcnJvckVtYWlsID0gIumCrueuseagvOW8j+mUmeivryI7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZXJyb3JFbWFpbCA9ICIiOw0KICAgICAgICB9DQogICAgICB9DQogICAgICB2YXB0Y2hhT2JqZWN0LnZhbGlkYXRlKCk7IC8vIOiLpeayoemqjOivgemqjOivgeeggSDlvIDlp4vpqozor4ENCiAgICB9LA0KICAgIHNlbmRTbXNDb2RlKCkgew0KICAgICAgdGhpcy5zZW5kaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMuZ2V0U21zID0gIuWPkemAgeS4rSI7DQogICAgICBzZW5kUmVzZXRTbXModGhpcy5mb3JtLm1vYmlsZSwgdGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuZ2V0U21zID0gIuiOt+WPlumqjOivgeeggSI7DQogICAgICAgIHRoaXMuc2VuZGluZyA9IGZhbHNlOw0KICAgICAgICB2YXB0Y2hhT2JqZWN0LnJlc2V0KCk7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5Y+R6YCB55+t5L+h6aqM6K+B56CB5oiQ5YqfIik7DQogICAgICAgICAgLy8g5byA5aeL5YCS6K6h5pe2DQogICAgICAgICAgdGhpcy4kcmVmcy5jb3VudERvd24uc3RhcnRDb3VudERvd24oKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZW5kRW1haWxDb2RlKCkgew0KICAgICAgdGhpcy5zZW5kaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMuZ2V0U21zID0gIuWPkemAgeS4rSI7DQogICAgICBzZW5kUmVzZXRFbWFpbCh0aGlzLmZvcm0uZW1haWwsIHRoaXMuZm9ybSkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmdldFNtcyA9ICLojrflj5bpqozor4HnoIEiOw0KICAgICAgICB0aGlzLnNlbmRpbmcgPSBmYWxzZTsNCiAgICAgICAgdmFwdGNoYU9iamVjdC5yZXNldCgpOw0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuWPkemAgemCruS7tumqjOivgeeggeaIkOWKn++8jOivt+azqOaEj+afpeaUtiIpOw0KICAgICAgICAgIC8vIOW8gOWni+WAkuiuoeaXtg0KICAgICAgICAgIHRoaXMuJHJlZnMuY291bnREb3duRW1haWwuc3RhcnRDb3VudERvd24oKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBjaGFuZ2VJbnB1dFBhc3ModiwgZ3JhZGUsIHN0cmVuZ3RoKSB7DQogICAgICB0aGlzLmZvcm0ucGFzc1N0cmVuZ3RoID0gc3RyZW5ndGg7DQogICAgfSwNCiAgICBzdWJtaXRSZXNldCgpIHsNCiAgICAgIHRoaXMuJHJlZnMucmVzZXRGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICBpZiAodGhpcy50eXBlID09ICIwIikgew0KICAgICAgICAgICAgcmVzZXRCeU1vYmlsZSh0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi6YeN572u5a+G56CB5oiQ5Yqf77yM6K+354mi6K6w5oKo55qE5paw5a+G56CBIik7DQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgICAgICAgbmFtZTogImxvZ2luIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhcHRjaGFPYmplY3QucmVzZXQoKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT0gIjEiKSB7DQogICAgICAgICAgICByZXNldEJ5RW1haWwodGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIumHjee9ruWvhueggeaIkOWKn++8jOivt+eJouiusOaCqOeahOaWsOWvhueggSIpOw0KICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAgICAgICAgIG5hbWU6ICJsb2dpbiINCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXB0Y2hhT2JqZWN0LnJlc2V0KCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGxldCB0eXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZTsNCiAgICBpZiAodHlwZSA9PSAiMSIpIHsNCiAgICAgIHRoaXMudHlwZSA9IHR5cGU7DQogICAgICB0aGlzLmxhYmVsID0gIuS9v+eUqOmCrueusemHjee9ruWvhueggSI7DQogICAgICB0aGlzLmljb24gPSAiaW9zLW1haWwtb3V0bGluZSI7DQogICAgfQ0KICAgIHRoaXMuaW5pdFZhcHRjaGEoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["reset.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reset.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"reset-wrap\">\r\n    <Row\r\n      type=\"flex\"\r\n      justify=\"center\"\r\n      align=\"middle\"\r\n      @keydown.enter.native=\"submitReset\"\r\n      style=\"height:100%\"\r\n    >\r\n      <Col class=\"layout\">\r\n        <div>\r\n          <Header />\r\n          <Row class=\"reset\">\r\n            <Tabs value=\"1\">\r\n              <TabPane :label=\"label\" name=\"1\" :icon=\"icon\"></TabPane>\r\n            </Tabs>\r\n            <Form ref=\"resetForm\" :model=\"form\" :rules=\"rules\" class=\"form\">\r\n              <div v-if=\"type=='0'\">\r\n                <FormItem prop=\"mobile\" :error=\"errorMobile\">\r\n                  <Input v-model=\"form.mobile\" size=\"large\" clearable placeholder=\"请输入注册或绑定手机号\"></Input>\r\n                </FormItem>\r\n                <FormItem prop=\"code\">\r\n                  <Row type=\"flex\" justify=\"space-between\">\r\n                    <Input\r\n                      v-model=\"form.code\"\r\n                      size=\"large\"\r\n                      clearable\r\n                      placeholder=\"请输入短信验证码\"\r\n                      :maxlength=\"10\"\r\n                      class=\"input-verify\"\r\n                    />\r\n                    <CountDownButton\r\n                      ref=\"countDown\"\r\n                      @on-click=\"showVaptcha\"\r\n                      :autoCountDown=\"false\"\r\n                      size=\"large\"\r\n                      :loading=\"sending\"\r\n                      :text=\"getSms\"\r\n                    />\r\n                  </Row>\r\n                </FormItem>\r\n              </div>\r\n              <div v-else>\r\n                <FormItem prop=\"email\" :error=\"errorEmail\">\r\n                  <Input v-model=\"form.email\" size=\"large\" clearable placeholder=\"请输入绑定邮箱\"></Input>\r\n                </FormItem>\r\n                <FormItem prop=\"code\">\r\n                  <Row type=\"flex\" justify=\"space-between\">\r\n                    <Input\r\n                      v-model=\"form.code\"\r\n                      size=\"large\"\r\n                      clearable\r\n                      placeholder=\"请输入您收到的邮件中的验证码\"\r\n                      :maxlength=\"10\"\r\n                      class=\"input-verify\"\r\n                    />\r\n                    <CountDownButton\r\n                      ref=\"countDownEmail\"\r\n                      @on-click=\"showVaptcha\"\r\n                      :autoCountDown=\"false\"\r\n                      size=\"large\"\r\n                      :loading=\"sending\"\r\n                      :text=\"getSms\"\r\n                    />\r\n                  </Row>\r\n                </FormItem>\r\n              </div>\r\n              <FormItem prop=\"password\">\r\n                <SetPassword v-model=\"form.password\" size=\"large\" @on-change=\"changeInputPass\" />\r\n              </FormItem>\r\n              <FormItem prop=\"confirmPass\">\r\n                <Input\r\n                  type=\"password\"\r\n                  :maxlength=\"20\"\r\n                  v-model=\"form.confirmPass\"\r\n                  size=\"large\"\r\n                  clearable\r\n                  placeholder=\"请再次输入确认密码\"\r\n                />\r\n              </FormItem>\r\n            </Form>\r\n            <Button\r\n              style=\"margin-bottom:3vh\"\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              :loading=\"loading\"\r\n              @click=\"submitReset\"\r\n              long\r\n            >重置密码</Button>\r\n            <Row type=\"flex\">\r\n              <a @click=\"$router.go(-1)\" class=\"back\">\r\n                <Icon type=\"md-arrow-round-back\" style=\"margin-right:3px;\" />返回\r\n              </a>\r\n            </Row>\r\n          </Row>\r\n        </div>\r\n        <Footer />\r\n      </Col>\r\n      <LangSwitch />\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  vaptchaID,\r\n  sendResetSms,\r\n  resetByMobile,\r\n  sendResetEmail,\r\n  resetByEmail\r\n} from \"@/api/index\";\r\nimport { validateMobile, validatePassword } from \"@/libs/validate\";\r\nimport Header from \"@/views/main-components/header\";\r\nimport Footer from \"@/views/main-components/footer\";\r\nimport LangSwitch from \"@/views/main-components/lang-switch\";\r\nimport CountDownButton from \"@/views/my-components/xboot/count-down-button\";\r\nimport SetPassword from \"@/views/my-components/xboot/set-password\";\r\nvar vaptchaObject;\r\nexport default {\r\n  components: {\r\n    CountDownButton,\r\n    LangSwitch,\r\n    SetPassword,\r\n    Header,\r\n    Footer\r\n  },\r\n  data() {\r\n    const validateConfirmPass = (rule, value, callback) => {\r\n      if (value.length < 6) {\r\n        callback(new Error(\"密码长度不得小于6位\"));\r\n      } else if (value !== this.form.password) {\r\n        callback(new Error(\"两次输入的密码不一致\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      label: \"使用手机号重置密码\",\r\n      icon: \"md-phone-portrait\",\r\n      loading: false,\r\n      type: \"0\",\r\n      form: {\r\n        mobile: \"\",\r\n        email: \"\",\r\n        token: \"\",\r\n        password: \"\",\r\n        passStrength: \"\"\r\n      },\r\n      sended: false,\r\n      sending: false,\r\n      getSms: \"获取验证码\",\r\n      select: \"86\",\r\n      errorMobile: \"\",\r\n      errorEmail: \"\",\r\n      rules: {\r\n        mobile: [\r\n          {\r\n            required: true,\r\n            message: \"手机号不能为空\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            validator: validateMobile,\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: \"请输入邮箱地址\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            type: \"email\",\r\n            message: \"邮箱格式不正确\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: \"密码不能为空\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            validator: validatePassword,\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        code: [\r\n          {\r\n            required: true,\r\n            message: \"验证码不能为空\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        confirmPass: [\r\n          {\r\n            required: true,\r\n            message: \"确认密码不能为空\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            validator: validateConfirmPass,\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    initVaptcha() {\r\n      let that = this;\r\n      vaptcha({\r\n        //配置参数\r\n        vid: vaptchaID, // 验证单元id\r\n        type: \"invisible\", // 展现类型 隐藏式\r\n        offline_server: \"你的离线验证接口地址 可选但此处不能为空\"\r\n      }).then(function(vaptchaObj) {\r\n        vaptchaObject = vaptchaObj;\r\n        vaptchaObj.listen(\"pass\", function() {\r\n          that.form.token = vaptchaObj.getToken();\r\n          // 验证成功 发送验证码\r\n          if (that.type == \"0\") {\r\n            that.sendSmsCode();\r\n          } else if (that.type == \"1\") {\r\n            that.sendEmailCode();\r\n          }\r\n        });\r\n      });\r\n    },\r\n    showVaptcha() {\r\n      if (this.type == \"0\") {\r\n        var reg = /^[1][3,4,5,6,7,8][0-9]{9}$/;\r\n        if (!reg.test(this.form.mobile)) {\r\n          this.errorMobile = \"手机号格式错误\";\r\n          return;\r\n        } else {\r\n          this.errorMobile = \"\";\r\n        }\r\n      } else if (this.type == \"1\") {\r\n        var reg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/;\r\n        if (!reg.test(this.form.email)) {\r\n          this.errorEmail = \"邮箱格式错误\";\r\n          return;\r\n        } else {\r\n          this.errorEmail = \"\";\r\n        }\r\n      }\r\n      vaptchaObject.validate(); // 若没验证验证码 开始验证\r\n    },\r\n    sendSmsCode() {\r\n      this.sending = true;\r\n      this.getSms = \"发送中\";\r\n      sendResetSms(this.form.mobile, this.form).then(res => {\r\n        this.getSms = \"获取验证码\";\r\n        this.sending = false;\r\n        vaptchaObject.reset();\r\n        if (res.success) {\r\n          this.$Message.success(\"发送短信验证码成功\");\r\n          // 开始倒计时\r\n          this.$refs.countDown.startCountDown();\r\n        }\r\n      });\r\n    },\r\n    sendEmailCode() {\r\n      this.sending = true;\r\n      this.getSms = \"发送中\";\r\n      sendResetEmail(this.form.email, this.form).then(res => {\r\n        this.getSms = \"获取验证码\";\r\n        this.sending = false;\r\n        vaptchaObject.reset();\r\n        if (res.success) {\r\n          this.$Message.success(\"发送邮件验证码成功，请注意查收\");\r\n          // 开始倒计时\r\n          this.$refs.countDownEmail.startCountDown();\r\n        }\r\n      });\r\n    },\r\n    changeInputPass(v, grade, strength) {\r\n      this.form.passStrength = strength;\r\n    },\r\n    submitReset() {\r\n      this.$refs.resetForm.validate(valid => {\r\n        if (valid) {\r\n          this.loading = true;\r\n          if (this.type == \"0\") {\r\n            resetByMobile(this.form).then(res => {\r\n              this.loading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"重置密码成功，请牢记您的新密码\");\r\n                this.$router.push({\r\n                  name: \"login\"\r\n                });\r\n              } else {\r\n                vaptchaObject.reset();\r\n              }\r\n            });\r\n          } else if (this.type == \"1\") {\r\n            resetByEmail(this.form).then(res => {\r\n              this.loading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"重置密码成功，请牢记您的新密码\");\r\n                this.$router.push({\r\n                  name: \"login\"\r\n                });\r\n              } else {\r\n                vaptchaObject.reset();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    let type = this.$route.query.type;\r\n    if (type == \"1\") {\r\n      this.type = type;\r\n      this.label = \"使用邮箱重置密码\";\r\n      this.icon = \"ios-mail-outline\";\r\n    }\r\n    this.initVaptcha();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"./reset.less\";\r\n</style>\r\n"]}]}