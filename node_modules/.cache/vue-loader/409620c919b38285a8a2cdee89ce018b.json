{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\toolbar\\toolbarConsultingService.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\my-components\\toolbar\\toolbarConsultingService.vue","mtime":1614579763311},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQp2YXIgb3BlbmVyVyA9IHBhcmVudDsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInRvb2xiYXJDb25zdWx0aW5nU2VydmljZSIsDQogIHByb3BzOiBbInRvb2xiYXJDb25zdWx0aW5nU2VydmljZU1vZGFsVmlzaWJsZSJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBncm91cE5hbWU6ICIiLA0KICAgICAgbnVtYmVyOiAiIiwNCiAgICAgIEdyb3VwSWQ6bnVsbCwNCiAgICAgIGdyb3VwRGV0YWlsOicnLA0KICAgICAgZXh0TnVtYmVyOjAsDQogICAgICAvL+aKgOiDvee7hA0KICAgICAgaXRlbUxpc3REYXRhOiBbXSwNCiAgICAgIC8v5ZKo6K+i5Z2Q5bitLeaQnOe0ouadoeS7tg0KICAgICAgY29uc3VsdGF0aW9uU2VhdFNlYXJjaEZvcm06IHsNCiAgICAgICAgdXNlclJlYWxOYW1lOiAiIiwNCiAgICAgIH0sDQogICAgICAvL+WSqOivouWklue6vy3mkJzntKLmnaHku7YNCiAgICAgIGNvbnN1bHRpbmdPdXRzaWRlTGluZUZvcm06ew0KICAgICAgICBwaG9uZToiIg0KICAgICAgfSwNCiAgICAgIC8v5ZKo6K+i5aSW57q/LeihqOWktA0KICAgICAgY29uc3VsdGluZ091dHNpZGVMaW5lRm9ybUNvbHVtbnM6Ww0KICAgICAgICB7DQogICAgICAgICAgdHlwZTogInNlbGVjdGlvbiIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJpbmRleCIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5aeT5ZCNIiwgLy/lp5PlkI0NCiAgICAgICAgICBrZXk6ICJ1c2VyUmVhbE5hbWUiLA0KICAgICAgICAgIHdpZHRoOiAxNTAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgdG9vbHRpcDogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5oCn5YirIiwgLy/mgKfliKsNCiAgICAgICAgICBrZXk6ICJzZXRHZW5kZXIiLA0KICAgICAgICAgIHdpZHRoOiAxNTAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuWbuuWumueUteivnSIsIC8v5Zu65a6a55S16K+dDQogICAgICAgICAga2V5OiAic2V0RXh0TW9kZSIsDQogICAgICAgICAgd2lkdGg6IDE1MCwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5omL5py6IiwgLy/miYvmnLoNCiAgICAgICAgICBrZXk6ICJzZXRFeHROdW1iZXIiLA0KICAgICAgICAgIHdpZHRoOiAxNTAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIumCrueusSIsIC8v6YKu566xDQogICAgICAgICAga2V5OiAiZW1haWwiLA0KICAgICAgICAgIHdpZHRoOiAxNTAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICAvL+e6v+WkluWSqOivouihqOagvOaVsOaNrg0KICAgICAgY29uc3VsdGluZ091dHNpZGVMaW5lRGF0YTpbew0KICAgICAgICAgIGlkOiIwMDAwMDEiLA0KICAgICAgICAgIHVzZXJSZWFsTmFtZTogIuW8oOS4iSIsDQogICAgICAgICAgc2V0R2VuZGVyOiAi55S3IiwNCiAgICAgICAgICBzZXRFeHRNb2RlOiAiMDEwLTEyMzEyMyIsDQogICAgICAgICAgc2V0RXh0TnVtYmVyOiAiMTMzMzMzMzMzMzMiLA0KICAgICAgICAgIGVtYWlsOiAiMjJAcXEuY29tIg0KICAgICAgICB9LF0sDQogICAgICAvL+WSqOivouWdkOW4reagkQ0KICAgICAgdHJlZURhdGE6IFsNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAiMDAwMDEiLA0KICAgICAgICAgIHRpdGxlOiAiVklQ5LiT5bGe5a6i5pyNIiwNCiAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgcGFyZW50bm9kZXM6IDAsDQogICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgaWQ6ICIwMDAwMTAwMDAwMSIsDQogICAgICAgICAgICAgIHRpdGxlOiAidmlwNDEwNCIsDQogICAgICAgICAgICAgIGV4cGFuZDogdHJ1ZSwNCiAgICAgICAgICAgICAgcGFyZW50bm9kZXM6IDAsDQogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGlkOiAiMDAwMDEwMDAwMDIiLA0KICAgICAgICAgICAgICB0aXRsZTogInZpcDY0NTAiLA0KICAgICAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgICAgIHBhcmVudG5vZGVzOiAwLA0KICAgICAgICAgICAgICBjaGlsZHJlbjogW10sDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogIjAwMDAyIiwNCiAgICAgICAgICB0aXRsZTogIjEiLA0KICAgICAgICAgIGV4cGFuZDogdHJ1ZSwNCiAgICAgICAgICBwYXJlbnRub2RlczogMCwNCiAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBpZDogIjAwMDAyMDAwMDAxIiwNCiAgICAgICAgICAgICAgdGl0bGU6ICIxIiwNCiAgICAgICAgICAgICAgZXhwYW5kOiB0cnVlLA0KICAgICAgICAgICAgICBwYXJlbnRub2RlczogMCwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgXSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAiMDAwMDMiLA0KICAgICAgICAgIHRpdGxlOiAi57u85ZCI5a6i5pyNIiwNCiAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgY2hpbGRyZW46IFtdLA0KICAgICAgICAgIHBhcmVudG5vZGVzOiAwLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgaWQ6ICIwMDAwNCIsDQogICAgICAgICAgdGl0bGU6ICLkuJPlsZ7lrqLmnI0iLA0KICAgICAgICAgIGV4cGFuZDogdHJ1ZSwNCiAgICAgICAgICBjaGlsZHJlbjogW10sDQogICAgICAgICAgcGFyZW50bm9kZXM6IDAsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogIjAwMDA1IiwNCiAgICAgICAgICB0aXRsZTogIueuoeeQhue7hCIsDQogICAgICAgICAgZXhwYW5kOiB0cnVlLA0KICAgICAgICAgIGNoaWxkcmVuOiBbXSwNCiAgICAgICAgICBwYXJlbnRub2RlczogMCwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAiMDAwMDYiLA0KICAgICAgICAgIHRpdGxlOiAi6L+Q6L6T5a6i5pyNIiwNCiAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgY2hpbGRyZW46IFtdLA0KICAgICAgICAgIHBhcmVudG5vZGVzOiAwLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIC8v5ZKo6K+i5aSW57q/5qCRDQogICAgICB0cmVlRGF0YTI6IFsNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAiMDAwMDEiLA0KICAgICAgICAgIHRpdGxlOiAi5Liq5Lq66IGU57O75Lq6IiwNCiAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgcGFyZW50bm9kZXM6IDAsDQogICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgaWQ6ICIwMDAwMTAwMDAwMSIsDQogICAgICAgICAgICAgIHRpdGxlOiAidmlwNDEwNCIsDQogICAgICAgICAgICAgIGV4cGFuZDogdHJ1ZSwNCiAgICAgICAgICAgICAgcGFyZW50bm9kZXM6IDAsDQogICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGlkOiAiMDAwMDEwMDAwMDIiLA0KICAgICAgICAgICAgICB0aXRsZTogInZpcDY0NTAiLA0KICAgICAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgICAgIHBhcmVudG5vZGVzOiAwLA0KICAgICAgICAgICAgICBjaGlsZHJlbjogW10sDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogIjAwMDAyIiwNCiAgICAgICAgICB0aXRsZTogIuWFseS6q+iBlOezu+S6uiIsDQogICAgICAgICAgZXhwYW5kOiB0cnVlLA0KICAgICAgICAgIHBhcmVudG5vZGVzOiAwLA0KICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGlkOiAiMDAwMDIwMDAwMDEiLA0KICAgICAgICAgICAgICB0aXRsZTogIjEiLA0KICAgICAgICAgICAgICBleHBhbmQ6IHRydWUsDQogICAgICAgICAgICAgIHBhcmVudG5vZGVzOiAwLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICBdLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgaWQ6ICIwMDAwMyIsDQogICAgICAgICAgdGl0bGU6ICLlhazlhbHogZTns7vkuroiLA0KICAgICAgICAgIGV4cGFuZDogdHJ1ZSwNCiAgICAgICAgICBjaGlsZHJlbjogW10sDQogICAgICAgICAgcGFyZW50bm9kZXM6IDAsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgLy/lkqjor6LlnZDluK3ljaHniYcNCiAgICAgIGNhcmRJdGVtOiBbDQogICAgICAgIHsNCiAgICAgICAgICBpZDogIjAwMDEiLA0KICAgICAgICAgIHVzZXJSZWFsTmFtZTogIuWuouacjTEiLCAvL+Wnk+WQjQ0KICAgICAgICAgIHVzZXJuYW1lOiAiMTAwMSIsIC8v5bel5Y+3DQogICAgICAgICAgZXh0bnVtYmVyOiAiODAwMiIsIC8v5YiG5py65Y+3DQogICAgICAgICAgY3VycmVudFN0YXR1czogIuepuumXsiIsIC8v54q25oCBDQogICAgICAgICAgc2V0R2VuZGVyOiIwIiwvL+aAp+WIqw0KICAgICAgICB9XSwNCiAgICAgIGNhcmRJdGVtU2VhcmNoTGlzdDpbXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgLy/lkqjor6LliIbmnLoNCiAgICAgIGNvbnN1bHRpbmdFeHRlbnNpb25TZWFyY2hGb3JtOnsNCiAgICAgICAgbmFtZToiIg0KICAgICAgfSwNCiAgICAgIC8v5ZKo6K+i5YiG5py6LeWNoeeJhw0KICAgICAgY29uc3VsdGluZ0V4dGVuc2lvbkNhcmRJdGVtOiBbXSwNCiAgICAgIGNvbnN1bHRpbmdFeHRlbnNpb25DYXJkSXRlbVNlYXJjaDpbXSwNCiAgICAgIC8vDQogICAgICBjb25zdWx0aW5nT3V0c2lkZUxpbmVWYWxpZGF0ZTp7DQogICAgICAgIHBob25lOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTonbnVtYmVyJywNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeato+ehrueahOaJi+acuuWPt+eggSIsDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsDQogICAgICAgICAgICB0cmFuc2Zvcm0odmFsdWUpew0KICAgICAgICAgICAgICB2YXIgbXlyZWc9L15cZHs1LDMwfSQvOw0KICAgICAgICAgICAgICBpZighbXlyZWcudGVzdCh2YWx1ZSkpew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgfSwNCg0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCkgew0KICAgICAgdGhpcy5nZXRTa2lsbEdyb3VwTGlzdERhdGEoKTsvL+iOt+WPluaKgOiDvee7hA0KICAgICAgdGhpcy5nZXRFeHREYXRhTGlzdCgpOy8v6I635Y+W5YiG5py65Y2h54mHDQogICAgfSwNCiAgICBnZXRTa2lsbEdyb3VwTGlzdERhdGEoKXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdmFyIHBvc3REYXRhID0gew0KICAgICAgICAgIEdyb3VwSWQgOiB0aGFuLkdyb3VwSWQNCiAgICAgICAgfTsNCiAgICAgICAgLy/nm5Hmjqfnqpflj6PliqDovb3lrozmiJDlkI7lj5HpgIHlvIDlp4vnm5Hmjqflkb3ku6QNCiAgICAgICAgLy9vcGVuZXJXLk9jeENvbW1hbmRGdW4uQ1RJQWdlbnRDb21tb25BY3Rpb24oIkJlZ2luTW9uaXRvciIsIHBvc3REYXRhLGZ1bmN0aW9uKGRhdGEpew0KICAgICAgICBvcGVuZXJXLk9jeENvbW1hbmRGdW4uQ1RJQWdlbnRDb21tb25BY3Rpb24oIkJlZ2luQ29uc3VsdCIsIHBvc3REYXRhLGZ1bmN0aW9uKGRhdGEpew0KDQogICAgICAgIH0sZnVuY3Rpb24oZXgpew0KICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dMb2FkaW5nKGZhbHNlKTsNCiAgICAgICAgICBpZihleC5NZXNzYWdlICE9IHVuZGVmaW5lZCAmJiBleC5NZXNzYWdlICE9ICIiKSBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93VGlwKGV4Lk1lc3NhZ2UsIDEpOw0KICAgICAgICB9KTsNCg0KICAgICAgfSwyMDApDQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdGhhbi5zZXRTa2lsbEdyb3VwTGlzdERhdGEoKTsNCiAgICAgIH0sNTAwKQ0KICAgIH0sDQogICAgLy/lkqjor6LlnZDluK0t6I635Y+W5oqA6IO957uEDQogICAgc2V0U2tpbGxHcm91cExpc3REYXRhKCkgew0KICAgICAgdmFyIGRhdGFBPVtdOw0KICAgICAgLy92YXIgc2VhdEdyb3VwcyA9IG9wZW5lclcuT2N4Q29yZS5TZXNzaW9uLmdldENUSUFnZW50RGF0YSgpLmdldFNlYXRHcm91cHMoKS5kYXRhOw0KICAgICAgdmFyIGRhdGFBPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0dldEdycFNlYXRTdGF0ZURhdGEnKSk7DQogICAgICB2YXIgY21kPWRhdGFBLmNtZDsNCiAgICAgIHZhciBkYXRhPWRhdGFBLmRhdGEuRGF0YTsNCiAgICAgIGlmKGNtZCA9PSAiR1JQSU5GT19OT1RJRlkiKXsNCiAgICAgICAgLy8gZm9yKHZhciBpIGluIHNlYXRHcm91cHMpew0KICAgICAgICAvLyAgIHZhciB2PXNlYXRHcm91cHNbaV07DQogICAgICAgIC8vICAgZGF0YUEucHVzaCh7ImlkIjp2Lkdyb3VwSWQrIiIsInRleHQiOnYuR3JvdXBOYW1lLCJ2YWx1ZSI6di5Hcm91cElkLCJjb2RlIjpkYXRhQS5sZW5ndGgrMX0pDQogICAgICAgIC8vIH0NCiAgICAgICAgdGhpcy5Hcm91cElkPWRhdGFbMF0uR3JwSWQudG9TdHJpbmcoKTsNCiAgICAgICAgdGhpcy5pdGVtTGlzdERhdGE9ZGF0YTsNCiAgICAgICAgdGhpcy5ncm91cE5hbWU9ZGF0YVswXS5HcnBOYW1lLnRvU3RyaW5nKCk7DQoNCiAgICAgIH1lbHNlIGlmKGNtZCA9PSAiQ09OU1VMVFNUQVRFX05PVElGWSIpew0KICAgICAgICB2YXIgc2VhdHMgPSBkYXRhLkRhdGE7DQogICAgICAgIExvYWRWaWV3TGlzdChzZWF0cyk7DQogICAgICB9DQogICAgICB0aGlzLmdldFNlYXRMaXN0KCk7Ly/ojrflj5blnZDluK3ljaHniYcNCiAgICB9LA0KICAgIC8v6I635Y+W5Z2Q5bit5Y2h54mHDQogICAgZ2V0U2VhdExpc3QoKXsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdmFyIHBvc3REYXRhID0gew0KICAgICAgICAgIEdyb3VwSWQgOiB0aGFuLkdyb3VwSWQNCiAgICAgICAgfTsNCiAgICAgICAgLy/nm5Hmjqfnqpflj6PliqDovb3lrozmiJDlkI7lj5HpgIHlvIDlp4vnm5Hmjqflkb3ku6QNCiAgICAgICAgLy9vcGVuZXJXLk9jeENvbW1hbmRGdW4uQ1RJQWdlbnRDb21tb25BY3Rpb24oIkJlZ2luTW9uaXRvciIsIHBvc3REYXRhLGZ1bmN0aW9uKGRhdGEpew0KICAgICAgICBvcGVuZXJXLk9jeENvbW1hbmRGdW4uQ1RJQWdlbnRDb21tb25BY3Rpb24oIkdldEdycFNlYXRTdGF0ZSIsIHBvc3REYXRhLGZ1bmN0aW9uKGRhdGEpew0KDQogICAgICAgIH0sZnVuY3Rpb24oZXgpew0KICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dMb2FkaW5nKGZhbHNlKTsNCiAgICAgICAgICBpZihleC5NZXNzYWdlICE9IHVuZGVmaW5lZCAmJiBleC5NZXNzYWdlICE9ICIiKSBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93VGlwKGV4Lk1lc3NhZ2UsIDEpOw0KICAgICAgICB9KTsNCg0KICAgICAgfSwyMDApDQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgdGhhbi5zZXRTZWF0TGlzdCgpOw0KICAgICAgfSw1MDApDQogICAgfSwNCiAgICBzZXRTZWF0TGlzdCgpew0KDQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgdmFyIGRhdGFBPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0NPTlNVTFRTVEFURV9OT1RJRllEYXRhJykpOw0KDQogICAgICB2YXIgY21kPWRhdGFBLmNtZDsNCiAgICAgIHZhciBkYXRhPWRhdGFBLmRhdGEuRGF0YTsNCiAgICAgIHRoaXMuY2FyZEl0ZW09ZGF0YTsNCiAgICAgIHRoaXMuY2FyZEl0ZW1TZWFyY2hMaXN0PXRoYW4uY2FyZEl0ZW07DQogICAgICBpZiAoY21kID09ICJNT05JVE9SU1RBVEVfTk9USUZZIikvL+ebkeaOp+WdkOW4reeKtuaAgemAmuefpQ0KICAgICAgew0KICAgICAgICB0aGlzLnNldFRpdGxlKHRoaXMuY2FyZEl0ZW1TZWFyY2hMaXN0KTsNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKGNtZCA9PSAiR1JPVVBXQUlUQ09VTlRfTk9USUZZIikvL+aKgOiDveaOkumYn+etieW+heaVsOmHj+mAmuefpQ0KICAgICAgew0KICAgICAgICBpZihHcm91cElkICE9IG51bGwgJiYgR3JvdXBJZCA9PSBkYXRhLkdyb3VwSWQpDQogICAgICAgIHsNCiAgICAgICAgICB2YXIgd2FpdENvdW50ID0gZGF0YS5XYWl0Q291bnQgfHwgMDsNCiAgICAgICAgICAkKCIjbGJsV2FpdENvdW50IikudGV4dCh3YWl0Q291bnQpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBlbHNlIGlmKGNtZCA9PSAiQ3VycmVudFVzZXJTdGF0ZUNoYW5nZWQiKQ0KICAgICAgew0KICAgICAgICBpZighb3BlbmVyVy5PY3hDb3JlLlNlc3Npb24uSXNDaGVja2luKCkpDQogICAgICAgIHsNCiAgICAgICAgICAkKCIjZ3JpZF9WaWV3IikuaHRtbCgiIik7DQogICAgICAgICAgX1NlYXREYXRhcy5jbGVhcigpOw0KDQogICAgICAgICAgdGhhbi5jbG9zZVRoaXNXaW5kb3coKTsvL+WFs+mXreeql+WPow0KICAgICAgICB9DQogICAgICAgIC8qICAgICAgICAgCWVsc2UgaWYob3BlbmVyVy5PY3hDb3JlLlNlc3Npb24uR2V0VXNlckluZm8oKSAhPSBudWxsICYmIG9wZW5lclcuT2N4Q29yZS5TZXNzaW9uLkdldFVzZXJJbmZvKCkuQ1RJTW9uaXRvclN0YXR1cyA9PSBvcGVuZXJXLk9jeENvcmUuRW51bXMuQ1RJTW9uaXRvclN0YXR1c0ZsYWcuSU5JVFNZU1RFTS5nZXRJbmRleCgpKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoISEkKHRoaXMpLmhhc0NsYXNzKCJzZWxlY3RlZCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI2dyaWRfVmlldyAuc2VsZWN0ZWQiKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXRFeHROdW0gPSAkKHRoaXMpLmF0dHIoImlkIikudG9TdHJpbmcoKS5yZXBsYWNlKCJzZWF0XyIsIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlQnV0dG9uU3RhdGUoJCh0aGlzKSxfU2VhdERhdGFzLmdldChzZWF0RXh0TnVtKSk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWF0RXh0TnVtID0gJCh0aGlzKS5hdHRyKCJpZCIpLnRvU3RyaW5nKCkucmVwbGFjZSgic2VhdF8iLCIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUJ1dHRvblN0YXRlKCQodGhpcyksX1NlYXREYXRhcy5nZXQoc2VhdEV4dE51bSkpOw0KICAgICAgICAgICAgICAgICAgICB9ICovDQogICAgICB9ZWxzZSBpZihjbWQgPT0gIk1vbml0b3JPcHRpb25SZXMiKQ0KICAgICAgew0KICAgICAgICBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93TG9hZGluZyhmYWxzZSk7DQogICAgICAgIGlmKGRhdGEuUmVzdWx0ID09IHRydWUpDQogICAgICAgIHsNCiAgICAgICAgICBvcGVuZXJXLk9jeENvcmUuU2Vzc2lvbi5nZXRDVElBZ2VudERhdGEoKS5zZXRDVElNb25pdG9yU3RhdHVzKGRhdGEuQ1RJTW9uaXRvclN0YXR1cyk7DQogICAgICAgICAgdmFyIHNlYXQgPSBfU2VhdERhdGFzLmdldChkYXRhLkNUSU1vbml0b3JFeHROdW1iZXIpOw0KICAgICAgICAgIHNlYXQuTW9uaXRvckJ1dHRvbiA9IGRhdGEuTW9uaXRvckJ1dHRvbjsNCiAgICAgICAgICBfU2VhdERhdGFzLnB1dChkYXRhLkNUSU1vbml0b3JFeHROdW1iZXIrIiIsIHNlYXQpOw0KICAgICAgICAgIHZhciBzZWF0T2JqID0gJCgiIyIrInNlYXRfIitkYXRhLkNUSU1vbml0b3JFeHROdW1iZXIpOw0KICAgICAgICAgIGlmKG9wZW5lclcuT2N4Q29yZS5TZXNzaW9uLmdldENUSUFnZW50RGF0YSgpLmdldENUSU1vbml0b3JTdGF0dXMoKSA9PSBvcGVuZXJXLk9jeENvcmUuRW51bXMuQ1RJTW9uaXRvclN0YXR1c0ZsYWcuSU5JVFNZU1RFTS5nZXRJbmRleCgpKQ0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG9wZW5lclcuT2N4Q29yZS5TZXNzaW9uLmdldENUSUFnZW50RGF0YSgpLnNldENUSU1vbml0b3JFeHROdW1iZXIoIiIpOw0KICAgICAgICAgIH1lbHNlDQogICAgICAgICAgew0KICAgICAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlNlc3Npb24uZ2V0Q1RJQWdlbnREYXRhKCkuc2V0Q1RJTW9uaXRvckV4dE51bWJlcihkYXRhLkNUSU1vbml0b3JFeHROdW1iZXIpOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGlmKGRhdGEuQ2xvc2VNb25pdG9yRGlhbG9nICE9IHVuZGVmaW5lZCAmJiBkYXRhLkNsb3NlTW9uaXRvckRpYWxvZyA9PSB0cnVlKQ0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRoYW4uY2xvc2VUaGlzV2luZG93KCk7Ly/lhbPpl63nqpflj6MNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5ZKo6K+i5aSW57q/LeaQnOe0og0KICAgIGhhbmRsZVNlYXJjaCgpIHsNCiAgICAgIHRoaXMuY2FyZEl0ZW1TZWFyY2hMaXN0PWRhdGFBOw0KICAgICAgdGhpcy5zZXRUaXRsZSh0aGlzLmNhcmRJdGVtU2VhcmNoTGlzdCk7DQogICAgfSwNCiAgICAvL+iOt+WPluWIhuacuuWNoeeJh+aVsOaNrg0KICAgIGdldEV4dERhdGFMaXN0KCl7DQogICAgICB2YXIgc2Vzc2lvbiA9IHBhcmVudC5PY3hDb3JlLlNlc3Npb247Ly8NCiAgICAgIHZhciBkYXRhQT1bXTsNCiAgICAgIGlmIChzZXNzaW9uICE9IHVuZGVmaW5lZCAmJiBzZXNzaW9uICE9IG51bGwpIHsNCiAgICAgICAgaWYgKHNlc3Npb24uZ2V0Q29uZmlnID09IHVuZGVmaW5lZCB8fCBzZXNzaW9uLmdldENvbmZpZygiRW5hYmxlQ29uc3VsdEV4dE51bSIpID09IG51bGwgfHwgc2Vzc2lvbi5nZXRDb25maWcoIkVuYWJsZUNvbnN1bHRFeHROdW0iKSAhPSB0cnVlKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBFeHROdW1iZXJMaXN0ID0gc2Vzc2lvbi5nZXRFeHROdW1iZXJMaXN0KCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRXh0TnVtYmVyTGlzdC5zaXplKCk7IGkrKykgew0KICAgICAgICAgIHZhciBFeHROdW1iZXIgPSBFeHROdW1iZXJMaXN0LmdldChpKTsNCiAgICAgICAgICBpZiAoRXh0TnVtYmVyLkV4dE51bWJlciA9PSBzZXNzaW9uLmdldEV4dE51bWJlcigpKSB7DQogICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICB9DQogICAgICAgICAgZGF0YUEucHVzaChFeHROdW1iZXIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLmV4dE51bWJlcj1kYXRhQS5sZW5ndGg7DQogICAgICB0aGlzLmNvbnN1bHRpbmdFeHRlbnNpb25DYXJkSXRlbT1kYXRhQTsNCiAgICAgIHRoaXMuY29uc3VsdGluZ0V4dGVuc2lvbkNhcmRJdGVtU2VhcmNoPXRoaXMuY29uc3VsdGluZ0V4dGVuc2lvbkNhcmRJdGVtOw0KICAgIH0sDQogICAgLy/mioDog73nu4Tnu5/orqHmmI7nu4YNCiAgICBzZXRUaXRsZShkYXRhKXsNCiAgICAgIHRoaXMubnVtYmVyPWRhdGEubGVuZ3RoDQogICAgfSwNCiAgICAvL+WSqOivouWklue6vy3ph43nva4NCiAgICBoYW5kbGVSZXNldCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSAxOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gMTA7DQogICAgfSwNCiAgICBkcm9wRG93bigpIHt9LA0KICAgIC8v5ZKo6K+i5Z2Q5bitLeiOt+WPluaKgOiDveagkQ0KICAgIGdldENvbnN1bHRhdGlvblNlYXRUcmVlKCl7DQoNCiAgICB9LA0KICAgIC8v5qC55o2u5oqA6IO957uE5p+l55yL5Z2Q5bit6K+m5oOFDQogICAgZ2V0RGV0YWlsKGlkLHRleHQpIHsNCiAgICAgIHRoaXMuR3JvdXBJZD1pZDsNCiAgICAgIHRoaXMuZ3JvdXBOYW1lPXRleHQ7DQogICAgICB0aGlzLmdldFNlYXRMaXN0KCk7DQogICAgICAvL3RoaXMuZ2V0U2VhdFN0YXR1cygpOw0KICAgIH0sDQoNCiAgICBzZXRTdGF0ZSAodil7DQogICAgICByZXR1cm4gb3BlbmVyVy5PY3hDb3JlLkVudW1zLkdldE5hbWUob3BlbmVyVy5PY3hDb3JlLkVudW1zLkNUSUFnZW50U3RhdHVzRmxhZyx2KTsNCiAgICB9LA0KICAgIC8v5ZKo6K+i5aSW57q/DQogICAgY29uc3VsdGluZ091dHNpZGVMaW5lU3VibWl0KCkgew0KICAgICAgdmFyIHRoYW49dGhpczsNCiAgICAgIHZhciBwaG9uZSA9IHRoaXMuY29uc3VsdGluZ091dHNpZGVMaW5lRm9ybS5waG9uZTsNCiAgICAgIHBob25lID0gcGhvbmUucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCAiIik7DQogICAgICBpZiAocGhvbmUgPT0gdW5kZWZpbmVkIHx8IHBob25lID09IG51bGwgfHwgcGhvbmUubGVuZ3RoID09IDApIHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS5pbmZvKCLor7fovpPlhaXlpJbnur/lj7fnoIHvvIEiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdmFyIHJlZyA9IC9eKFwrXGR7MiwzfVwtKT9cZHsxMX0kLzsNCiAgICAgIHZhciByZWcyID0gL14oXGR7Myw0fS0/KT9bMS05XVxkezYsN30kLzsNCiAgICAgIHZhciByZWczID0gL15cZHs0LDEwfSQvOy8v55+t5Y+3DQogICAgICB2YXIgcmVnNCA9IC9eXGR7NSwzMH0kLzsvLzXliLAzMOS9jeeahOaVsOWtlw0KICAgICAgaWYgKCFyZWc0LnRlc3QocGhvbmUpKSB7DQogICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dXYXJuaW5nKCLor7fovpPlhaXmraPnoa7moLzlvI/nmoTnlLXor53lj7fnoIHvvIEiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdmFyIHBvc3REYXRhID0gew0KICAgICAgICBDYWxsZWQ6IHBob25lDQogICAgICB9Ow0KICAgICAgLy/lrqLmiLfnq6/mi6jlj7fkuYvliY3lm57osIPlh73mlbANCiAgICAgIGlmIChvcGVuZXJXLk9jeENvcmUuU2Vzc2lvbi5HZXRHbG9iYWwoIm9uQmVmb3JlTWFrZUNhbGwiKSAhPSB1bmRlZmluZWQgJiYgb3BlbmVyVy5PY3hDb3JlLlNlc3Npb24uR2V0R2xvYmFsKCJvbkJlZm9yZU1ha2VDYWxsIikgIT0gbnVsbCAmJiBvcGVuZXJXLk9jeENvcmUuU2Vzc2lvbi5HZXRHbG9iYWwoIm9uQmVmb3JlTWFrZUNhbGwiKS5BdHRhY2hTaXplKCkgPiAwKSB7DQogICAgICAgIHBvc3REYXRhID0gb3BlbmVyVy5PY3hDb3JlLlNlc3Npb24uR2V0R2xvYmFsKCJvbkJlZm9yZU1ha2VDYWxsIikuQ2FsbChwb3N0RGF0YSwgdGhhbi5CZWZvcmVNYWtlQ2FsbENhbGxiYWNrKTsNCiAgICAgIH0NCiAgICAgIGlmIChwb3N0RGF0YSA9PSB1bmRlZmluZWQgfHwgcG9zdERhdGEgPT0gbnVsbCB8fCBwb3N0RGF0YSA9PSAiIikgew0KICAgICAgICAvL29wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dXYXJuaW5nKCLnlLXor53lj7fnoIHpqozor4HkuI3pgJrov4fvvIEiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgaWYgKHBvc3REYXRhLkNhbGxlZCA9PSB1bmRlZmluZWQgfHwgcG9zdERhdGEuQ2FsbGVkID09IG51bGwgfHwgcG9zdERhdGEuQ2FsbGVkID09ICIiIHx8ICFyZWc0LnRlc3QocG9zdERhdGEuQ2FsbGVkKSkgew0KICAgICAgICBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93VGlwKCLor7fovpPlhaXkuI3otoXov4czMOS9jeaVsOWtl+eahOaLqOWPt+WPt+egge+8gSIsIDEpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICAvL+WSqOivouWklue6vw0KICAgICAgLy9vcGVuZXJXLk9jeENvcmUuU2Vzc2lvbi5DVElBZ2VudENvbW1vbkFjdGlvbigiQ29uc3VsdE91dGxpbmUiLCBwb3N0RGF0YSwgZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgIG9wZW5lclcuT2N4Q29tbWFuZEZ1bi5DVElBZ2VudENvbW1vbkFjdGlvbigiQ29uc3VsdE91dGxpbmUiLCBwb3N0RGF0YSwgZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd0xvYWRpbmcoZmFsc2UpOw0KICAgICAgICB0aGFuLmNsb3NlVGhpc1dpbmRvdygpOw0KICAgICAgfSwgZnVuY3Rpb24gKGV4KSB7DQogICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dMb2FkaW5nKGZhbHNlKTsNCiAgICAgICAgaWYgKGV4Lk1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIGV4Lk1lc3NhZ2UgIT0gIiIpIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dUaXAoZXguTWVzc2FnZSwgMSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGNhcmRJdGVtQ2xpY2soaXRlbSl7DQogICAgICB2YXIgdGhhbj10aGlzOw0KICAgICAgdmFyIHNlYXRFeHROdW0gPSBpdGVtLlNlYXQ7DQogICAgICBpZiAoIW9wZW5lclcuT2N4Q29yZS5TZXNzaW9uLklzQ2hlY2tpbigpKSB7DQogICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dUaXAoIuW3suetvuWHuu+8jOaTjeS9nOaXoOaViO+8gSIsIDEpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB2YXIgY29uc3VsdFNlYXQgPSB7DQogICAgICAgIENhbGxlZDogc2VhdEV4dE51bQ0KICAgICAgfTsNCiAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dMb2FkaW5nKHRydWUsICLlpITnkIbkuK0uLi4iLCA1KTsNCiAgICAgIC8vQ29uc3VsdElubGluZS8v5ZKo6K+i5YaF57q/DQogICAgICAvL29wZW5lclcuT2N4Q29yZS5TZXNzaW9uLkNUSUFnZW50Q29tbW9uQWN0aW9uKCJDb25zdWx0SW5saW5lIiwgY29uc3VsdFNlYXQsIGZ1bmN0aW9uIChkYXRhKSB7DQogICAgICBvcGVuZXJXLk9jeENvbW1hbmRGdW4uQ1RJQWdlbnRDb21tb25BY3Rpb24oIkNvbnN1bHRJbmxpbmUiLCBjb25zdWx0U2VhdCwgZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd0xvYWRpbmcoZmFsc2UpOw0KICAgICAgICB0aGFuLmNsb3NlVGhpc1dpbmRvdygpOw0KICAgICAgfSwgZnVuY3Rpb24gKGV4KSB7DQogICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dMb2FkaW5nKGZhbHNlKTsNCiAgICAgICAgaWYgKGV4Lk1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIGV4Lk1lc3NhZ2UgIT0gIiIpIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dUaXAoZXguTWVzc2FnZSwgMSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGNsaWNrRXh0VXNlckNhcmQoaXRlbSl7DQogICAgICB2YXIgdGhhbj10aGlzOw0KDQogICAgICB2YXIgc2VhdEV4dE51bSA9IGl0ZW0uRXh0TnVtYmVyOw0KICAgICAgLy8kKCIjZ3JpZF9FeHRWaWV3IC5zZWxlY3RlZCIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpOw0KICAgICAgLy8kKHRoaXMpLmFkZENsYXNzKCJzZWxlY3RlZCIpOw0KICAgICAgaWYgKCFvcGVuZXJXLk9jeENvcmUuU2Vzc2lvbi5Jc0NoZWNraW4oKSkgew0KICAgICAgICBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93VGlwKCLlt7Lnrb7lh7rvvIzmk43kvZzml6DmlYjvvIEiLCAxKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdmFyIGNvbnN1bHRTZWF0ID0gew0KICAgICAgICBDYWxsZWQ6IHNlYXRFeHROdW0NCiAgICAgIH07DQogICAgICBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93TG9hZGluZyh0cnVlLCAi5aSE55CG5LitLi4uIiwgNSk7DQogICAgICBvcGVuZXJXLk9jeENvbW1hbmRGdW4uQ1RJQWdlbnRDb21tb25BY3Rpb24oIkNvbnN1bHRJbmxpbmUiLCBjb25zdWx0U2VhdCwgZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd0xvYWRpbmcoZmFsc2UpOw0KDQogICAgICAgIHRoYW4uY2xvc2VUaGlzV2luZG93KCk7DQogICAgICB9LCBmdW5jdGlvbiAoZXgpIHsNCiAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd0xvYWRpbmcoZmFsc2UpOw0KICAgICAgICBpZiAoZXguTWVzc2FnZSAhPSB1bmRlZmluZWQgJiYgZXguTWVzc2FnZSAhPSAiIikgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd1RpcChleC5NZXNzYWdlLCAxKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5aSW5ZG85YmN5Zue6LCD5Ye95pWwKOWGhemDqOS9v+eUqO+8jOS4jeWvueWkluW8gOaUvikNCiAgICAgKg0KICAgICAqIEBwYXJhbSBwb3N0RGF0YSDlkbzlj6vkv6Hmga8NCiAgICAgKg0KICAgICAqIEByZXR1cm4g5aSW5ZG85YmN6aqM6K+B57uT5p6cIHRydWXpqozor4HmiJDlip8gZmFsc2Xpqozor4HlpLHotKUNCiAgICAgKiAqLw0KICAgIEJlZm9yZU1ha2VDYWxsQ2FsbGJhY2socG9zdERhdGEpIHsNCiAgICAgIHZhciB0aGFuPXRoaXM7DQogICAgICBpZiAocG9zdERhdGEgPT0gdW5kZWZpbmVkIHx8IHBvc3REYXRhID09IG51bGwgfHwgcG9zdERhdGEgPT0gIiIpIHsNCiAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd1dhcm5pbmcoIueUteivneWPt+eggemqjOivgeS4jemAmui/h++8gSIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICB2YXIgcmVnNCA9IC9eXGR7NSwzMH0kLzsvLzXliLAzMOS9jeeahOaVsOWtlw0KICAgICAgaWYgKHBvc3REYXRhLkNhbGxlZCA9PSB1bmRlZmluZWQgfHwgcG9zdERhdGEuQ2FsbGVkID09IG51bGwgfHwgcG9zdERhdGEuQ2FsbGVkID09ICIiIHx8ICFyZWc0LnRlc3QocG9zdERhdGEuQ2FsbGVkKSkgew0KICAgICAgICBvcGVuZXJXLk9jeENvcmUuVXRpbGl0eS5TaG93VGlwKCLor7fovpPlhaXkuI3otoXov4czMOS9jeaVsOWtl+eahOaLqOWPt+WPt+egge+8gSIsIDEpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICAvL+WSqOivouWklue6vw0KICAgICAgdmFyIHByb2NSZXN1bHQgPSBvcGVuZXJXLk9jeENvcmUuU2Vzc2lvbi5DVElBZ2VudENvbW1vbkFjdGlvbigiQ29uc3VsdE91dGxpbmUiLCBwb3N0RGF0YSwgZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgb3BlbmVyVy5PY3hDb3JlLlV0aWxpdHkuU2hvd0xvYWRpbmcoZmFsc2UpOw0KICAgICAgICB0aGFuLmNsb3NlVGhpc1dpbmRvdygpOw0KICAgICAgfSwgZnVuY3Rpb24gKGV4KSB7DQogICAgICAgIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dMb2FkaW5nKGZhbHNlKTsNCiAgICAgICAgaWYgKGV4Lk1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIGV4Lk1lc3NhZ2UgIT0gIiIpIG9wZW5lclcuT2N4Q29yZS5VdGlsaXR5LlNob3dUaXAoZXguTWVzc2FnZSwgMSk7DQogICAgICB9KTsNCiAgICAgIHJldHVybiBwcm9jUmVzdWx0Ow0KICAgIH0sDQogICAgY2xvc2VUaGlzV2luZG93KCl7DQogICAgICB2YXIgaW5kZXg9cGFyZW50LmxheWVyLmdldEZyYW1lSW5kZXgod2luZG93Lm5hbWUpOyAvL+iOt+WPluW9k+WJjeeql+WPo+eahG5hbWUNCiAgICAgIHBhcmVudC5sYXllci5jbG9zZShpbmRleCk7DQogICAgfSwNCg0KICB9LA0KICB3YXRjaDogew0KICAgIC8v5ZKo6K+i5Z2Q5bitLeaQnOe0ouadoeS7tg0KICAgICJjb25zdWx0YXRpb25TZWF0U2VhcmNoRm9ybS51c2VyIjogew0KICAgICAgaGFuZGxlcjogZnVuY3Rpb24odmFsKSB7DQogICAgICAgIHZhciBkYXRhQT1bXTsNCiAgICAgICAgdmFyIGRhdGFPYmo9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNhcmRJdGVtKSk7DQogICAgICAgIGlmKHZhbD09IiIpew0KICAgICAgICAgIGRhdGFBPXRoaXMuY2FyZEl0ZW07DQogICAgICAgIH1lbHNlIGlmKHZhbCE9IiIpew0KICAgICAgICAgIGRhdGFPYmouZm9yRWFjaChmdW5jdGlvbiAodixpLGFycil7DQogICAgICAgICAgICBpZih2Lk5hbWUuaW5kZXhPZih2YWwpIT0tMXx8di5Kb2JOdW0udG9TdHJpbmcoKS5pbmRleE9mKHZhbCkhPS0xfHx2LlNlYXQudG9TdHJpbmcoKS5pbmRleE9mKHZhbCkhPS0xfHx2LkdlbmRlci50b1N0cmluZygpLmluZGV4T2YodmFsKSE9LTEpew0KICAgICAgICAgICAgICBkYXRhQS5wdXNoKHYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5jYXJkSXRlbVNlYXJjaExpc3Q9ZGF0YUE7DQogICAgICAgIHRoaXMuc2V0VGl0bGUodGhpcy5jYXJkSXRlbVNlYXJjaExpc3QpOw0KICAgICAgfSwNCiAgICB9LA0KICAgIC8v5ZKo6K+i5YiG5py6LeaQnOe0ouadoeS7tg0KICAgICJjb25zdWx0aW5nRXh0ZW5zaW9uU2VhcmNoRm9ybS51c2VyIjp7DQogICAgICBoYW5kbGVyOmZ1bmN0aW9uKHZhbCkgew0KICAgICAgICB2YXIgZGF0YUE9W107DQogICAgICAgIHZhciBkYXRhT2JqPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb25zdWx0aW5nRXh0ZW5zaW9uQ2FyZEl0ZW0pKTsNCiAgICAgICAgaWYodmFsPT0iIil7DQogICAgICAgICAgZGF0YUE9dGhpcy5jb25zdWx0aW5nRXh0ZW5zaW9uQ2FyZEl0ZW07DQogICAgICAgIH1lbHNlIGlmKHZhbCE9IiIpew0KICAgICAgICAgIGRhdGFPYmouZm9yRWFjaChmdW5jdGlvbiAodixpLGFycil7DQoNCiAgICAgICAgICAgIGlmKHYuRXh0TnVtYmVyLnRvU3RyaW5nKCkuaW5kZXhPZih2YWwpIT0tMXx8di5FeHRVc2VyUmVhbE5hbWUudG9TdHJpbmcoKS5pbmRleE9mKHZhbCkhPS0xKXsNCg0KICAgICAgICAgICAgICBkYXRhQS5wdXNoKHYpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5jb25zdWx0aW5nRXh0ZW5zaW9uQ2FyZEl0ZW1TZWFyY2g9ZGF0YUE7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["toolbarConsultingService.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"toolbarConsultingService.vue","sourceRoot":"src/views/my-components/toolbar","sourcesContent":["<template>\r\n  <div class=\"model-box\">\r\n    <Tabs value=\"name1\">\r\n      <TabPane label=\"咨询坐席\" name=\"name1\">\r\n        <Row :gutter=\"16\">\r\n          <Col span=\"5\" style=\"padding-right: 20px;\">\r\n            <div class=\"ui-panl-warp\">\r\n              <p class=\"ui-panl-header\">可选择的技能组</p>\r\n              <Menu\r\n                  :active-name=\"itemListData[0].GrpId\"\r\n                  class=\"ui-toolbar-monitor-item-box ui-menu-primary\"\r\n                  style=\"width: 100%\"\r\n              >\r\n                <MenuItem\r\n                    :name=\"item.GrpId\"\r\n                    @click.native=\"getDetail(item.GrpId,item.GrpName)\"\r\n                    class=\"ui-toolbar-monitor-item\"\r\n                    :class=\"ownSpaceLeftItem == item.id ? '' : ''\"\r\n                    v-for=\"(item, i) in itemListData\"\r\n                    :key=\"item.GrpId\"\r\n                    :data-name-1=\"i + 1\"\r\n                >\r\n                  <span>{{ item.GrpName }}</span>\r\n                </MenuItem>\r\n              </Menu>\r\n            </div>\r\n          </Col>\r\n          <Col span=\"19\">\r\n            <div>\r\n              归属坐席-{{ groupName }}-{{ number }}人；坐席查询：\r\n              <Form\r\n                      ref=\"consultationSeatSearchForm\"\r\n                      :model=\"consultationSeatSearchForm\"\r\n                      style=\"width:180px; display: inline-block;\"\r\n              >\r\n                <FormItem>\r\n                  <Input\r\n                          type=\"text\"\r\n                          v-model=\"consultationSeatSearchForm.user\"\r\n                          placeholder=\"请输入\"\r\n                  >\r\n                  </Input>\r\n                </FormItem>\r\n              </Form>\r\n              <div>\r\n                <Row :gutter=\"16\">\r\n                  {{cardItemSearchList}}\r\n                  <Col span=\"6\" v-for=\"(item, i) in cardItemSearchList\"\r\n                       :key=\"i\"\r\n                       @click.native=\"cardItemClick(item)\"\r\n                  >\r\n                    <div\r\n                            class=\"ui-card\"\r\n\r\n                    >\r\n                      <div class=\"ui-card-header\">\r\n                        <div>\r\n                          姓名：<span class=\"text-val\">{{\r\n                            item.Name\r\n                          }}</span>\r\n                        </div>\r\n                        <div>\r\n                          工号：<span class=\"text-val\">{{\r\n                            item.JobNum\r\n                          }}</span>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"ui-card-body\">\r\n                        <img v-if=\"item.Gender == '女'\" src=\"../../../assets/female.png\" />\r\n                        <img v-if=\"item.Gender == '男'\" src=\"../../../assets/male2.png\" />\r\n                        <div class=\"\">\r\n                          <p>\r\n                            分机：<span class=\"text-val\">{{\r\n                              item.Seat\r\n                            }}</span>\r\n                          </p>\r\n                          <p>\r\n                            状态：<span class=\"text-val\">{{\r\n                              setState(item.State)\r\n                            }}</span>\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </TabPane>\r\n      <TabPane label=\"咨询外线\" name=\"name2\">\r\n        <Row>\r\n          <Form ref=\"consultingOutsideLineForm\" :model=\"consultingOutsideLineForm\" :rules=\"consultingOutsideLineValidate\" :label-width=\"80\" style=\"width: 600px\">\r\n            <FormItem label=\"外线号码\" prop=\"phone\">\r\n              <Input type=\"text\" v-model=\"consultingOutsideLineForm.phone\"></Input>\r\n            </FormItem>\r\n            <FormItem>\r\n              <Button type=\"primary\" @click=\"consultingOutsideLineSubmit('consultingOutsideLineForm')\">咨询外线</Button>\r\n            </FormItem>\r\n          </Form>\r\n        </Row>\r\n      </TabPane>\r\n      <TabPane label=\"咨询分机\" name=\"name3\">\r\n\r\n        <div>\r\n          分机列表--{{ extNumber }}个；分机查询：\r\n          <Form\r\n                  ref=\"consultingExtensionSearchForm\"\r\n                  :model=\"consultingExtensionSearchForm\"\r\n                  style=\"width:180px; display: inline-block;\"\r\n          >\r\n            <FormItem>\r\n              <Input\r\n                      type=\"text\"\r\n                      v-model=\"consultingExtensionSearchForm.user\"\r\n                      placeholder=\"请输入\"\r\n              >\r\n              </Input>\r\n            </FormItem>\r\n          </Form>\r\n          <Alert style=\"display: inline-block;margin-left: 15px;\">温馨提示：单击选中下面一个分机选框即可咨询该分机。</Alert>\r\n          <div>\r\n            <Row :gutter=\"16\" class=\"no-margin\">\r\n              <Col span=\"4\" v-for=\"(item, i) in consultingExtensionCardItemSearch\"\r\n                   @click.native=\"clickExtUserCard(item)\"\r\n                   :key=\"i\">\r\n                <div class=\"ui-card\">\r\n                  <div class=\"ui-card-body\">\r\n                    <div><img src=\"../../../assets/telephone.png\" /></div>\r\n                    <div class=\"\">\r\n                      <p>\r\n                        分机：<span class=\"text-val\">{{\r\n                              item.ExtNumber\r\n                            }}</span>\r\n                      </p>\r\n                      <p>\r\n                        姓名：<span class=\"text-val\">{{\r\n                              item.ExtUserRealName\r\n                            }}</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n      </TabPane>\r\n    </Tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar openerW = parent;\r\nexport default {\r\n  name: \"toolbarConsultingService\",\r\n  props: [\"toolbarConsultingServiceModalVisible\"],\r\n  data() {\r\n    return {\r\n      groupName: \"\",\r\n      number: \"\",\r\n      GroupId:null,\r\n      groupDetail:'',\r\n      extNumber:0,\r\n      //技能组\r\n      itemListData: [],\r\n      //咨询坐席-搜索条件\r\n      consultationSeatSearchForm: {\r\n        userRealName: \"\",\r\n      },\r\n      //咨询外线-搜索条件\r\n      consultingOutsideLineForm:{\r\n        phone:\"\"\r\n      },\r\n      //咨询外线-表头\r\n      consultingOutsideLineFormColumns:[\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"姓名\", //姓名\r\n          key: \"userRealName\",\r\n          width: 150,\r\n          sortable: true,\r\n          tooltip: true,\r\n        },\r\n        {\r\n          title: \"性别\", //性别\r\n          key: \"setGender\",\r\n          width: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"固定电话\", //固定电话\r\n          key: \"setExtMode\",\r\n          width: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"手机\", //手机\r\n          key: \"setExtNumber\",\r\n          width: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"邮箱\", //邮箱\r\n          key: \"email\",\r\n          width: 150,\r\n          sortable: true,\r\n        }\r\n      ],\r\n      //线外咨询表格数据\r\n      consultingOutsideLineData:[{\r\n          id:\"000001\",\r\n          userRealName: \"张三\",\r\n          setGender: \"男\",\r\n          setExtMode: \"010-123123\",\r\n          setExtNumber: \"13333333333\",\r\n          email: \"22@qq.com\"\r\n        },],\r\n      //咨询坐席树\r\n      treeData: [\r\n        {\r\n          id: \"00001\",\r\n          title: \"VIP专属客服\",\r\n          expand: true,\r\n          parentnodes: 0,\r\n          children: [\r\n            {\r\n              id: \"00001000001\",\r\n              title: \"vip4104\",\r\n              expand: true,\r\n              parentnodes: 0,\r\n              children: [],\r\n            },\r\n            {\r\n              id: \"00001000002\",\r\n              title: \"vip6450\",\r\n              expand: true,\r\n              parentnodes: 0,\r\n              children: [],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: \"00002\",\r\n          title: \"1\",\r\n          expand: true,\r\n          parentnodes: 0,\r\n          children: [\r\n            {\r\n              id: \"00002000001\",\r\n              title: \"1\",\r\n              expand: true,\r\n              parentnodes: 0,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: \"00003\",\r\n          title: \"综合客服\",\r\n          expand: true,\r\n          children: [],\r\n          parentnodes: 0,\r\n        },\r\n        {\r\n          id: \"00004\",\r\n          title: \"专属客服\",\r\n          expand: true,\r\n          children: [],\r\n          parentnodes: 0,\r\n        },\r\n        {\r\n          id: \"00005\",\r\n          title: \"管理组\",\r\n          expand: true,\r\n          children: [],\r\n          parentnodes: 0,\r\n        },\r\n        {\r\n          id: \"00006\",\r\n          title: \"运输客服\",\r\n          expand: true,\r\n          children: [],\r\n          parentnodes: 0,\r\n        },\r\n      ],\r\n      //咨询外线树\r\n      treeData2: [\r\n        {\r\n          id: \"00001\",\r\n          title: \"个人联系人\",\r\n          expand: true,\r\n          parentnodes: 0,\r\n          children: [\r\n            {\r\n              id: \"00001000001\",\r\n              title: \"vip4104\",\r\n              expand: true,\r\n              parentnodes: 0,\r\n              children: [],\r\n            },\r\n            {\r\n              id: \"00001000002\",\r\n              title: \"vip6450\",\r\n              expand: true,\r\n              parentnodes: 0,\r\n              children: [],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: \"00002\",\r\n          title: \"共享联系人\",\r\n          expand: true,\r\n          parentnodes: 0,\r\n          children: [\r\n            {\r\n              id: \"00002000001\",\r\n              title: \"1\",\r\n              expand: true,\r\n              parentnodes: 0,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          id: \"00003\",\r\n          title: \"公共联系人\",\r\n          expand: true,\r\n          children: [],\r\n          parentnodes: 0,\r\n        },\r\n      ],\r\n      //咨询坐席卡片\r\n      cardItem: [\r\n        {\r\n          id: \"0001\",\r\n          userRealName: \"客服1\", //姓名\r\n          username: \"1001\", //工号\r\n          extnumber: \"8002\", //分机号\r\n          currentStatus: \"空闲\", //状态\r\n          setGender:\"0\",//性别\r\n        }],\r\n      cardItemSearchList:[],\r\n      total: 0,\r\n      //咨询分机\r\n      consultingExtensionSearchForm:{\r\n        name:\"\"\r\n      },\r\n      //咨询分机-卡片\r\n      consultingExtensionCardItem: [],\r\n      consultingExtensionCardItemSearch:[],\r\n      //\r\n      consultingOutsideLineValidate:{\r\n        phone: [\r\n          {\r\n            type:'number',\r\n            required: true,\r\n            message: \"请输入正确的手机号码\",\r\n            trigger: \"blur\",\r\n            transform(value){\r\n              var myreg=/^\\d{5,30}$/;\r\n              if(!myreg.test(value)){\r\n                return false;\r\n              }else {\r\n                return Number(value)\r\n              }\r\n            }\r\n          },\r\n        ],\r\n      },\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getSkillGroupListData();//获取技能组\r\n      this.getExtDataList();//获取分机卡片\r\n    },\r\n    getSkillGroupListData(){\r\n      var than=this;\r\n      window.setTimeout(function (){\r\n        var postData = {\r\n          GroupId : than.GroupId\r\n        };\r\n        //监控窗口加载完成后发送开始监控命令\r\n        //openerW.OcxCommandFun.CTIAgentCommonAction(\"BeginMonitor\", postData,function(data){\r\n        openerW.OcxCommandFun.CTIAgentCommonAction(\"BeginConsult\", postData,function(data){\r\n\r\n        },function(ex){\r\n          openerW.OcxCore.Utility.ShowLoading(false);\r\n          if(ex.Message != undefined && ex.Message != \"\") openerW.OcxCore.Utility.ShowTip(ex.Message, 1);\r\n        });\r\n\r\n      },200)\r\n      window.setTimeout(function (){\r\n        than.setSkillGroupListData();\r\n      },500)\r\n    },\r\n    //咨询坐席-获取技能组\r\n    setSkillGroupListData() {\r\n      var dataA=[];\r\n      //var seatGroups = openerW.OcxCore.Session.getCTIAgentData().getSeatGroups().data;\r\n      var dataA=JSON.parse(localStorage.getItem('GetGrpSeatStateData'));\r\n      var cmd=dataA.cmd;\r\n      var data=dataA.data.Data;\r\n      if(cmd == \"GRPINFO_NOTIFY\"){\r\n        // for(var i in seatGroups){\r\n        //   var v=seatGroups[i];\r\n        //   dataA.push({\"id\":v.GroupId+\"\",\"text\":v.GroupName,\"value\":v.GroupId,\"code\":dataA.length+1})\r\n        // }\r\n        this.GroupId=data[0].GrpId.toString();\r\n        this.itemListData=data;\r\n        this.groupName=data[0].GrpName.toString();\r\n\r\n      }else if(cmd == \"CONSULTSTATE_NOTIFY\"){\r\n        var seats = data.Data;\r\n        LoadViewList(seats);\r\n      }\r\n      this.getSeatList();//获取坐席卡片\r\n    },\r\n    //获取坐席卡片\r\n    getSeatList(){\r\n      var than=this;\r\n      window.setTimeout(function (){\r\n        var postData = {\r\n          GroupId : than.GroupId\r\n        };\r\n        //监控窗口加载完成后发送开始监控命令\r\n        //openerW.OcxCommandFun.CTIAgentCommonAction(\"BeginMonitor\", postData,function(data){\r\n        openerW.OcxCommandFun.CTIAgentCommonAction(\"GetGrpSeatState\", postData,function(data){\r\n\r\n        },function(ex){\r\n          openerW.OcxCore.Utility.ShowLoading(false);\r\n          if(ex.Message != undefined && ex.Message != \"\") openerW.OcxCore.Utility.ShowTip(ex.Message, 1);\r\n        });\r\n\r\n      },200)\r\n      window.setTimeout(function (){\r\n        than.setSeatList();\r\n      },500)\r\n    },\r\n    setSeatList(){\r\n\r\n      var than=this;\r\n      var dataA=JSON.parse(localStorage.getItem('CONSULTSTATE_NOTIFYData'));\r\n\r\n      var cmd=dataA.cmd;\r\n      var data=dataA.data.Data;\r\n      this.cardItem=data;\r\n      this.cardItemSearchList=than.cardItem;\r\n      if (cmd == \"MONITORSTATE_NOTIFY\")//监控坐席状态通知\r\n      {\r\n        this.setTitle(this.cardItemSearchList);\r\n      }\r\n      else if (cmd == \"GROUPWAITCOUNT_NOTIFY\")//技能排队等待数量通知\r\n      {\r\n        if(GroupId != null && GroupId == data.GroupId)\r\n        {\r\n          var waitCount = data.WaitCount || 0;\r\n          $(\"#lblWaitCount\").text(waitCount);\r\n        }\r\n      }\r\n      else if(cmd == \"CurrentUserStateChanged\")\r\n      {\r\n        if(!openerW.OcxCore.Session.IsCheckin())\r\n        {\r\n          $(\"#grid_View\").html(\"\");\r\n          _SeatDatas.clear();\r\n\r\n          than.closeThisWindow();//关闭窗口\r\n        }\r\n        /*         \telse if(openerW.OcxCore.Session.GetUserInfo() != null && openerW.OcxCore.Session.GetUserInfo().CTIMonitorStatus == openerW.OcxCore.Enums.CTIMonitorStatusFlag.INITSYSTEM.getIndex())\r\n                    {\r\n                        if (!!$(this).hasClass(\"selected\")) {\r\n                            $(this).removeClass(\"selected\");\r\n                        } else {\r\n                            $(\"#grid_View .selected\").removeClass(\"selected\");\r\n                            $(this).addClass(\"selected\");\r\n                        }\r\n                        var seatExtNum = $(this).attr(\"id\").toString().replace(\"seat_\",\"\");\r\n                        changeButtonState($(this),_SeatDatas.get(seatExtNum));\r\n                    }else\r\n                    {\r\n                        var seatExtNum = $(this).attr(\"id\").toString().replace(\"seat_\",\"\");\r\n                        changeButtonState($(this),_SeatDatas.get(seatExtNum));\r\n                    } */\r\n      }else if(cmd == \"MonitorOptionRes\")\r\n      {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        if(data.Result == true)\r\n        {\r\n          openerW.OcxCore.Session.getCTIAgentData().setCTIMonitorStatus(data.CTIMonitorStatus);\r\n          var seat = _SeatDatas.get(data.CTIMonitorExtNumber);\r\n          seat.MonitorButton = data.MonitorButton;\r\n          _SeatDatas.put(data.CTIMonitorExtNumber+\"\", seat);\r\n          var seatObj = $(\"#\"+\"seat_\"+data.CTIMonitorExtNumber);\r\n          if(openerW.OcxCore.Session.getCTIAgentData().getCTIMonitorStatus() == openerW.OcxCore.Enums.CTIMonitorStatusFlag.INITSYSTEM.getIndex())\r\n          {\r\n            openerW.OcxCore.Session.getCTIAgentData().setCTIMonitorExtNumber(\"\");\r\n          }else\r\n          {\r\n            openerW.OcxCore.Session.getCTIAgentData().setCTIMonitorExtNumber(data.CTIMonitorExtNumber);\r\n          }\r\n\r\n          if(data.CloseMonitorDialog != undefined && data.CloseMonitorDialog == true)\r\n          {\r\n            than.closeThisWindow();//关闭窗口\r\n          }\r\n        }\r\n      }\r\n    },\r\n    //咨询外线-搜索\r\n    handleSearch() {\r\n      this.cardItemSearchList=dataA;\r\n      this.setTitle(this.cardItemSearchList);\r\n    },\r\n    //获取分机卡片数据\r\n    getExtDataList(){\r\n      var session = parent.OcxCore.Session;//\r\n      var dataA=[];\r\n      if (session != undefined && session != null) {\r\n        if (session.getConfig == undefined || session.getConfig(\"EnableConsultExtNum\") == null || session.getConfig(\"EnableConsultExtNum\") != true) {\r\n          return;\r\n        }\r\n        var ExtNumberList = session.getExtNumberList();\r\n        for (var i = 0; i < ExtNumberList.size(); i++) {\r\n          var ExtNumber = ExtNumberList.get(i);\r\n          if (ExtNumber.ExtNumber == session.getExtNumber()) {\r\n            continue;\r\n          }\r\n          dataA.push(ExtNumber);\r\n        }\r\n      }\r\n      this.extNumber=dataA.length;\r\n      this.consultingExtensionCardItem=dataA;\r\n      this.consultingExtensionCardItemSearch=this.consultingExtensionCardItem;\r\n    },\r\n    //技能组统计明细\r\n    setTitle(data){\r\n      this.number=data.length\r\n    },\r\n    //咨询外线-重置\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n    },\r\n    dropDown() {},\r\n    //咨询坐席-获取技能树\r\n    getConsultationSeatTree(){\r\n\r\n    },\r\n    //根据技能组查看坐席详情\r\n    getDetail(id,text) {\r\n      this.GroupId=id;\r\n      this.groupName=text;\r\n      this.getSeatList();\r\n      //this.getSeatStatus();\r\n    },\r\n\r\n    setState (v){\r\n      return openerW.OcxCore.Enums.GetName(openerW.OcxCore.Enums.CTIAgentStatusFlag,v);\r\n    },\r\n    //咨询外线\r\n    consultingOutsideLineSubmit() {\r\n      var than=this;\r\n      var phone = this.consultingOutsideLineForm.phone;\r\n      phone = phone.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n      if (phone == undefined || phone == null || phone.length == 0) {\r\n        this.$Message.info(\"请输入外线号码！\");\r\n        return;\r\n      }\r\n      var reg = /^(\\+\\d{2,3}\\-)?\\d{11}$/;\r\n      var reg2 = /^(\\d{3,4}-?)?[1-9]\\d{6,7}$/;\r\n      var reg3 = /^\\d{4,10}$/;//短号\r\n      var reg4 = /^\\d{5,30}$/;//5到30位的数字\r\n      if (!reg4.test(phone)) {\r\n        openerW.OcxCore.Utility.ShowWarning(\"请输入正确格式的电话号码！\");\r\n        return;\r\n      }\r\n      var postData = {\r\n        Called: phone\r\n      };\r\n      //客户端拨号之前回调函数\r\n      if (openerW.OcxCore.Session.GetGlobal(\"onBeforeMakeCall\") != undefined && openerW.OcxCore.Session.GetGlobal(\"onBeforeMakeCall\") != null && openerW.OcxCore.Session.GetGlobal(\"onBeforeMakeCall\").AttachSize() > 0) {\r\n        postData = openerW.OcxCore.Session.GetGlobal(\"onBeforeMakeCall\").Call(postData, than.BeforeMakeCallCallback);\r\n      }\r\n      if (postData == undefined || postData == null || postData == \"\") {\r\n        //openerW.OcxCore.Utility.ShowWarning(\"电话号码验证不通过！\");\r\n        return;\r\n      }\r\n      if (postData.Called == undefined || postData.Called == null || postData.Called == \"\" || !reg4.test(postData.Called)) {\r\n        openerW.OcxCore.Utility.ShowTip(\"请输入不超过30位数字的拨号号码！\", 1);\r\n        return false;\r\n      }\r\n      //咨询外线\r\n      //openerW.OcxCore.Session.CTIAgentCommonAction(\"ConsultOutline\", postData, function (data) {\r\n      openerW.OcxCommandFun.CTIAgentCommonAction(\"ConsultOutline\", postData, function (data) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        than.closeThisWindow();\r\n      }, function (ex) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        if (ex.Message != undefined && ex.Message != \"\") openerW.OcxCore.Utility.ShowTip(ex.Message, 1);\r\n      });\r\n    },\r\n    cardItemClick(item){\r\n      var than=this;\r\n      var seatExtNum = item.Seat;\r\n      if (!openerW.OcxCore.Session.IsCheckin()) {\r\n        openerW.OcxCore.Utility.ShowTip(\"已签出，操作无效！\", 1);\r\n        return;\r\n      }\r\n      var consultSeat = {\r\n        Called: seatExtNum\r\n      };\r\n      openerW.OcxCore.Utility.ShowLoading(true, \"处理中...\", 5);\r\n      //ConsultInline//咨询内线\r\n      //openerW.OcxCore.Session.CTIAgentCommonAction(\"ConsultInline\", consultSeat, function (data) {\r\n      openerW.OcxCommandFun.CTIAgentCommonAction(\"ConsultInline\", consultSeat, function (data) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        than.closeThisWindow();\r\n      }, function (ex) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        if (ex.Message != undefined && ex.Message != \"\") openerW.OcxCore.Utility.ShowTip(ex.Message, 1);\r\n      });\r\n    },\r\n    clickExtUserCard(item){\r\n      var than=this;\r\n\r\n      var seatExtNum = item.ExtNumber;\r\n      //$(\"#grid_ExtView .selected\").removeClass(\"selected\");\r\n      //$(this).addClass(\"selected\");\r\n      if (!openerW.OcxCore.Session.IsCheckin()) {\r\n        openerW.OcxCore.Utility.ShowTip(\"已签出，操作无效！\", 1);\r\n        return;\r\n      }\r\n      var consultSeat = {\r\n        Called: seatExtNum\r\n      };\r\n      openerW.OcxCore.Utility.ShowLoading(true, \"处理中...\", 5);\r\n      openerW.OcxCommandFun.CTIAgentCommonAction(\"ConsultInline\", consultSeat, function (data) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n\r\n        than.closeThisWindow();\r\n      }, function (ex) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        if (ex.Message != undefined && ex.Message != \"\") openerW.OcxCore.Utility.ShowTip(ex.Message, 1);\r\n      });\r\n    },\r\n    /**\r\n     * 外呼前回调函数(内部使用，不对外开放)\r\n     *\r\n     * @param postData 呼叫信息\r\n     *\r\n     * @return 外呼前验证结果 true验证成功 false验证失败\r\n     * */\r\n    BeforeMakeCallCallback(postData) {\r\n      var than=this;\r\n      if (postData == undefined || postData == null || postData == \"\") {\r\n        openerW.OcxCore.Utility.ShowWarning(\"电话号码验证不通过！\");\r\n        return false;\r\n      }\r\n      var reg4 = /^\\d{5,30}$/;//5到30位的数字\r\n      if (postData.Called == undefined || postData.Called == null || postData.Called == \"\" || !reg4.test(postData.Called)) {\r\n        openerW.OcxCore.Utility.ShowTip(\"请输入不超过30位数字的拨号号码！\", 1);\r\n        return false;\r\n      }\r\n      //咨询外线\r\n      var procResult = openerW.OcxCore.Session.CTIAgentCommonAction(\"ConsultOutline\", postData, function (data) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        than.closeThisWindow();\r\n      }, function (ex) {\r\n        openerW.OcxCore.Utility.ShowLoading(false);\r\n        if (ex.Message != undefined && ex.Message != \"\") openerW.OcxCore.Utility.ShowTip(ex.Message, 1);\r\n      });\r\n      return procResult;\r\n    },\r\n    closeThisWindow(){\r\n      var index=parent.layer.getFrameIndex(window.name); //获取当前窗口的name\r\n      parent.layer.close(index);\r\n    },\r\n\r\n  },\r\n  watch: {\r\n    //咨询坐席-搜索条件\r\n    \"consultationSeatSearchForm.user\": {\r\n      handler: function(val) {\r\n        var dataA=[];\r\n        var dataObj=JSON.parse(JSON.stringify(this.cardItem));\r\n        if(val==\"\"){\r\n          dataA=this.cardItem;\r\n        }else if(val!=\"\"){\r\n          dataObj.forEach(function (v,i,arr){\r\n            if(v.Name.indexOf(val)!=-1||v.JobNum.toString().indexOf(val)!=-1||v.Seat.toString().indexOf(val)!=-1||v.Gender.toString().indexOf(val)!=-1){\r\n              dataA.push(v);\r\n            }\r\n          })\r\n        }\r\n        this.cardItemSearchList=dataA;\r\n        this.setTitle(this.cardItemSearchList);\r\n      },\r\n    },\r\n    //咨询分机-搜索条件\r\n    \"consultingExtensionSearchForm.user\":{\r\n      handler:function(val) {\r\n        var dataA=[];\r\n        var dataObj=JSON.parse(JSON.stringify(this.consultingExtensionCardItem));\r\n        if(val==\"\"){\r\n          dataA=this.consultingExtensionCardItem;\r\n        }else if(val!=\"\"){\r\n          dataObj.forEach(function (v,i,arr){\r\n\r\n            if(v.ExtNumber.toString().indexOf(val)!=-1||v.ExtUserRealName.toString().indexOf(val)!=-1){\r\n\r\n              dataA.push(v);\r\n            }\r\n          })\r\n        }\r\n        this.consultingExtensionCardItemSearch=dataA;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"./toolbarConsultingService.less\";\r\n</style>\r\n"]}]}