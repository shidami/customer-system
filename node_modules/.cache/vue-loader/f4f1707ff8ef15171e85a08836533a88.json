{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\main-components\\tags-page-opened.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\main-components\\tags-page-opened.vue","mtime":1614579763271},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJ0YWdzUGFnZU9wZW5lZCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGN1cnJlbnRQYWdlTmFtZTogdGhpcy4kcm91dGUubmFtZSwNCiAgICAgIHRhZ0JvZHlMZWZ0OiAwLA0KICAgICAgcmVmc1RhZzogW10sDQogICAgICB0YWdzQ291bnQ6IDENCiAgICB9Ow0KICB9LA0KICBwcm9wczogew0KICAgIHBhZ2VUYWdzTGlzdDogQXJyYXksDQogICAgYmVmb3JlUHVzaDogew0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICBkZWZhdWx0OiBpdGVtID0+IHsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHRpdGxlKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5jdXJyZW50VGl0bGU7DQogICAgfSwNCiAgICB0YWdzTGlzdCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAucGFnZU9wZW5lZExpc3Q7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaXRlbVRpdGxlKGl0ZW0pIHsNCiAgICAgIGlmICh0eXBlb2YgaXRlbS50aXRsZSA9PSAib2JqZWN0Iikgew0KICAgICAgICByZXR1cm4gdGhpcy4kdChpdGVtLnRpdGxlLmkxOG4pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGl0ZW0udGl0bGU7DQogICAgICB9DQogICAgfSwNCiAgICBjbG9zZVBhZ2UoZXZlbnQsIG5hbWUpIHsNCiAgICAgIGxldCBwYWdlT3BlbmVkTGlzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5wYWdlT3BlbmVkTGlzdDsNCiAgICAgIGxldCBsYXN0UGFnZU9iaiA9IHBhZ2VPcGVuZWRMaXN0WzBdOw0KICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2VOYW1lID09IG5hbWUpIHsNCiAgICAgICAgbGV0IGxlbiA9IHBhZ2VPcGVuZWRMaXN0Lmxlbmd0aDsNCiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW47IGkrKykgew0KICAgICAgICAgIGlmIChwYWdlT3BlbmVkTGlzdFtpXS5uYW1lID09IG5hbWUpIHsNCiAgICAgICAgICAgIGlmIChpIDwgbGVuIC0gMSkgew0KICAgICAgICAgICAgICBsYXN0UGFnZU9iaiA9IHBhZ2VPcGVuZWRMaXN0W2kgKyAxXTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGxhc3RQYWdlT2JqID0gcGFnZU9wZW5lZExpc3RbaSAtIDFdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBsZXQgdGFnV2lkdGggPSBldmVudC50YXJnZXQucGFyZW50Tm9kZS5vZmZzZXRXaWR0aDsNCiAgICAgICAgdGhpcy50YWdCb2R5TGVmdCA9IE1hdGgubWluKHRoaXMudGFnQm9keUxlZnQgKyB0YWdXaWR0aCwgMCk7DQogICAgICB9DQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInJlbW92ZVRhZyIsIG5hbWUpOw0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjbG9zZVBhZ2UiLCBuYW1lKTsNCiAgICAgIHBhZ2VPcGVuZWRMaXN0ID0gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnBhZ2VPcGVuZWRMaXN0Ow0KICAgICAgbG9jYWxTdG9yYWdlLnBhZ2VPcGVuZWRMaXN0ID0gSlNPTi5zdHJpbmdpZnkocGFnZU9wZW5lZExpc3QpOw0KICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2VOYW1lID09IG5hbWUpIHsNCiAgICAgICAgdGhpcy5saW5rVG8obGFzdFBhZ2VPYmopOw0KICAgICAgfQ0KICAgIH0sDQogICAgbGlua1RvKGl0ZW0pIHsNCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09IGl0ZW0ubmFtZSkgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBsZXQgcm91dGVyT2JqID0ge307DQogICAgICByb3V0ZXJPYmoubmFtZSA9IGl0ZW0ubmFtZTsNCiAgICAgIGlmIChpdGVtLmFyZ3UpIHsNCiAgICAgICAgcm91dGVyT2JqLnBhcmFtcyA9IGl0ZW0uYXJndTsNCiAgICAgIH0NCiAgICAgIGlmIChpdGVtLnF1ZXJ5KSB7DQogICAgICAgIHJvdXRlck9iai5xdWVyeSA9IGl0ZW0ucXVlcnk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5iZWZvcmVQdXNoKGl0ZW0pKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHJvdXRlck9iaik7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVzY3JvbGwoZSkgew0KICAgICAgdmFyIHR5cGUgPSBlLnR5cGU7DQogICAgICBsZXQgZGVsdGEgPSAwOw0KICAgICAgaWYgKHR5cGUgPT0gIkRPTU1vdXNlU2Nyb2xsIiB8fCB0eXBlID09ICJtb3VzZXdoZWVsIikgew0KICAgICAgICBkZWx0YSA9IGUud2hlZWxEZWx0YSA/IGUud2hlZWxEZWx0YSA6IC0oZS5kZXRhaWwgfHwgMCkgKiA0MDsNCiAgICAgIH0NCiAgICAgIGxldCBsZWZ0ID0gMDsNCiAgICAgIGlmIChkZWx0YSA+IDApIHsNCiAgICAgICAgbGVmdCA9IE1hdGgubWluKDAsIHRoaXMudGFnQm9keUxlZnQgKyBkZWx0YSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAoDQogICAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGxDb24ub2Zmc2V0V2lkdGggLSAxMDAgPA0KICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQm9keS5vZmZzZXRXaWR0aA0KICAgICAgICApIHsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICB0aGlzLnRhZ0JvZHlMZWZ0IDwNCiAgICAgICAgICAgIC0oDQogICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQm9keS5vZmZzZXRXaWR0aCAtDQogICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoICsNCiAgICAgICAgICAgICAgMTAwDQogICAgICAgICAgICApDQogICAgICAgICAgKSB7DQogICAgICAgICAgICBsZWZ0ID0gdGhpcy50YWdCb2R5TGVmdDsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KA0KICAgICAgICAgICAgICB0aGlzLnRhZ0JvZHlMZWZ0ICsgZGVsdGEsDQogICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoIC0NCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNjcm9sbEJvZHkub2Zmc2V0V2lkdGggLQ0KICAgICAgICAgICAgICAgIDEwMA0KICAgICAgICAgICAgKTsNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy50YWdCb2R5TGVmdCA9IDA7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMudGFnQm9keUxlZnQgPSBsZWZ0Ow0KICAgIH0sDQogICAgaGFuZGxlVGFnc09wdGlvbih0eXBlKSB7DQogICAgICBpZiAodHlwZSA9PSAiY2xlYXJBbGwiKSB7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2xlYXJBbGxUYWdzIik7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBuYW1lOiAiaG9tZV9pbmRleCINCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNsZWFyT3RoZXJUYWdzIiwgdGhpcyk7DQogICAgICB9DQogICAgICB0aGlzLnRhZ0JvZHlMZWZ0ID0gMDsNCiAgICB9LA0KICAgIG1vdmVUb1ZpZXcodGFnKSB7DQogICAgICBpZiAodGFnLm9mZnNldExlZnQgPCAtdGhpcy50YWdCb2R5TGVmdCkgew0KICAgICAgICAvLyDmoIfnrb7lnKjlj6/op4bljLrln5/lt6bkvqcNCiAgICAgICAgdGhpcy50YWdCb2R5TGVmdCA9IC10YWcub2Zmc2V0TGVmdCArIDEwOw0KICAgICAgfSBlbHNlIGlmICgNCiAgICAgICAgdGFnLm9mZnNldExlZnQgKyAxMCA+IC10aGlzLnRhZ0JvZHlMZWZ0ICYmDQogICAgICAgIHRhZy5vZmZzZXRMZWZ0ICsgdGFnLm9mZnNldFdpZHRoIDwNCiAgICAgICAgICAtdGhpcy50YWdCb2R5TGVmdCArIHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoIC0gMTAwDQogICAgICApIHsNCiAgICAgICAgLy8g5qCH562+5Zyo5Y+v6KeG5Yy65Z+fDQogICAgICAgIHRoaXMudGFnQm9keUxlZnQgPSBNYXRoLm1pbigNCiAgICAgICAgICAwLA0KICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoIC0NCiAgICAgICAgICAgIDEwMCAtDQogICAgICAgICAgICB0YWcub2Zmc2V0V2lkdGggLQ0KICAgICAgICAgICAgdGFnLm9mZnNldExlZnQgLQ0KICAgICAgICAgICAgMjANCiAgICAgICAgKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOagh+etvuWcqOWPr+inhuWMuuWfn+WPs+S+pw0KICAgICAgICB0aGlzLnRhZ0JvZHlMZWZ0ID0gLSgNCiAgICAgICAgICB0YWcub2Zmc2V0TGVmdCAtDQogICAgICAgICAgKHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoIC0gMTAwIC0gdGFnLm9mZnNldFdpZHRoKSArDQogICAgICAgICAgMjANCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5yZWZzVGFnID0gdGhpcy4kcmVmcy50YWdzUGFnZU9wZW5lZDsNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgIHRoaXMucmVmc1RhZy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSBpdGVtLm5hbWUpIHsNCiAgICAgICAgICBsZXQgdGFnID0gdGhpcy5yZWZzVGFnW2luZGV4XS4kZWw7DQogICAgICAgICAgdGhpcy5tb3ZlVG9WaWV3KHRhZyk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sIDEpOyAvLyDov5nph4zkuI3orr7lrprml7blmajlsLHkvJrmnInlgY/np7tidWcNCiAgICB0aGlzLnRhZ3NDb3VudCA9IHRoaXMudGFnc0xpc3QubGVuZ3RoOw0KICB9LA0KICB3YXRjaDogew0KICAgICRyb3V0ZSh0bykgew0KICAgICAgdGhpcy5jdXJyZW50UGFnZU5hbWUgPSB0by5uYW1lOw0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLnJlZnNUYWcuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICBpZiAodG8ubmFtZSA9PSBpdGVtLm5hbWUpIHsNCiAgICAgICAgICAgIGxldCB0YWcgPSB0aGlzLnJlZnNUYWdbaW5kZXhdLiRlbDsNCiAgICAgICAgICAgIHRoaXMubW92ZVRvVmlldyh0YWcpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICAgIHRoaXMudGFnc0NvdW50ID0gdGhpcy50YWdzTGlzdC5sZW5ndGg7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["tags-page-opened.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tags-page-opened.vue","sourceRoot":"src/views/main-components","sourcesContent":["<style lang=\"less\">\r\n@import \"../main.less\";\r\n</style>\r\n\r\n<template>\r\n  <div\r\n    ref=\"scrollCon\"\r\n    @DOMMouseScroll=\"handlescroll\"\r\n    @mousewheel=\"handlescroll\"\r\n    class=\"tags-outer-scroll-con\"\r\n  >\r\n    <div class=\"close-all-tag-con\">\r\n      <Dropdown transfer @on-click=\"handleTagsOption\">\r\n        <Button size=\"small\" type=\"primary\">\r\n          {{ $t('tagOption') }}\r\n          <Icon type=\"md-arrow-dropdown\"></Icon>\r\n        </Button>\r\n        <DropdownMenu slot=\"list\">\r\n          <DropdownItem name=\"clearAll\">{{ $t('closeAll') }}</DropdownItem>\r\n          <DropdownItem name=\"clearOthers\">{{ $t('closeOthers') }}</DropdownItem>\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    </div>\r\n    <div ref=\"scrollBody\" class=\"tags-inner-scroll-body\" :style=\"{left: tagBodyLeft + 'px'}\">\r\n      <transition-group name=\"taglist-moving-animation\">\r\n        <Tag\r\n          type=\"dot\"\r\n          v-for=\"(item, index) in pageTagsList\"\r\n          ref=\"tagsPageOpened\"\r\n          :key=\"item.name\"\r\n          :name=\"item.name\"\r\n          @on-close=\"closePage\"\r\n          @click.native=\"linkTo(item)\"\r\n          :closable=\"item.name=='home_index'?false:true\"\r\n          :color=\"item.children?(item.children[0].name==currentPageName?'primary':'default'):(item.name==currentPageName?'primary':'default')\"\r\n        >{{ itemTitle(item) }}</Tag>\r\n      </transition-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"tagsPageOpened\",\r\n  data() {\r\n    return {\r\n      currentPageName: this.$route.name,\r\n      tagBodyLeft: 0,\r\n      refsTag: [],\r\n      tagsCount: 1\r\n    };\r\n  },\r\n  props: {\r\n    pageTagsList: Array,\r\n    beforePush: {\r\n      type: Function,\r\n      default: item => {\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    title() {\r\n      return this.$store.state.app.currentTitle;\r\n    },\r\n    tagsList() {\r\n      return this.$store.state.app.pageOpenedList;\r\n    }\r\n  },\r\n  methods: {\r\n    itemTitle(item) {\r\n      if (typeof item.title == \"object\") {\r\n        return this.$t(item.title.i18n);\r\n      } else {\r\n        return item.title;\r\n      }\r\n    },\r\n    closePage(event, name) {\r\n      let pageOpenedList = this.$store.state.app.pageOpenedList;\r\n      let lastPageObj = pageOpenedList[0];\r\n      if (this.currentPageName == name) {\r\n        let len = pageOpenedList.length;\r\n        for (let i = 1; i < len; i++) {\r\n          if (pageOpenedList[i].name == name) {\r\n            if (i < len - 1) {\r\n              lastPageObj = pageOpenedList[i + 1];\r\n            } else {\r\n              lastPageObj = pageOpenedList[i - 1];\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        let tagWidth = event.target.parentNode.offsetWidth;\r\n        this.tagBodyLeft = Math.min(this.tagBodyLeft + tagWidth, 0);\r\n      }\r\n      this.$store.commit(\"removeTag\", name);\r\n      this.$store.commit(\"closePage\", name);\r\n      pageOpenedList = this.$store.state.app.pageOpenedList;\r\n      localStorage.pageOpenedList = JSON.stringify(pageOpenedList);\r\n      if (this.currentPageName == name) {\r\n        this.linkTo(lastPageObj);\r\n      }\r\n    },\r\n    linkTo(item) {\r\n      if (this.$route.name == item.name) {\r\n        return;\r\n      }\r\n      let routerObj = {};\r\n      routerObj.name = item.name;\r\n      if (item.argu) {\r\n        routerObj.params = item.argu;\r\n      }\r\n      if (item.query) {\r\n        routerObj.query = item.query;\r\n      }\r\n      if (this.beforePush(item)) {\r\n        this.$router.push(routerObj);\r\n      }\r\n    },\r\n    handlescroll(e) {\r\n      var type = e.type;\r\n      let delta = 0;\r\n      if (type == \"DOMMouseScroll\" || type == \"mousewheel\") {\r\n        delta = e.wheelDelta ? e.wheelDelta : -(e.detail || 0) * 40;\r\n      }\r\n      let left = 0;\r\n      if (delta > 0) {\r\n        left = Math.min(0, this.tagBodyLeft + delta);\r\n      } else {\r\n        if (\r\n          this.$refs.scrollCon.offsetWidth - 100 <\r\n          this.$refs.scrollBody.offsetWidth\r\n        ) {\r\n          if (\r\n            this.tagBodyLeft <\r\n            -(\r\n              this.$refs.scrollBody.offsetWidth -\r\n              this.$refs.scrollCon.offsetWidth +\r\n              100\r\n            )\r\n          ) {\r\n            left = this.tagBodyLeft;\r\n          } else {\r\n            left = Math.max(\r\n              this.tagBodyLeft + delta,\r\n              this.$refs.scrollCon.offsetWidth -\r\n                this.$refs.scrollBody.offsetWidth -\r\n                100\r\n            );\r\n          }\r\n        } else {\r\n          this.tagBodyLeft = 0;\r\n        }\r\n      }\r\n      this.tagBodyLeft = left;\r\n    },\r\n    handleTagsOption(type) {\r\n      if (type == \"clearAll\") {\r\n        this.$store.commit(\"clearAllTags\");\r\n        this.$router.push({\r\n          name: \"home_index\"\r\n        });\r\n      } else {\r\n        this.$store.commit(\"clearOtherTags\", this);\r\n      }\r\n      this.tagBodyLeft = 0;\r\n    },\r\n    moveToView(tag) {\r\n      if (tag.offsetLeft < -this.tagBodyLeft) {\r\n        // 标签在可视区域左侧\r\n        this.tagBodyLeft = -tag.offsetLeft + 10;\r\n      } else if (\r\n        tag.offsetLeft + 10 > -this.tagBodyLeft &&\r\n        tag.offsetLeft + tag.offsetWidth <\r\n          -this.tagBodyLeft + this.$refs.scrollCon.offsetWidth - 100\r\n      ) {\r\n        // 标签在可视区域\r\n        this.tagBodyLeft = Math.min(\r\n          0,\r\n          this.$refs.scrollCon.offsetWidth -\r\n            100 -\r\n            tag.offsetWidth -\r\n            tag.offsetLeft -\r\n            20\r\n        );\r\n      } else {\r\n        // 标签在可视区域右侧\r\n        this.tagBodyLeft = -(\r\n          tag.offsetLeft -\r\n          (this.$refs.scrollCon.offsetWidth - 100 - tag.offsetWidth) +\r\n          20\r\n        );\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.refsTag = this.$refs.tagsPageOpened;\r\n    setTimeout(() => {\r\n      this.refsTag.forEach((item, index) => {\r\n        if (this.$route.name == item.name) {\r\n          let tag = this.refsTag[index].$el;\r\n          this.moveToView(tag);\r\n        }\r\n      });\r\n    }, 1); // 这里不设定时器就会有偏移bug\r\n    this.tagsCount = this.tagsList.length;\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.currentPageName = to.name;\r\n      this.$nextTick(() => {\r\n        this.refsTag.forEach((item, index) => {\r\n          if (to.name == item.name) {\r\n            let tag = this.refsTag[index].$el;\r\n            this.moveToView(tag);\r\n          }\r\n        });\r\n      });\r\n      this.tagsCount = this.tagsList.length;\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}