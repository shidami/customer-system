{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\knowledge\\knowledge.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\knowledge\\knowledge.vue","mtime":1614579763251},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOebuOWFs+aOpeWPowppbXBvcnQgewogIGdldEFsbEJ5U3lzS25vd2xlZGdlQ2F0ZWdvcnksIC8v6I635Y+W55+l6K+G57G75Z6L5L+h5oGv77yM6buY6K6k6L+U5ZueMee6p+iPnOWNleexu+WeiwogIGdldEFsbEJ5U3lzS25vd2xlZGdlUGFnZSwgLy/moLnmja7mnaHku7bojrflj5bnn6Xor4bngrnliIbpobXmlbDmja4KICBkZWxldGVTeXNLbm93bGVkZ2UgLy/liKDpmaTnn6Xor4bnsbvlnosKfSBmcm9tICJAL2FwaS9pbmRleCI7Ci8vIOW8leeUqOe7hOS7tgovLyBpbXBvcnQgc2VhcmNoQm94IGZyb20gIi4uL215LWNvbXBvbmVudHMvc2VhcmNoQm94L3NlYXJjaEJveC52dWUiOwoKaW1wb3J0IGtub3dsZWRnZUl0ZW0gZnJvbSAiLi9jb21wb25lbnRzL2tub3dsZWRnZS1pdGVtIjsKaW1wb3J0IGtub3dsZWRnZVByZXZpZXcgZnJvbSAiLi9jb21wb25lbnRzL2tub3dsZWRnZS1wcmV2aWV3LnZ1ZSI7CmltcG9ydCBrbm93bGVkZ2VFZGl0IGZyb20gIi4vY29tcG9uZW50cy9rbm93bGVkZ2UtZWRpdC52dWUiOwppbXBvcnQgS25vd2xlZGdlQ2F0ZWdvcnlFZGl0IGZyb20gIi4vY29tcG9uZW50cy9Lbm93bGVkZ2VDYXRlZ29yeS1lZGl0LnZ1ZSI7CmltcG9ydCBleGNlbEltcG9ydCBmcm9tICIuL2NvbXBvbmVudHMvZXhjZWxJbXBvcnQudnVlIjsKaW1wb3J0IGV4Y2VsRXhwb3J0IGZyb20gIi4vY29tcG9uZW50cy9leGNlbEV4cG9ydC52dWUiOwovLyBleGNlbOi9rOaNouW3peWFt+exuwppbXBvcnQgZXhjZWwgZnJvbSAiQC9saWJzL2V4Y2VsIjsKLy8g5qih54mI5a+85YWl5paH5Lu26KGo5pWw5o2uCmltcG9ydCB7CiAgdXNlckNvbHVtbnMsCiAgdXNlckRhdGEKfSBmcm9tICJAL2xpYnMvdGFibGVUZW1wbGF0ZS9rbm93bGVkZ2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6ICcnLCAvL+WGheWuueWKoOi9veS4reWbvuaghwogICAgICBsaXN0TG9hZGluZzogJycsIC8v5YiX6KGo5Yqg6L295Lit5Zu+5qCHCiAgICAgIHRyZWVEYXRhOiAnJywgLy/nn6Xor4bnsbvlnovmlbDmja7liJfooaggIAogICAgICBpdGVtRGF0YTogJycsIC8v55+l6K+G54K55pWw5o2u5YiX6KGoCiAgICAgIHNlZWRUeXBlOiBbewogICAgICAgICAgdGl0bGU6ICdBUFAnLAogICAgICAgICAgbmFtZTogJ2FwcCcsCiAgICAgICAgICB0eXBlOiAnJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfnvZHpobXmuKDpgZMnLAogICAgICAgICAgbmFtZTogJ2h0bWwnLAogICAgICAgICAgdHlwZTogJycKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5b6u5Y2aJywKICAgICAgICAgIG5hbWU6ICd3ZWlibycsCiAgICAgICAgICB0eXBlOiAnJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflvq7kv6EnLAogICAgICAgICAgbmFtZTogJ3dlaXhpbicsCiAgICAgICAgICB0eXBlOiAnJwogICAgICAgIH0KICAgICAgXSwKICAgICAgY3Vyck5hbWU6ICIxLTEiLAogICAgICBzZXRVcE1vZGFsVmlzaWJsZTogZmFsc2UsIC8v5Y+R6YCB5pa55byP6K6+572uCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBjYXRlZ29yeUlkOicnLCAgICAgICAgICAvL+efpeivhuexu+Wei0lECiAgICAgICAgc3RhdGU6JzEnLCAgICAgICAgICAgICAgIC8v55+l6K+G54K554q25oCBIDDojYnnqL/vvIwx5q2j5bi4CiAgICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgICBwYWdlU2l6ZToxMCwKICAgICAgICAKICAgICAgICAvLyDmn6Xor6Llj4LmlbAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgb3JkZXI6J2Rlc2MnLCAgICAgICAgICAgLy9hc2Pku47lsI/liLDlpKcsZGVzY+S7juWkp+WIsOWwjwogICAgICAgIHNvcnQ6J3VwZGF0ZVRpbWUnLCAgICAgIC8v57G75Z6L5o6S5bqP77yI5pu05pawL+WIm+W7uuaXtumXtO+8iXVwZGF0ZVRpbWUsY3JlYXRlVGltZQogICAgICAgIHN0YXJ0RGF0ZTonJywgICAgICAgICAgIC8v5byA5aeL5pe26Ze0CiAgICAgICAgZW5kRGF0ZTonJywgICAgICAgICAgICAgLy/nu5PmnZ/ml7bpl7QKICAgICAgICBmbGFnOicwJywgICAgICAgICAgICAgICAvLzDlhajpg6gx5qCH6aKYMuWGheWuuQogICAgICAgIGtleVdvcmQ6JycsICAgICAgICAgICAgIC8v5YWz6ZSu6K+NICAgIAogICAgICAgIC8vIOafpeivouWPguaVsC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgIH0sCiAgICAgIHRpbWVBcnJheTogW10sICAgICAgICAgICAgLy/ml6XmnJ/pgInmi6nlmajov5Tlm57ml7bpl7TmlbDnu4QKICAgICAgdG90YWxFbGVtZW50czonJywgICAgICAgICAvL+aAu+aVsOaNrumHjwogICAgICBzZWxlY3RUaW1lOiB7IC8v55So5LqO5b+r6YCf6YCJ5oup5pe26Ze0CiAgICAgICAgc2hvcnRjdXRzOiBbewogICAgICAgICAgICB0ZXh0OiAn5YmNMeWRqCcsCiAgICAgICAgICAgIHZhbHVlKCkgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICAgIHJldHVybiBbc3RhcnQsIGVuZF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICfliY0x5pyIJywKICAgICAgICAgICAgdmFsdWUoKSB7CiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogMzApOwogICAgICAgICAgICAgIHJldHVybiBbc3RhcnQsIGVuZF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICfliY0z5pyIJywKICAgICAgICAgICAgdmFsdWUoKSB7CiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogOTApOwogICAgICAgICAgICAgIHJldHVybiBbc3RhcnQsIGVuZF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdCgpIHsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgICB0aGlzLmdldFBhcmVudExpc3QoKTsKICAgIH0sCiAgICAvL+iOt+WPluefpeivhueCueaVsOaNrgogICAgZ2V0RGF0YUxpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCfmn6Xor6Lnn6Xor4bngrnmlbDmja4nKQogICAgICBjb25zb2xlLmxvZyh0aGlzLnNlYXJjaEZvcm0pCiAgICAgIGdldEFsbEJ5U3lzS25vd2xlZGdlUGFnZSh0aGlzLnNlYXJjaEZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLml0ZW1EYXRhPXJlcy5yZXN1bHQuY29udGVudAogICAgICAgICAgdGhpcy50b3RhbEVsZW1lbnRzPXJlcy5yZXN1bHQudG90YWxFbGVtZW50cwogICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsCiAgICAgICAgICAgIGNvbnRlbnQ6IHJlcy5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W55+l6K+G57G75Z6L5pWw5o2uCiAgICBnZXRQYXJlbnRMaXN0KCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0QWxsQnlTeXNLbm93bGVkZ2VDYXRlZ29yeSgpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W55+l6K+G57G75Z6L5pWw5o2uJykKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgcmVzLnJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgaWYgKGUuaXNQYXJlbnQpIHsKICAgICAgICAgICAgICBlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBlLmNoaWxkcmVuID0gW107CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgbGV0IGZpcnN0ID0gWwogICAgICAgICAgICB7aWQ6ICIiLHRpdGxlOiAi5YWo6YOo5YiG57G7IixzZWxlY3RlZDp0cnVlfSwKICAgICAgICAgICAge2lkOiAiMSIsdGl0bGU6ICLojYnnqL8iLHNlbGVjdGVkOmZhbHNlLH0KICAgICAgICAgIF0KICAgICAgICAgIHRoaXMudHJlZURhdGEgPSBmaXJzdC5jb25jYXQocmVzLnJlc3VsdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cnVlLAogICAgICAgICAgICBjb250ZW50OiByZXMubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WIoOmZpOefpeivhueCue+8iOWPr+iDveS5i+WQjuimgeaJuemHj+WIoOmZpO+8jOaJgOS7peS4jeWGmeWcqOe7hOS7tuWGhe+8iQogICAgcmVtb3ZlSGFuZGVyKGluZGV4KXsKICAgICAgbGV0IGZvcm1EYXRlID0gdGhpcy5pdGVtRGF0YVtpbmRleF07CiAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oewogICAgICAgIHRpdGxlOiAi56Gu6K6k5Yig6ZmkIiwKICAgICAgICBjb250ZW50OiAi5oKo56Gu6K6k6KaB5Yig6ZmkICIgKyBmb3JtRGF0ZS50aXRsZSArICIgPyIsCiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICBvbk9rOiAoKSA9PiB7CiAgICAgICAgICBsZXQgaWRzID0gZm9ybURhdGUuaWQ7CiAgICAgICAgICAvLyB0aGlzLnNlbGVjdExpc3QuZm9yRWFjaChmdW5jdGlvbihlKSB7CiAgICAgICAgICAvLyAgIGlkcy5wdXNoKGUuaWQpOwogICAgICAgICAgLy8gfSk7CiAgICAgICAgICBkZWxldGVTeXNLbm93bGVkZ2Uoe2lkczogaWRzfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgICAgICAgICAvLyB0aGlzLnNlbGVjdExpc3QgPSBbXTsKICAgICAgICAgICAgICAvLyB0aGlzLnNlbGVjdENvdW50ID0gMDsKICAgICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gZm9ybURhdGUuY2hpbGRyZW47CiAgICAgICAgICAgICAgaWYoY2hpbGRyZW4pewogICAgICAgICAgICAgICAgICBsZXQgYXR0YWNoSWRzID0gW107CiAgICAgICAgICAgICAgICAgIGxldCBmaWxlSWRzID0gW107CiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgYXR0YWNoSWRzLnB1c2goZS5pZCk7CiAgICAgICAgICAgICAgICAgICAgICBmaWxlSWRzLnB1c2goZS5maWxlSWQpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgLy/liKDpmaTmnI3liqHnq6/lhbPogZTpmYTku7Yo55+l6K+G54K56ZmE5Lu26KGoKQogICAgICAgICAgICAgICAgICBkZWxBdHRhY2hCeUlkcyh7IGlkczphdHRhY2hJZHMgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIoOmZpOefpeivhueCueWFs+iBlOaWh+S7tuaIkOWKnycpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgZGVsZXRlRmlsZSh7IGlkczpmaWxlSWRzIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliKDpmaTmnI3liqHnq6/mlofku7bmiJDlip8nKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlcy5tZXNzYWdlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5byC5q2l5Yqg6L295qCR5a2Q57G75pWw5o2uCiAgICBsb2FkRGF0YShpdGVtLCBjYWxsYmFjaykgewogICAgICBjb25zb2xlLmxvZyhpdGVtKQogICAgICBnZXRBbGxCeVN5c0tub3dsZWRnZUNhdGVnb3J5KHtwYXJlbnRJZDogaXRlbS5pZH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHJlcy5yZXN1bHQuZm9yRWFjaChmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGlmIChlLmlzUGFyZW50KSB7CiAgICAgICAgICAgICAgZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgZS5jaGlsZHJlbiA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGNhbGxiYWNrKHJlcy5yZXN1bHQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0VHJlZShpdGVtKXsKICAgICAgY29uc29sZS5sb2coaXRlbSkKICAgICAgbGV0IHBhcmFtcz17CiAgICAgICAgc29ydDp0aGlzLnNlYXJjaEZvcm0uc29ydCwKICAgICAgICBvcmRlcjp0aGlzLnNlYXJjaEZvcm0ub3JkZXIsCiAgICAgICAgc3RhdGU6JzEnLCAgICAgICAgICAgICAgIC8v55+l6K+G54K554q25oCBIDDojYnnqL/vvIwx5q2j5bi4CiAgICAgICAgY2F0ZWdvcnlJZDonJywKICAgICAgfQogICAgICBpZihpdGVtLmxlbmd0aD4wKXsKICAgICAgICB0aGlzLnNlYXJjaEZvcm0uY2F0ZWdvcnlJZD1pdGVtWzBdLmlkCiAgICAgICAgaWYoaXRlbVswXS50aXRsZT09IuiNieeovyIpewogICAgICAgICAgcGFyYW1zLnN0YXRlPScwJwogICAgICAgIH1lbHNlewogICAgICAgICAgcGFyYW1zLmNhdGVnb3J5SWQ9aXRlbVswXS5pZAogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy4kcmVmcy50cmVlLmRhdGFbMF0uc2VsZWN0ZWQ9dHJ1ZQogICAgICB9CiAgICAgIGdldEFsbEJ5U3lzS25vd2xlZGdlUGFnZShwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuaXRlbURhdGE9cmVzLnJlc3VsdC5jb250ZW50CiAgICAgICAgICB0aGlzLnRvdGFsRWxlbWVudHM9cmVzLnJlc3VsdC50b3RhbEVsZW1lbnRzCiAgICAgICAgfWVsc2V7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgYmFja2dyb3VuZDogdHJ1ZSwKICAgICAgICAgICAgY29udGVudDogcmVzLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6YeN572u5pCc57Si6KGo5Y2V5YaF5a65CiAgICBoYW5kbGVSZXNldCgpIHsKICAgICAgdGhpcy4kcmVmcy5zZWFyY2hGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMudGltZUFycmF5PVtdCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5zdGFydERhdGUgPSAnJzsKICAgICAgdGhpcy5zZWFyY2hGb3JtLmVuZERhdGUgPSAnJzsKICAgICAgdGhpcy5zZWFyY2hGb3JtLmtleVdvcmQgPSAnJzsKICAgICAgdGhpcy5zZWFyY2hGb3JtLm9yZGVyID0gJ2Rlc2MnOwogICAgICB0aGlzLnNlYXJjaEZvcm0uc29ydCA9ICd1cGRhdGVUaW1lJzsKICAgICAgdGhpcy5zZWFyY2hGb3JtLmZsYWcgPSAnMCc7CiAgICB9LAogICAgLy8g5omT5byA6aKE6KeI56qX5Y+jCiAgICBwcmV2aWV3TW9yZShkYXRhKSB7CiAgICAgIHRoaXMuJHJlZnMucHJldmlldy5kYXRhID0gZGF0YTsKICAgICAgdGhpcy4kcmVmcy5wcmV2aWV3LnZpc2lhYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDmiZPlvIDnvJbovpHnn6Xor4bnqpflj6MKICAgIGVkaXRIYW5kZXIoaW5kZXgpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0LnZpc2lhYmxlID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coaW5kZXgpCiAgICAgIGlmKHR5cGVvZiBpbmRleCAhPSAnb2JqZWN0Jyl7CiAgICAgICAgdGhpcy4kcmVmcy5lZGl0LmZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuaXRlbURhdGFbaW5kZXhdKSkKICAgICAgICB0aGlzLiRyZWZzLmVkaXQuaXNBZGQgPWZhbHNlCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuJHJlZnMuZWRpdC5pc0FkZCA9dHJ1ZQogICAgICB9CiAgICAgIHRoaXMuJHJlZnMuZWRpdC5pbml0KCkKICAgIH0sCiAgICAvLyDmiZPlvIDnvJbovpHnn6Xor4bnsbvlnovpobXpnaLnqpflj6MKICAgIGNhdGVnb3J5RWRpdEhhbmRlcigpIHsKICAgICAgdGhpcy4kcmVmcy5jYXRlZ29yeUVkaXQudmlzaWFibGUgPSB0cnVlCiAgICAgIHRoaXMuJHJlZnMuY2F0ZWdvcnlFZGl0LmluaXQoKQogICAgfSwKICAgIC8vIOWcqOaXpeacn+mAieaLqeaOp+S7tuS4i+aLieiiq+WFs+mXreaXtuiwg+eUqO+8jOi9rOaNouaXpeacn+agvOW8jwogICAgb3BlbkNoYW5nZUhhbmRlcihvcGVuKSB7CiAgICAgIGlmICghb3BlbikgewogICAgICAgIC8vIOmAmui/h+eCueWHu+WklumDqOWFs+mXreS4i+aLieaXtu+8jOayoeacieiwg+eUqOatpOaWueazle+8jOWOn+WboOacquefpS4uLgogICAgICAgIHRoaXMudGltZUNoYW5nZUhhbmRlcgogICAgICB9CiAgICB9LAogICAgdGltZUNoYW5nZUhhbmRlcihkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5zdGFydERhdGUgPSBkYXRhWzBdCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5lbmREYXRlID0gZGF0YVsxXQogICAgfSwKICAgIHBhZ2VDaGFuZ2VIYW5kZXIocGFnZSkgewogICAgICBjb25zb2xlLmxvZygn6aG156CB5YiH5o2iJykKICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXI9cGFnZQogICAgICB0aGlzLmdldERhdGFMaXN0KCkKICAgIH0sCiAgICAvLyDlj5HpgIHmlrnlvI/orr7nva4KICAgIHNldFVwSGFuZGVyKCkgewoKICAgIH0sCiAgICBoYW5kbGVEcm9wZG93bihuYW1lKSB7CiAgICAgIGlmIChuYW1lID09ICJkb3dubG9hZERhdGEiKSB7IC8v5qih5p2/5LiL6L296YC76L6RCiAgICAgICAgY29uc29sZS5sb2coJ+S4i+i9veaooeadvycpCiAgICAgICAgbGV0IHRpdGxlID0gW107CiAgICAgICAgbGV0IGtleSA9IFtdOwogICAgICAgIHVzZXJDb2x1bW5zLmZvckVhY2goZSA9PiB7CiAgICAgICAgICB0aXRsZS5wdXNoKGUudGl0bGUpOwogICAgICAgICAga2V5LnB1c2goZS5rZXkpOwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgZGF0YTogdXNlckRhdGEsCiAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICBmaWxlbmFtZTogIuWvvOWFpeaVsOaNruaooeeJiCIKICAgICAgICB9OwogICAgICAgIGV4Y2VsLmV4cG9ydF9hcnJheV90b19leGNlbChwYXJhbXMpOwogICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gImV4cG9ydERhdGEiKSB7IC8v5a+85Ye66YC76L6RCiAgICAgICAgdGhpcy4kcmVmcy5leGNlbEV4cG9ydC5leHBvcnREYXRhPXRoaXMuaXRlbURhdGEKICAgICAgICB0aGlzLiRyZWZzLmV4Y2VsRXhwb3J0LmV4cG9ydE1vZGFsVmlzaWJsZSA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAiaW1wb3J0RGF0YSIpIHsgLy/lr7zlhaXpgLvovpEKICAgICAgCiAgICAgICAgdGhpcy4kcmVmcy5leGNlbEltcG9ydC5pbXBvcnRNb2RhbFZpc2libGUgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnMuZXhjZWxJbXBvcnQuaW5pdCgpCiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAic2V0VXAiKSB7IC8v5Y+R6YCB5pa55byP6K6+572uCiAgICAgICAgdGhpcy5zZXRVcE1vZGFsVmlzaWJsZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvL+S6jOe6p+iPnOWNleWxleW8gC/mlLbotbfmlrnms5XvvIzov5Tlm57lsZXlvIDoj5zljZXnmoRuYW1l5pWw57uECiAgICAvLyBTdWJtZW51Q2xpY2soYXJyKXsKICAgIC8vICAgICBpZihhcnIubGVuZ3RoPjApewogICAgLy8gICAgICAgICB0aGlzLmN1cnJOYW1lPWFyci5zbGljZSgtMSlbMF07CiAgICAvLyAgICAgfQogICAgLy8gfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIC8vIHNlYXJjaEJveCwKICAgIGtub3dsZWRnZUl0ZW0sCiAgICBrbm93bGVkZ2VQcmV2aWV3LAogICAga25vd2xlZGdlRWRpdCwKICAgIEtub3dsZWRnZUNhdGVnb3J5RWRpdCwKICAgIGV4Y2VsSW1wb3J0LAogICAgZXhjZWxFeHBvcnQsCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfSwKfTsK"},{"version":3,"sources":["knowledge.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"knowledge.vue","sourceRoot":"src/views/knowledge","sourcesContent":["<template>\r\n  <div>\r\n    <Card>\r\n      <header>\r\n        <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"75\">\r\n          <Row>\r\n            <FormItem label=\"时间排序\">\r\n              <Select v-model=\"searchForm.order\" class=\"width-100\" transfer>\r\n                <Option value=\"desc\">最新在前</Option>\r\n                <Option value=\"asc\">最早在前</Option>\r\n              </Select>\r\n            </FormItem>\r\n            <Form-item label=\"时间段\">\r\n              <Select v-model=\"searchForm.sort\" class=\"width-100\" transfer>\r\n                <Option value=\"createTime\">创建时间</Option>\r\n                <Option value=\"updateTime\">更新时间</Option>\r\n              </Select>\r\n              <DatePicker v-model=\"timeArray\" :options=\"selectTime\" type=\"daterange\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" class=\"ml-10 width-200\" placeholder=\"选择时间\" @on-change=\"timeChangeHander\" @on-open-change=\"openChangeHander\"></DatePicker>\r\n            </Form-item>\r\n            <FormItem label=\"关键词\">\r\n              <Select v-model=\"searchForm.flag\" class=\"width-100\" transfer>\r\n                <Option value=\"0\">全部</Option>\r\n                <Option value=\"1\">标题</Option>\r\n                <Option value=\"2\">内容</Option>\r\n              </Select>\r\n              <Input v-model=\"searchForm.keyWord\" class=\"width-150 ml-10\" placeholder=\"请输入关键字\" />\r\n            </FormItem>\r\n            <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n              <Button @click.native=\"getDataList\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n              <Button @click=\"handleReset\">重置</Button>\r\n              <Button @click=\"categoryEditHander\" type=\"primary\" icon=\"md-add\">知识类型</Button>\r\n              <Button @click=\"editHander\" type=\"primary\" icon=\"md-add\">知识点</Button>\r\n              <Dropdown @on-click=\"handleDropdown\" trigger='hover' transfer>\r\n                <Button>更多操作\r\n                  <Icon type=\"md-arrow-dropdown\" /></Button>\r\n                <DropdownMenu slot=\"list\" class=\"width-120\">\r\n                  <DropdownItem name=\"downloadData\">下载模板</DropdownItem>\r\n                  <DropdownItem name=\"exportData\">导出知识</DropdownItem>\r\n                  <DropdownItem name=\"importData\">导入知识</DropdownItem>\r\n                  <DropdownItem name=\"setUp\">发送方式设置</DropdownItem>\r\n                </DropdownMenu>\r\n              </Dropdown>\r\n            </Form-item>\r\n          </Row>\r\n        </Form>\r\n      </header>\r\n      <Layout>\r\n        <Sider hide-trigger style=\"background: #fff;max-width: 220px;flex: 0 0 220px;\">\r\n          <Spin fix v-if=\"listLoading\"></Spin>\r\n          <Tree class=\"knowledge-tree\" ref=\"tree\" :data=\"treeData\" :load-data=\"loadData\" @on-select-change=\"selectTree\"></Tree>  \r\n          <!-- <Menu active-name=\"1-1\" theme=\"light\" width=\"auto\" :open-names=\"['1']\" @on-select=\"currName=$event\">\r\n            <Submenu name=\"1\">\r\n              <template slot=\"title\">\r\n                <Icon type=\"ios-analytics\" />知识库\r\n              </template>\r\n              <MenuItem name=\"1-1\">全部分类</MenuItem>\r\n              <MenuItem name=\"1-2\">草稿</MenuItem>\r\n              <Submenu name=\"1-3\">\r\n                <template slot=\"title\">售前分类</template>\r\n                <MenuItem name=\"1-3-1\">售前类</MenuItem>\r\n                <MenuItem name=\"1-3-2\">售前子类1</MenuItem>\r\n                <MenuItem name=\"1-3-3\">售前子类2</MenuItem>\r\n              </Submenu>\r\n              <MenuItem name=\"1-4\">售后类</MenuItem>\r\n            </Submenu>\r\n          </Menu> -->\r\n        </Sider>\r\n        <Content :style=\"{padding: '0 24px 24px 24px', minHeight: '280px', background: '#fff'}\">\r\n          <Spin v-if=\"loading\" fix></Spin>\r\n          <knowledge-item v-for=\"(item,index) in itemData\" v-key=\"item.id\" @click.native=\"previewMore(item)\" @editVisiable=\"editHander\" @removeHander=\"removeHander\" :index=\"index\" :id=\"item.id\">\r\n            <template v-slot:title>{{item.title}}</template>\r\n            <template v-slot:time >\r\n              <div v-show=\"searchForm.sort=='createTime'\">创建时间：{{item.createTime}}</div>\r\n              <div v-show=\"searchForm.sort=='updateTime'\">更新时间：{{item.updateTime}}</div>\r\n            </template>\r\n            <!-- <template v-slot:content><div v-html=\"item.content\"></div></template> -->\r\n            <template v-slot:content>{{item.contentText}}</template>\r\n          </knowledge-item>\r\n          <!-- <div v-show=\"currName=='1-1'\">\r\n            <Spin v-if=\"loading\" fix></Spin>\r\n            <knowledge-item v-for=\"index in 2\" @click.native=\"previewMore\" @editVisiable=\"editHander\">\r\n              <template v-slot:title>标题{{index}}</template>\r\n              <template v-slot:time>时间{{index}}</template>\r\n              <template v-slot:content>内容{{index}}</template>\r\n            </knowledge-item>\r\n          </div>\r\n          <div v-show=\"currName=='1-2'\">草稿</div>\r\n          <div v-show=\"currName=='1-3-1'\">售前类</div>\r\n          <div v-show=\"currName=='1-3-2'\">售前子类1</div>\r\n          <div v-show=\"currName=='1-3-3'\">售前子类2</div>\r\n          <div v-show=\"currName=='1-4'\">\r\n            <div v-if=\"true\">无数据</div>\r\n          </div> -->\r\n        </Content>\r\n      </Layout>\r\n      <div class=\"knowledge-page\"><Page :current=\"searchForm.pageNumber\" :total=\"totalElements\" @on-change=\"pageChangeHander\"/></div>\r\n    </Card>\r\n    <Modal v-model=\"setUpModalVisible\" title=\"发送方式设置\" @on-ok=\"setUpHander\" @on-cancel=\"setUpModalVisible=false\">\r\n      <div class=\"flex font-16 mb-10\" v-for=\"(item,index) in seedType\">\r\n        <p>{{item.title}}</p>\r\n        <RadioGroup v-model=\"item.type\">\r\n          <Radio label=\"以图文链接形式发送\"></Radio>\r\n          <Radio label=\"以文本形式发送\"></Radio>\r\n        </RadioGroup>\r\n      </div>\r\n    </Modal>\r\n    <knowledge-preview ref='preview'></knowledge-preview>\r\n    <knowledge-edit ref='edit'></knowledge-edit>\r\n    <Knowledge-category-edit ref=\"categoryEdit\"></Knowledge-category-edit>\r\n    <excel-import ref=\"excelImport\"></excel-import>\r\n    <excel-export ref=\"excelExport\"></excel-export>\r\n    <!-- <searchBox></searchBox> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // 相关接口\r\n  import {\r\n    getAllBySysKnowledgeCategory, //获取知识类型信息，默认返回1级菜单类型\r\n    getAllBySysKnowledgePage, //根据条件获取知识点分页数据\r\n    deleteSysKnowledge //删除知识类型\r\n  } from \"@/api/index\";\r\n  // 引用组件\r\n  // import searchBox from \"../my-components/searchBox/searchBox.vue\";\r\n  \r\n  import knowledgeItem from \"./components/knowledge-item\";\r\n  import knowledgePreview from \"./components/knowledge-preview.vue\";\r\n  import knowledgeEdit from \"./components/knowledge-edit.vue\";\r\n  import KnowledgeCategoryEdit from \"./components/KnowledgeCategory-edit.vue\";\r\n  import excelImport from \"./components/excelImport.vue\";\r\n  import excelExport from \"./components/excelExport.vue\";\r\n  // excel转换工具类\r\n  import excel from \"@/libs/excel\";\r\n  // 模版导入文件表数据\r\n  import {\r\n    userColumns,\r\n    userData\r\n  } from \"@/libs/tableTemplate/knowledge\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        loading: '', //内容加载中图标\r\n        listLoading: '', //列表加载中图标\r\n        treeData: '', //知识类型数据列表  \r\n        itemData: '', //知识点数据列表\r\n        seedType: [{\r\n            title: 'APP',\r\n            name: 'app',\r\n            type: ''\r\n          },\r\n          {\r\n            title: '网页渠道',\r\n            name: 'html',\r\n            type: ''\r\n          },\r\n          {\r\n            title: '微博',\r\n            name: 'weibo',\r\n            type: ''\r\n          },\r\n          {\r\n            title: '微信',\r\n            name: 'weixin',\r\n            type: ''\r\n          }\r\n        ],\r\n        currName: \"1-1\",\r\n        setUpModalVisible: false, //发送方式设置\r\n        searchForm: {\r\n          categoryId:'',          //知识类型ID\r\n          state:'1',               //知识点状态 0草稿，1正常\r\n          pageNumber: 1,\r\n          pageSize:10,\r\n          \r\n          // 查询参数----------------------------------------\r\n          order:'desc',           //asc从小到大,desc从大到小\r\n          sort:'updateTime',      //类型排序（更新/创建时间）updateTime,createTime\r\n          startDate:'',           //开始时间\r\n          endDate:'',             //结束时间\r\n          flag:'0',               //0全部1标题2内容\r\n          keyWord:'',             //关键词    \r\n          // 查询参数-----------------------------------------\r\n        },\r\n        timeArray: [],            //日期选择器返回时间数组\r\n        totalElements:'',         //总数据量\r\n        selectTime: { //用于快速选择时间\r\n          shortcuts: [{\r\n              text: '前1周',\r\n              value() {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                return [start, end];\r\n              }\r\n            },\r\n            {\r\n              text: '前1月',\r\n              value() {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                return [start, end];\r\n              }\r\n            },\r\n            {\r\n              text: '前3月',\r\n              value() {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                return [start, end];\r\n              }\r\n            }\r\n          ]\r\n        },\r\n      };\r\n    },\r\n    methods: {\r\n      init() {\r\n        this.getDataList();\r\n        this.getParentList();\r\n      },\r\n      //获取知识点数据\r\n      getDataList() {\r\n        this.loading = true;\r\n        console.log('查询知识点数据')\r\n        console.log(this.searchForm)\r\n        getAllBySysKnowledgePage(this.searchForm).then(res => {\r\n          console.log(res)\r\n          this.loading = false;\r\n          if (res.success) {\r\n            this.itemData=res.result.content\r\n            this.totalElements=res.result.totalElements\r\n          }else{\r\n            this.$Message.error({\r\n              background: true,\r\n              content: res.message\r\n            });\r\n          }\r\n        });\r\n      },\r\n      //获取知识类型数据\r\n      getParentList() {\r\n        this.listLoading = true;\r\n        getAllBySysKnowledgeCategory().then(res => {\r\n          console.log('获取知识类型数据')\r\n          console.log(res)\r\n          this.listLoading = false;\r\n          if (res.success) {\r\n            res.result.forEach(function(e) {\r\n              if (e.isParent) {\r\n                e.loading = false;\r\n                e.children = [];\r\n              }\r\n            });\r\n            let first = [\r\n              {id: \"\",title: \"全部分类\",selected:true},\r\n              {id: \"1\",title: \"草稿\",selected:false,}\r\n            ]\r\n            this.treeData = first.concat(res.result);\r\n          } else {\r\n            this.$Message.error({\r\n              background: true,\r\n              content: res.message\r\n            });\r\n          }\r\n        });\r\n      },\r\n      //删除知识点（可能之后要批量删除，所以不写在组件内）\r\n      removeHander(index){\r\n        let formDate = this.itemData[index];\r\n        this.$Modal.confirm({\r\n          title: \"确认删除\",\r\n          content: \"您确认要删除 \" + formDate.title + \" ?\",\r\n          loading: true,\r\n          onOk: () => {\r\n            let ids = formDate.id;\r\n            // this.selectList.forEach(function(e) {\r\n            //   ids.push(e.id);\r\n            // });\r\n            deleteSysKnowledge({ids: ids}).then(res => {\r\n              this.$Modal.remove();\r\n              if (res.success) {\r\n                this.$Message.success(\"删除成功\");\r\n                // this.selectList = [];\r\n                // this.selectCount = 0;\r\n                this.getDataList();\r\n                let children = formDate.children;\r\n                if(children){\r\n                    let attachIds = [];\r\n                    let fileIds = [];\r\n                    children.forEach(function(e) {\r\n                        attachIds.push(e.id);\r\n                        fileIds.push(e.fileId);\r\n                    });\r\n                    //删除服务端关联附件(知识点附件表)\r\n                    delAttachByIds({ ids:attachIds }).then(res => {\r\n                      if (res.success) {\r\n                        console.log('删除知识点关联文件成功')\r\n                      }\r\n                    });\r\n                    deleteFile({ ids:fileIds }).then(res => {\r\n                      if (res.success) {\r\n                        console.log('删除服务端文件成功')\r\n                      }\r\n                    });\r\n                }\r\n              } else {\r\n                this.$Message.error({\r\n                  background: true,\r\n                  content: res.message\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      },\r\n      // 异步加载树子类数据\r\n      loadData(item, callback) {\r\n        console.log(item)\r\n        getAllBySysKnowledgeCategory({parentId: item.id}).then(res => {\r\n          if (res.success) {\r\n            res.result.forEach(function(e) {\r\n              if (e.isParent) {\r\n                e.loading = false;\r\n                e.children = [];\r\n              }\r\n            });\r\n            callback(res.result);\r\n          }\r\n        });\r\n      },\r\n      selectTree(item){\r\n        console.log(item)\r\n        let params={\r\n          sort:this.searchForm.sort,\r\n          order:this.searchForm.order,\r\n          state:'1',               //知识点状态 0草稿，1正常\r\n          categoryId:'',\r\n        }\r\n        if(item.length>0){\r\n          this.searchForm.categoryId=item[0].id\r\n          if(item[0].title==\"草稿\"){\r\n            params.state='0'\r\n          }else{\r\n            params.categoryId=item[0].id\r\n          }\r\n        }else{\r\n          this.$refs.tree.data[0].selected=true\r\n        }\r\n        getAllBySysKnowledgePage(params).then(res => {\r\n          this.loading = false;\r\n          if (res.success) {\r\n            this.itemData=res.result.content\r\n            this.totalElements=res.result.totalElements\r\n          }else{\r\n            this.$Message.error({\r\n              background: true,\r\n              content: res.message\r\n            });\r\n          }\r\n        });\r\n      },\r\n      // 重置搜索表单内容\r\n      handleReset() {\r\n        this.$refs.searchForm.resetFields();\r\n        this.timeArray=[]\r\n        this.searchForm.startDate = '';\r\n        this.searchForm.endDate = '';\r\n        this.searchForm.keyWord = '';\r\n        this.searchForm.order = 'desc';\r\n        this.searchForm.sort = 'updateTime';\r\n        this.searchForm.flag = '0';\r\n      },\r\n      // 打开预览窗口\r\n      previewMore(data) {\r\n        this.$refs.preview.data = data;\r\n        this.$refs.preview.visiable = true;\r\n      },\r\n      // 打开编辑知识窗口\r\n      editHander(index) {\r\n        this.$refs.edit.visiable = true;\r\n        console.log(index)\r\n        if(typeof index != 'object'){\r\n          this.$refs.edit.form = JSON.parse(JSON.stringify(this.itemData[index]))\r\n          this.$refs.edit.isAdd =false\r\n        }else{\r\n          this.$refs.edit.isAdd =true\r\n        }\r\n        this.$refs.edit.init()\r\n      },\r\n      // 打开编辑知识类型页面窗口\r\n      categoryEditHander() {\r\n        this.$refs.categoryEdit.visiable = true\r\n        this.$refs.categoryEdit.init()\r\n      },\r\n      // 在日期选择控件下拉被关闭时调用，转换日期格式\r\n      openChangeHander(open) {\r\n        if (!open) {\r\n          // 通过点击外部关闭下拉时，没有调用此方法，原因未知...\r\n          this.timeChangeHander\r\n        }\r\n      },\r\n      timeChangeHander(data) {\r\n        console.log(data)\r\n        this.searchForm.startDate = data[0]\r\n        this.searchForm.endDate = data[1]\r\n      },\r\n      pageChangeHander(page) {\r\n        console.log('页码切换')\r\n        this.searchForm.pageNumber=page\r\n        this.getDataList()\r\n      },\r\n      // 发送方式设置\r\n      setUpHander() {\r\n\r\n      },\r\n      handleDropdown(name) {\r\n        if (name == \"downloadData\") { //模板下载逻辑\r\n          console.log('下载模板')\r\n          let title = [];\r\n          let key = [];\r\n          userColumns.forEach(e => {\r\n            title.push(e.title);\r\n            key.push(e.key);\r\n          });\r\n          const params = {\r\n            title: title,\r\n            key: key,\r\n            data: userData,\r\n            autoWidth: true,\r\n            filename: \"导入数据模版\"\r\n          };\r\n          excel.export_array_to_excel(params);\r\n        } else if (name == \"exportData\") { //导出逻辑\r\n          this.$refs.excelExport.exportData=this.itemData\r\n          this.$refs.excelExport.exportModalVisible = true;\r\n        } else if (name == \"importData\") { //导入逻辑\r\n        \r\n          this.$refs.excelImport.importModalVisible = true;\r\n          this.$refs.excelImport.init()\r\n        } else if (name == \"setUp\") { //发送方式设置\r\n          this.setUpModalVisible = true;\r\n        }\r\n      },\r\n      //二级菜单展开/收起方法，返回展开菜单的name数组\r\n      // SubmenuClick(arr){\r\n      //     if(arr.length>0){\r\n      //         this.currName=arr.slice(-1)[0];\r\n      //     }\r\n      // },\r\n    },\r\n    components: {\r\n      // searchBox,\r\n      knowledgeItem,\r\n      knowledgePreview,\r\n      knowledgeEdit,\r\n      KnowledgeCategoryEdit,\r\n      excelImport,\r\n      excelExport,\r\n    },\r\n    mounted() {\r\n      this.init();\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.knowledge-tree .ivu-tree-arrow{position: absolute;height: 46px;display: flex;align-items: center;}\r\n.knowledge-tree .ivu-tree-arrow .ivu-icon{align-items: center;}\r\n.knowledge-tree .ivu-tree-title{padding: 14px 24px;width: 100%;font-size: 14px !important;}\r\n.knowledge-tree .ivu-tree-title:hover{color: #2d8cf0;}\r\n.knowledge-tree .ivu-tree-title-selected{color: #2d8cf0;background: #f0faff;border-right: 4px solid #2d8cf0;}\r\n.knowledge-tree ul li{margin: 0;position: relative;}\r\n.knowledge-tree ul::after {content: '';display: block;width: 1px;height: 100%;background: #dcdee2;position: absolute;top: 0;bottom: 0;right: 0;z-index: 1;}\r\n.knowledge-page{text-align: center;}\r\n// .knowledge-tree .ivu-tree-title-selected::after{content: '';display: block;width: 4px;position: absolute;top: 0;bottom: 0;right: 0;background: #2d8cf0;}\r\n</style>\r\n"]}]}