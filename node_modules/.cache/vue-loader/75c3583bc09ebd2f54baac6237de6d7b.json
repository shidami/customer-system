{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\work-order\\report-mobile.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\work-order\\report-mobile.vue","mtime":1614579763421},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLm1vYmlsZXtwYWRkaW5nOjJyZW07Zm9udC1zaXplOiAzcmVtO30NCi5tb2JpbGUgLml2dS1mb3JtIC5pdnUtZm9ybS1pdGVtLWxhYmVsIHtmb250LXNpemU6IDNyZW0gIWltcG9ydGFudDt9DQoubW9iaWxlIC5pdnUtZm9ybS1pdGVtLXJlcXVpcmVkIC5pdnUtZm9ybS1pdGVtLWxhYmVsOmJlZm9yZXtmb250LXNpemU6M3JlbX0NCi5tb2JpbGUgLml2dS1pbnB1dHtoZWlnaHQ6IDVyZW07Ym9yZGVyOiBub25lO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGNkZWUyO291dGxpbmU6IG5vbmU7Ym94LXNoYWRvdzogbm9uZTt9DQoubW9iaWxlIC5pdnUtZm9ybS1pdGVtLWVycm9yIC5pdnUtaW5wdXR7Ym9yZGVyOiBub25lO2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWQ0MDE0IDtib3gtc2hhZG93OiBub25lO30NCi5tb2JpbGUgLml2dS1mb3JtIGlucHV0W3BsYWNlaG9sZGVyXSwubW9iaWxlIC5pdnUtZm9ybSBpbnB1dHtmb250LXNpemU6IDNyZW0gIWltcG9ydGFudDt9DQoubW9iaWxlIC5pdnUtZm9ybS1pdGVtLWVycm9yLXRpcHtmb250LXNpemU6IDJyZW07fQ0KLm1vYmlsZSAuaXZ1LWZvcm0taXRlbSB7bWFyZ2luLWJvdHRvbTogNXJlbTt9DQoubW9iaWxlIC5pdnUtaW5wdXQtc2VhcmNoe3dpZHRoOiAxNnJlbTtmb250LXNpemU6IDIuNXJlbTt9DQoubW9iaWxlIC5pdnUtY2hlY2tib3gtd3JhcHBlcntmb250LXNpemU6IDNyZW07bGluZS1oZWlnaHQ6IDVyZW07aGVpZ2h0OiA1cmVtO30NCi5tb2JpbGUgLml2dS1jaGVja2JveHtmb250LXNpemU6IDNyZW0gIWltcG9ydGFudDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX0NCi5tb2JpbGUgLml2dS1jaGVja2JveC1pbm5lciwubW9iaWxlIC5pdnUtcmFkaW8taW5uZXJ7d2lkdGg6IDJyZW07aGVpZ2h0OiAycmVtO30NCi5tb2JpbGUgLml2dS1jaGVja2JveC1pbm5lcjphZnRlcnt3aWR0aDouN3JlbTtoZWlnaHQ6MS40cmVtfQ0KLm1vYmlsZSAuaXZ1LXJhZGlve21hcmdpbi10b3A6IDFyZW07fQ0KLm1vYmlsZSAuaXZ1LXJhZGlvLXdyYXBwZXJ7Zm9udC1zaXplOiAzcmVtO2xpbmUtaGVpZ2h0OiAzLjVyZW07aGVpZ2h0OiA1cmVtO30NCi5tb2JpbGUgLml2dS1yYWRpby1pbm5lcjphZnRlcnt3aWR0aDogMS41cmVtO2hlaWdodDogMS41cmVtO2JvcmRlci1yYWRpdXM6MTAwJX0NCi5tb2JpbGUgdGV4dGFyZWEuaXZ1LWlucHV0e2ZvbnQtc2l6ZTozcmVtO2JvcmRlcjogMXB4ICNkY2RlZTIgc29saWQ7fQ0KLm1vYmlsZSAuaXZ1LWlucHV0LXdvcmQtY291bnR7Zm9udC1zaXplOiAycmVtICFpbXBvcnRhbnQ7fQ0KLm1vYmlsZSAuaXZ1LWZvcm0gYnV0dG9ue2ZvbnQtc2l6ZTogMnJlbSAhaW1wb3J0YW50O2hlaWdodDogYXV0bzt9DQoubW9iaWxlIC5pdnUtdXBsb2FkIC5pdnUtYnRue3BhZGRpbmc6IDFyZW0gMnJlbX0NCi5tb2JpbGUgLml2dS11cGxvYWQgc3Bhbntmb250LXNpemU6IDJyZW0gIWltcG9ydGFudDt9DQoubW9iaWxlIC5ib3R0b20gLml2dS1idG57cGFkZGluZzogMXJlbSAwO3dpZHRoOiAyMHJlbTtoZWlnaHQ6IGF1dG87fQ0KLm1vYmlsZSAuYm90dG9tIHNwYW57Zm9udC1zaXplOiAzcmVtICFpbXBvcnRhbnQ7fQ0KLml2dS1tb2RhbC1ib2R5e3BhZGRpbmc6IDNyZW0gMXJlbSAxcmVtO30NCi5pdnUtbW9kYWwtY29uZmlybS1oZWFke3RleHQtYWxpZ246IGNlbnRlcjt9DQouaXZ1LW1vZGFsLWNvbmZpcm0taGVhZC10aXRsZXtmb250LXNpemU6IDIuNXJlbSAhaW1wb3J0YW50O30NCi5pdnUtbW9kYWwtY29uZmlybS1mb290ZXJ7bWFyZ2luLXRvcDogNXJlbTtkaXNwbGF5OiBmbGV4O30NCi5pdnUtbW9kYWwgYnV0dG9ue2ZsZXg6MX0NCi5pdnUtbW9kYWwgYnV0dG9uIHNwYW57Zm9udC1zaXplOiAycmVtICFpbXBvcnRhbnQ7fQ0KLml2dS1tb2RhbCAuaXZ1LWJ0bntoZWlnaHQ6IGF1dG87cGFkZGluZzogMXJlbSAycmVtO30NCg=="},{"version":3,"sources":["report-mobile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"report-mobile.vue","sourceRoot":"src/views/work-order","sourcesContent":["<template>\r\n<div style=\"min-height: 100%;\" class=\"mobile bg-fff\">\r\n  <div class=\"pt-20 pb-20\">\r\n    <Form ref=\"form\" :model=\"formData\" :rules=\"ruleValidate\" label-position=\"top\">\r\n      <FormItem label=\"合同签署人手机号\" prop=\"contractSignerMobile\">\r\n        <Input v-model=\"formData.contractSignerMobile\" search enter-button=\"查询\" @on-search=\"handleSearch\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"合同签署人\" prop=\"contractSigner\">\r\n        <Input v-model=\"formData.contractSigner\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"合同号\" prop=\"contractNo\">\r\n        <Input v-model=\"formData.contractNo\"></Input>\r\n      </FormItem> \r\n      <FormItem label=\"报修人姓名\" prop=\"customerName\">\r\n        <Input v-model=\"formData.customerName\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"联系号码\" prop=\"mobile\">\r\n        <Input v-model=\"formData.mobile\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"购买城市\" prop=\"orderCity\">\r\n        <Input v-model=\"formData.orderCity\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"安装地址\" prop=\"address\">\r\n        <Input v-model=\"formData.address\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"报修产品品牌\" prop=\"productBrand\">\r\n        <RadioGroup v-model=\"formData.productBrand\">\r\n          <Radio v-for=\"item in brandList\" style=\"margin: 1rem 2rem 1rem 0\" :label=\"item.value\" border>{{item.title}}</Radio>\r\n        </RadioGroup>\r\n      </FormItem>\r\n      <FormItem label=\"报修产品品类(可多选)\" prop=\"productCategory\">\r\n        <CheckboxGroup v-model=\"formData.productCategory\">\r\n          <Checkbox v-for=\"item in productCategoryList\" style=\"margin: 1rem 2rem 1rem 0\" :label=\"item.value\" border>{{item.title}}</Checkbox>\r\n        </CheckboxGroup>\r\n      </FormItem>\r\n      <FormItem label=\"问题描述\" prop=\"content\">\r\n        <Input type=\"textarea\" v-model=\"formData.content\" maxlength=1000 :autosize=\"{minRows:3,maxRows:10}\" show-word-limit></Input>\r\n      </FormItem>\r\n      <div class=\"flex\">\r\n        <p>附件上传</p>\r\n        <Upload action=\"/xrcc/upload/file\" :headers=\"accessToken\" :on-success=\"handleSuccess\" :on-error=\"handleError\"\r\n          :max-size=\"5120\" :on-exceeded-size=\"handleMaxSize\" :before-upload=\"beforeUpload\" multiple ref=\"up\" style=\"margin-left: 5rem;flex: 1;\">\r\n          <Button icon=\"ios-cloud-upload-outline\" >上传文件</Button>\r\n        </Upload>\r\n      </div>\r\n    </Form>\r\n    <div class=\"ali-cen bottom\" style=\"margin-top: 5rem;\">\r\n      <Button type=\"primary\" :loading=\"submitLoading\" @click=\"handleSubmit('form')\">提交</Button>\r\n      <Button style=\"margin-left: 3rem;\" @click=\"clickReset('form')\">重置</Button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n</template>\r\n<script>\r\n  import {\r\n    getDictDataByType,        //根据类型查询字典数据\r\n    addCustomerOpBusiness,    //添加线下受理跟进客户端\r\n  } from \"@/api/index\";\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        submitLoading:false,\r\n        formData: {\r\n          contractNo: '',                   //合同号\r\n          contractSignerMobile:'',          //合同手机号\r\n          contractSigner: '',               //合同人\r\n          channel:'自助留言',                //渠道，客户自助报修固定为留言\r\n          customerName: '',                 //客户姓名\r\n          mobile: '',                       //手机号\r\n          orderCity: '',                    //购买城市\r\n          address: '',                      //详细地址\r\n          content: '',                      //反馈内容\r\n          productBrand:'',                  //产品品牌\r\n          productCategory: [],              //品牌品类\r\n        },\r\n        brandList: [],\r\n        productCategoryList:[],\r\n        ruleValidate: {\r\n          contractNo: [{required: true,message: '合同号不能为空',trigger: 'blur'}],\r\n          contractSignerMobile: [{required: true,message: '合同签署手机号不能为空',trigger: 'blur'}],\r\n          contractSigner: [{required: true,message: '合同签署人不能为空',trigger: 'blur'}],\r\n          customerName: [{required: true,message: '报修人姓名不能为空',trigger: 'blur'}],\r\n          mobile: [{required: true,message: '联系号码不能为空',trigger: 'blur'}],\r\n          orderCity: [{required: true,message: '购买城市不能为空',trigger: 'blur'}],\r\n          address: [{required: true,message: '安装地址不能为空',trigger: 'blur'}],\r\n          productBrand: [{required: true, message: '请至少选择一项', trigger: 'change' }],\r\n          productCategory: [{required:true,type:'array',min: 1, message: '请至少选择一项',trigger: 'change'}],\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      init() {\r\n        this.initData();\r\n      },\r\n      handleSubmit(name) {\r\n        this.$refs[name].validate((valid) => {\r\n          if (valid) {\r\n            this.formData.productCategory=this.formData.productCategory.toString()\r\n            this.submitLoading=true\r\n            console.log(this.formData)\r\n            // ------------------客户端新增到线下受理表--------------------\r\n            addCustomerOpBusiness(this.formData).then(res => {\r\n              this.submitLoading=false\r\n              if (res.success) {\r\n                this.$Message.success({\r\n                  background: true,\r\n                  content: '提交成功！'\r\n                });\r\n                this.handleReset(name)\r\n              }else{\r\n                this.$Message.error({\r\n                  background: true,\r\n                  content: res.message\r\n                });\r\n              }\r\n            });\r\n            // -----------------新增工单---------------------------------\r\n          }\r\n        })\r\n      },\r\n      handleSearch(){\r\n        this.$Message.info({background:true,content:'查询功能正在开发中...'})\r\n      },\r\n      clickReset(name){\r\n        this.$Modal.confirm({\r\n          title:'确定要重置表单吗',\r\n          width:50,\r\n          onOk:()=>{\r\n            this.handleReset(name)\r\n          },\r\n          \r\n        })\r\n      },\r\n      handleReset(name) {\r\n        this.$refs[name].resetFields();\r\n      },\r\n      initData(){\r\n        //获取品牌数据\r\n        getDictDataByType('op_product_brand').then(res => {\r\n          if (res.success) {\r\n            this.brandList=res.result\r\n          }else{\r\n            this.$Message.error({\r\n              background: true,\r\n              content: res.message\r\n            });\r\n          }\r\n        });\r\n        //获取产品数据\r\n        getDictDataByType('op_product_category').then(res => {\r\n          if (res.success) {\r\n            this.productCategoryList=res.result\r\n          }else{\r\n            this.$Message.error({\r\n              background: true,\r\n              content: res.message\r\n            });\r\n          }\r\n        });\r\n      },\r\n    },\r\n    mounted() {\r\n      this.init()\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n.mobile{padding:2rem;font-size: 3rem;}\r\n.mobile .ivu-form .ivu-form-item-label {font-size: 3rem !important;}\r\n.mobile .ivu-form-item-required .ivu-form-item-label:before{font-size:3rem}\r\n.mobile .ivu-input{height: 5rem;border: none;border-bottom: 1px solid #dcdee2;outline: none;box-shadow: none;}\r\n.mobile .ivu-form-item-error .ivu-input{border: none;border-bottom: 1px solid #ed4014 ;box-shadow: none;}\r\n.mobile .ivu-form input[placeholder],.mobile .ivu-form input{font-size: 3rem !important;}\r\n.mobile .ivu-form-item-error-tip{font-size: 2rem;}\r\n.mobile .ivu-form-item {margin-bottom: 5rem;}\r\n.mobile .ivu-input-search{width: 16rem;font-size: 2.5rem;}\r\n.mobile .ivu-checkbox-wrapper{font-size: 3rem;line-height: 5rem;height: 5rem;}\r\n.mobile .ivu-checkbox{font-size: 3rem !important;vertical-align:baseline}\r\n.mobile .ivu-checkbox-inner,.mobile .ivu-radio-inner{width: 2rem;height: 2rem;}\r\n.mobile .ivu-checkbox-inner:after{width:.7rem;height:1.4rem}\r\n.mobile .ivu-radio{margin-top: 1rem;}\r\n.mobile .ivu-radio-wrapper{font-size: 3rem;line-height: 3.5rem;height: 5rem;}\r\n.mobile .ivu-radio-inner:after{width: 1.5rem;height: 1.5rem;border-radius:100%}\r\n.mobile textarea.ivu-input{font-size:3rem;border: 1px #dcdee2 solid;}\r\n.mobile .ivu-input-word-count{font-size: 2rem !important;}\r\n.mobile .ivu-form button{font-size: 2rem !important;height: auto;}\r\n.mobile .ivu-upload .ivu-btn{padding: 1rem 2rem}\r\n.mobile .ivu-upload span{font-size: 2rem !important;}\r\n.mobile .bottom .ivu-btn{padding: 1rem 0;width: 20rem;height: auto;}\r\n.mobile .bottom span{font-size: 3rem !important;}\r\n.ivu-modal-body{padding: 3rem 1rem 1rem;}\r\n.ivu-modal-confirm-head{text-align: center;}\r\n.ivu-modal-confirm-head-title{font-size: 2.5rem !important;}\r\n.ivu-modal-confirm-footer{margin-top: 5rem;display: flex;}\r\n.ivu-modal button{flex:1}\r\n.ivu-modal button span{font-size: 2rem !important;}\r\n.ivu-modal .ivu-btn{height: auto;padding: 1rem 2rem;}\r\n</style>"]}]}