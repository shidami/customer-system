{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\sys\\out-call\\callTaskManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\sys\\out-call\\callTaskManage.vue","mtime":1614579763381},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIGdldEJsYWNrTGlzdEdyb3VwcywNCiAgICBnZXRCbGFja0xpc3QsDQogICAgZWRpdEJsYWNrTGlzdEdyb3VwcywNCiAgICBkZWxCbGFja0xpc3RHcm91cHMsDQogICAgZWRpdEJsYWNrTGlzdCwNCiAgICBkZWxCbGFja0xpc3QsDQogICAgZ2V0Q2FsbFRhc2tBbGxMaXN0cywgICAvL+iOt+WPluS7u+WKoeiusOW9leaVsOaNrg0KICAgIGdldFJlc3VsdEFsbExpc3RzLCAgICAgLy/moLnmja7nsbvlnovojrflj5bokKXplIDnu5PmnpzmlbDmja4NCiAgICBpbnNlcnRNYXJrZXRpbmdSZXN1bHQsIC8v5paw5aKe5YWs5YWx6JCl6ZSA57uT5p6c5pWw5o2uDQogICAgZ2V0V29ya3RpbWVHcm91cHMsICAgIC8v6I635Y+W5pe26Ze057uEDQogICAgZ2V0UmVsYXlHcm91cExpc3QsICAgIC8v6I635Y+W5Lit57un57uEDQogICAgZ2V0UmVsYXlQaG9uZUxpc3QsICAgICAvL+iOt+WPluS4ree7p+WPt+eggQ0KICAgIHN1Ym1pdENhbGxUYXNrLA0KICAgIGdldENhbGxUYXNrQmF0Y2hBbGxMaXN0cywgIC8v6I635Y+W5Lu75Yqh5om55qyh5pWw5o2uDQogICAgdmFsaWRhdGVUYXNrTmFtZUJ5SWQsDQogICAgZGVsZXRlQ2FsbFRhc2tCeUlkLA0KICAgIGdldENhbGxUYXNrQmF0Y2hBbGxQYWdlTGlzdHMsDQogICAgZmlsZURldGFpbFVwbG9hZCwNCiAgICBzdWJtaXRTdGF0ZUNhbGxUYXNrQmF0Y2gsDQogICAgc3VibWl0RGlzcGxheUNhbGxUYXNrLA0KICAgIHN1Ym1pdENhbGxUYXNrQmF0Y2gsDQogICAgc3VibWl0UmVjeWNsZQ0KfSBmcm9tICJAL2FwaS9pbmRleCI7DQppbXBvcnQgdXNlckNob29zZSBmcm9tICJAL3ZpZXdzL3N5cy9vdXQtY2FsbC91c2VyLWNob29zZSI7DQppbXBvcnQgdXNlclJlY3ljbGUgZnJvbSAiQC92aWV3cy9zeXMvb3V0LWNhbGwvdXNlci1yZWN5Y2xlIjsNCmltcG9ydCB1c2VyQXNzaWduIGZyb20gIkAvdmlld3Mvc3lzL291dC1jYWxsL3VzZXItYXNzaWduIjsNCmltcG9ydCB7IGRldGFpbEltcG9ydENvbHVtbnMsIGRldGFpbERhdGEgfSBmcm9tICJAL2xpYnMvaW1wb3J0Q2FsbFRhc2tEZXRhaWwiOw0KaW1wb3J0IGV4Y2VsIGZyb20gIkAvbGlicy9leGNlbCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICB1c2VyQ2hvb3NlLA0KICAgIHVzZXJBc3NpZ24sDQogICAgdXNlclJlY3ljbGUNCiAgfSwNCiAgbmFtZTogImJsYWNrbGlzdE1hbmFnZSIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgYWN0aXZlTmFtZTogIuWfuuacrOS/oeaBryIsDQogICAgICBiYXRjaE1vYmlsZVZpc2libGVUaXRsZToiIiwgICAgDQogICAgICBiYXRjaE1vYmlsZVZpc2libGU6ZmFsc2UsDQogICAgICBhcmVhOiA4NiwNCiAgICAgIG9wZW5TZWFyY2g6ZmFsc2UsDQogICAgICBtb2RhbFR5cGU6IDAsDQogICAgICBtb2RhbFRpdGxlOiIiLA0KICAgICAgY2FsbFRhc2tMaXN0OltdLCAgIC8v5Lu75Yqh6K6w5b2V57uT5p6c6ZuGDQogICAgICBiYXRjaENvdW50OjAsDQogICAgICBlZGl0VGFza1N0YXRlOmZhbHNlLA0KICAgICAgc3ViRWRpdDp0cnVlLA0KICAgICAgdGFza01vZGFsVmlzaWJsZTogZmFsc2UsDQogICAgICBiYXRjaE1vZGFsVmlzaWJsZTpmYWxzZSwNCiAgICAgIGJhdGNoVHlwZURpc3BsYXk6ZmFsc2UsDQogICAgICBzZWF0VXNlckRpc3BsYXk6dHJ1ZSwNCiAgICAgIGl2ckRpc3BsYXk6ZmFsc2UsDQogICAgICBiYXRjaE1vZGFsVGl0bGU6IiIsDQogICAgICBibGFja0xpc3RJdGVtczpbXSwNCiAgICAgIFdvcmtUaW1lTGlzdEl0ZW1zOltdLA0KICAgICAgcmVsYXlHcm91cExpc3RJdGVtczpbXSwNCiAgICAgIHJlbGF5UGhvbmVMaXN0SXRlbXM6W10sDQogICAgICBzZWxlY3RVc2VyczogW10sDQogICAgICBzZWxlY3RQaG9uZTp0cnVlLA0KICAgICAgdmFsaWRhdGVOYW1lOmZhbHNlLA0KICAgICAgaW1wb3J0TGlzdDp7fSwNCiAgICAgIGltcG9ydExvYWRpbmc6IGZhbHNlLCAvLyDlr7zlhaXliqDovb3nirbmgIENCiAgICAgIHRhc2tJZDoiIiwNCiAgICAgIHRhc2tGb3JtOiB7DQogICAgICAgIHRhc2tOYW1lOiAiIiwNCiAgICAgICAgbWF4Q2hhbm5lbDogIiIsDQogICAgICAgIHN0YXJ0VGltZTogIiIsDQogICAgICAgIGVuZFRpbWU6ICIiDQogICAgICB9LA0KICAgICAgYmF0Y2hGb3JtOnsNCiAgICAgICAgICBiYXRjaFR5cGU6IjEiDQogICAgICB9LA0KICAgICAgdGFza0Zvcm1WYWxpZGF0ZTogew0KICAgICAgICB0YXNrTmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLku7vliqHlkI3np7DkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICAgIC8vIG1heENoYW5uZWw6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5pyA5aSn6YCa6YGT5pWw5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICAvLyBzdGFydFRpbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5byA5aeL5pe26Ze05LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSIgfV0sDQogICAgICAgIC8vIGVuZFRpbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi57uT5p2f5pe26Ze05LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSIgfV0NCiAgICAgIH0sDQogICAgICByZXN1bHRUaXRsZToiIiwNCiAgICAgIHJlc3VsdE1vZGFsVmlzaWJsZTpmYWxzZSwNCiAgICAgIHJlc3VsdEZvcm06e30sDQogICAgICBxdWVyeVJlc3VsdExpc3RJdGVtczpbXSwNCiAgICAgIHJlc3VsdFZhbGlkYXRlOnsNCiAgICAgICAgIGZ1bGxOYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWQjeensOS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9XQ0KICAgICAgfSwNCiAgICAgIHJlc3VsdFBhcmFtczp7fSwNCiAgICAgIHVwbG9hZGZpbGU6IHsNCiAgICAgICAgbmFtZTogIiIsDQogICAgICB9LA0KDQogICAgICByZWN5Y2xlTW9kYWxUaXRsZToi5Lu75Yqh5pWw5o2u5Zue5pS2IiwNCiAgICAgIHJlY3ljbGVNb2RhbFZpc2libGU6ZmFsc2UsDQogICAgICByZWN5Y2xlRm9ybTp7DQogICAgICAgICAgIHN0YXJ0RGF0ZToiIiwNCiAgICAgICAgICAgZW5kRGF0ZToiIiwgIA0KICAgICAgICAgICBiYXRjaElkOiIiLCANCiAgICAgICAgICAgY2FsbFN0YXR1czoiIiwgDQogICAgICAgICAgIGNhbGxSZXN1bHQ6IiIsIA0KICAgICAgICAgICBtYXJrZXRpbmdSZXN1bHQ6IiINCiAgICAgIH0sDQogICAgICBtYXJrZXRpbmdSZXN1bHRMaXN0OiBbXSwNCiAgICAgIGJhdGNoTGlzdDpbXSwNCg0KICAgICAgYXNzaWduTW9kYWxUaXRsZToiIiwNCiAgICAgIGFzc2lnbk1vZGFsVmlzaWJsZTpmYWxzZSwNCiAgICAgIGFzc2lnbkZvcm06ew0KICAgICAgICAgIGNob29zZVR5cGU6IjEiLA0KICAgICAgICAgIGFzc2lnblR5cGU6IjEiDQogICAgICB9LA0KDQogICAgICBjb2x1bW5zRGV0YWlsOlsNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAiaW5kZXgiLA0KICAgICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIH0sDQogICAgICAgICAgeyAgdGl0bGU6ICLmibnmrKHlkI3np7AiLCBrZXk6ICJiYXRjaE5hbWUiLCBtaW5XaWR0aDogMTIwfSwNCiAgICAgICAgICB7ICB0aXRsZTogIuWIm+W7uuaXtumXtCIsIGtleTogImNyZWF0ZVRpbWUiLCBtaW5XaWR0aDogMTIwfSwNCiAgICAgICAgICB7ICB0aXRsZTogIuWRvOWPq+e7k+aenCIsIGtleTogImNhbGxSZXN1bHQiLCBtaW5XaWR0aDogMTIwfSwNCiAgICAgICAgICB7ICB0aXRsZTogIuWPt+eggSIsIGtleTogIm1vYmxpZU51bWJlciIsIG1pbldpZHRoOiAxMjB9DQogICAgICBdLCAgIA0KICAgICAgZGF0YURldGFpbDpbXSwNCiAgICAgIHNlYXJjaERldGFpbEZvcm06ew0KICAgICAgICAgICBwYWdlTnVtYmVyOiAxLCAvLyDlvZPliY3pobXmlbANCiAgICAgICAgICAgcGFnZVNpemU6IDEwLCAvLyDpobXpnaLlpKflsI8NCiAgICAgICAgICAgc29ydDogImNyZWF0ZV90aW1lIiwgLy8g6buY6K6k5o6S5bqP5a2X5q61DQogICAgICAgICAgIG9yZGVyOiAiZGVzYyIgLy8g6buY6K6k5o6S5bqP5pa55byPDQogICAgICB9LCAgDQogICAgICB0b3RhbERldGFpbDowLA0KDQoNCiAgICAgIHN1Ym1pdEJhdGNoTG9hZGluZzpmYWxzZSwNCiAgICAgIG1vZGFsQmF0Y2hUaXRsZToiIiwNCiAgICAgIG1vZGFsQmF0Y2hWaXNpYmxlOmZhbHNlLA0KICAgICAgY29sdW1uc0JhdGNoOlsNCiAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogImluZGV4IiwNCiAgICAgICAgICAgIHdpZHRoOiA2MCwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgeyAgdGl0bGU6ICLmibnmrKHlkI3np7AiLCBrZXk6ICJiYXRjaE5hbWUiLCBtaW5XaWR0aDogMTIwfSwNCiAgICAgICAgeyAgdGl0bGU6ICLliJvlu7rml7bpl7QiLCBrZXk6ICJjcmVhdGVUaW1lIiwgbWluV2lkdGg6IDEyMH0sDQogICAgICAgIHsgIHRpdGxlOiAi5om55qyh57G75Z6LIiwga2V5OiAiYmF0Y2hUeXBlIiwgbWluV2lkdGg6IDEyMH0NCiAgICAgIF0sDQogICAgICBkYXRhQmF0Y2g6W10sDQogICAgICB0b3RhbEJhdGNoOjAsDQogICAgICBzZWFyY2hCYXRjaEZvcm06IHsNCiAgICAgICAgICAgIHBhZ2VOdW1iZXI6IDEsIC8vIOW9k+WJjemhteaVsA0KICAgICAgICAgICAgcGFnZVNpemU6IDEwLCAvLyDpobXpnaLlpKflsI8NCiAgICAgICAgICAgIHNvcnQ6ICJjcmVhdGVfdGltZSIsIC8vIOm7mOiupOaOkuW6j+Wtl+autQ0KICAgICAgICAgICAgb3JkZXI6ICJkZXNjIiAvLyDpu5jorqTmjpLluo/mlrnlvI8NCiAgICAgIH0sDQoNCg0KICAgICAgc3VibWl0VGFza0xvYWRpbmc6ZmFsc2UsDQogICAgICBtb2RhbFRhc2tUaXRsZToiIiwNCiAgICAgIG1vZGFsVGFza1Zpc2libGU6ZmFsc2UsDQogICAgICBjb2x1bW5zVGFzazpbDQogICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJpbmRleCIsDQogICAgICAgICAgICB3aWR0aDogNjAsDQogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsgIHRpdGxlOiAi5Lu75Yqh5ZCN56ewIiwga2V5OiAidGFza05hbWUiLCBtaW5XaWR0aDogMTIwfSwNCiAgICAgICAgeyAgdGl0bGU6ICLliJvlu7rml7bpl7QiLCBrZXk6ICJjcmVhdGVUaW1lIiwgbWluV2lkdGg6IDEyMH0sDQogICAgICAgIHsgIHRpdGxlOiAi5Lu75Yqh57G75Z6LIiwga2V5OiAidGFza1R5cGUiLCBtaW5XaWR0aDogMTIwfSwNCiAgICAgICAgeyAgdGl0bGU6ICLlpIfms6giLCBrZXk6ICJyZW1hcmsiLCBtaW5XaWR0aDogMTIwfSwNCiAgICAgICAgeyAgdGl0bGU6ICLmlbDmja7mgLvph48iLCBrZXk6ICJ0b3RhbE51bSIsIG1pbldpZHRoOiAxMjB9LA0KICAgICAgICB7ICB0aXRsZTogIuacquWIhumFjeaVsOmHjyIsIGtleTogInVuQXNzaWduIiwgbWluV2lkdGg6IDEyMH0sDQogICAgICAgIHsgIHRpdGxlOiAi5pyq5ouo5omT5pWw6YePIiwga2V5OiAidW5DYWxsIiwgbWluV2lkdGg6IDEyMH0NCiAgICAgIF0sDQogICAgICBkYXRhVGFzazpbXSwNCiAgICAgIHRvdGFsVGFzazowLA0KICAgICAgc2VhcmNoVGFza0Zvcm06IHsNCiAgICAgICAgICAgIHBhZ2VOdW1iZXI6IDEsIC8vIOW9k+WJjemhteaVsA0KICAgICAgICAgICAgcGFnZVNpemU6IDEwLCAvLyDpobXpnaLlpKflsI8NCiAgICAgICAgICAgIHNvcnQ6ICJjcmVhdGVfdGltZSIsIC8vIOm7mOiupOaOkuW6j+Wtl+autQ0KICAgICAgICAgICAgb3JkZXI6ICJkZXNjIiAvLyDpu5jorqTmjpLluo/mlrnlvI8NCiAgICAgIH0sDQoNCg0KDQogICAgICBvd25TcGFjZUxlZnRJdGVtOiAxLA0KICAgICAgc2VsZWN0Q291bnQ6MCwNCiAgICAgIGJhdGNoRGF0YUxpc3Q6W10sDQogICAgICBjb2x1bW5zOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdHlwZTogInNlbGVjdGlvbiIsDQogICAgICAgICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLmibnmrKHlkI3np7AiLCANCiAgICAgICAgICAgICAgICBrZXk6ICJiYXRjaE5hbWUiLA0KICAgICAgICAgICAgICAgIG1pbndpZHRoOiAxMjANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLlpJblkbzpgJ/njociLCANCiAgICAgICAgICAgICAgICBrZXk6ICJvdXRDYWxsUmF0ZSIsDQogICAgICAgICAgICAgICAgbWlud2lkdGg6IDEyMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aXRsZTogIua3u+WKoOaXtumXtCIsIA0KICAgICAgICAgICAgICAgIGtleTogImNyZWF0ZVRpbWUiLA0KICAgICAgICAgICAgICAgIG1pbndpZHRoOiAxMjANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLmmL7npLrnirbmgIEiLCANCiAgICAgICAgICAgICAgICBrZXk6ICJiYXRjaFN0YXRlIiwNCiAgICAgICAgICAgICAgICBtaW53aWR0aDogMTIwLA0KICAgICAgICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5yb3cuYmF0Y2hTdGF0ZSA9PSAiMCIpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGgoInNwYW4iLCBbDQogICAgICAgICAgICAgICAgICAgICAgaCgic3BhbiIsICLmmoLlgZwiKQ0KICAgICAgICAgICAgICAgICAgICBdKTsNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnJvdy5iYXRjaFN0YXRlID09ICIxIikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgic3BhbiIsIFsNCiAgICAgICAgICAgICAgICAgICAgICBoKCJzcGFuIiwgIuWQr+WKqCIpDQogICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRpdGxlOiAi5ZG85Y+r57G75Z6LIiwgDQogICAgICAgICAgICAgICAga2V5OiAiYmF0Y2hUeXBlIiwNCiAgICAgICAgICAgICAgICBtaW53aWR0aDogMTIwLA0KICAgICAgICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5yb3cuYmF0Y2hUeXBlID09ICIxIikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgic3BhbiIsIFsNCiAgICAgICAgICAgICAgICAgICAgICBoKCJzcGFuIiwgIumihOiniOW8j+WkluWRvCIpDQogICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMucm93LmJhdGNoVHlwZSA9PSAiMiIpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGgoInNwYW4iLCBbDQogICAgICAgICAgICAgICAgICAgICAgaCgic3BhbiIsICLpooTmtYvlpJblkbwiKQ0KICAgICAgICAgICAgICAgICAgICBdKTsNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnJvdy5iYXRjaFR5cGUgPT0gIjMiKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCJzcGFuIiwgWw0KICAgICAgICAgICAgICAgICAgICAgIGgoInNwYW4iLCAi6Ieq5Yqo5aSW5ZG8IikNCiAgICAgICAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5yb3cuYmF0Y2hUeXBlID09ICI1Iikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgic3BhbiIsIFsNCiAgICAgICAgICAgICAgICAgICAgICBoKCJzcGFuIiwgIuaZuuiDveWkluWRvCIpDQogICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLlpIfms6giLCANCiAgICAgICAgICAgICAgICBrZXk6ICJyZW1hcmsiLA0KICAgICAgICAgICAgICAgIG1pbndpZHRoOiAxMjAsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCJvcGVyYXRpb24iKSwgLy/mk43kvZwNCiAgICAgICAgICAgICAgICBrZXk6ICJhY3RpdmUiLA0KICAgICAgICAgICAgICAgIHdpZHRoOiAxNzAsDQogICAgICAgICAgICAgICAgZml4ZWQ6ICJyaWdodCIsDQogICAgICAgICAgICAgICAgdG9vbHRpcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgICAgIGxldCBzdGF0ZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgbGV0IGRpc3BsYXkgPSAiIjsNCiAgICAgICAgICAgICAgICAgIGlmKHBhcmFtcy5yb3cuYmF0Y2hTdGF0ZSA9PSAiMSIpew0KICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gaCgnVG9vbHRpcCcse3Byb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ3RvcCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyOiB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0sW2goDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkljb24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJpb3MtcGF1c2UiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblJpZ2h0OiAiNXB4Iixmb250U2l6ZTonMThweCcsY3Vyc29yOiAncG9pbnRlcicgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0U3RhdGUoMCwgcGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdCgicGxheSIpDQogICAgICAgICAgICAgICAgICAgICAgICApLGgoJ3NwYW4nLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvdDogJ2NvbnRlbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ+aaguWBnCcpXSkNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBoKCdUb29sdGlwJyx7cHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiAndG9wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXI6IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSxbaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiSWNvbiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImlvcy1wbGF5IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5SaWdodDogIjVweCIsZm9udFNpemU6JzE4cHgnLGN1cnNvcjogJ3BvaW50ZXInIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFN0YXRlKDEsIHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHQoInBsYXkiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKSxoKCdzcGFuJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q6ICdjb250ZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0sICflkK/liqgnKV0pDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZihwYXJhbXMucm93LmJhdGNoRGlzcGxheSA9PSAiMSIpew0KICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBoKCdUb29sdGlwJyx7cHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiAndG9wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXI6IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSxbaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiSWNvbiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImlvcy1wYXVzZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgbWFyZ2luUmlnaHQ6ICI1cHgiLGZvbnRTaXplOicxOHB4JyxjdXJzb3I6ICdwb2ludGVyJyB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXREaXNwbGF5KDAscGFyYW1zLnJvdy5pZCwnJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdCgicGxheSIpDQogICAgICAgICAgICAgICAgICAgICAgICApLGgoJ3NwYW4nLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvdDogJ2NvbnRlbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ+makOiXjycpXSkNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9IGgoJ1Rvb2x0aXAnLHtwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICd0b3AnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlcjogdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19LFtoKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJY29uIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiaW9zLXBsYXkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogIiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IG1hcmdpblJpZ2h0OiAiNXB4Iixmb250U2l6ZTonMThweCcsY3Vyc29yOiAncG9pbnRlcicgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0RGlzcGxheSgxLHBhcmFtcy5yb3cuaWQsJycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHQoInBsYXkiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKSxoKCdzcGFuJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q6ICdjb250ZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0sICfmmL7npLonKV0pDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgWw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/nvJbovpENCiAgICAgICAgICAgICAgICAgICAgICAgIGgoJ1Rvb2x0aXAnLHtwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICd0b3AnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlcjogdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19LFtoKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJJY29uIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiaW9zLWNyZWF0ZS1vdXRsaW5lIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5SaWdodDogIjVweCIsZm9udFNpemU6JzE4cHgnLGN1cnNvcjogJ3BvaW50ZXInIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93QmF0Y2hFZGl0KHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHQoInBsYXkiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKSxoKCdzcGFuJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q6ICdjb250ZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0sICfnvJbovpEnKV0pLA0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Yig6ZmkDQogICAgICAgICAgICAgICAgICAgICAgICBoKCdUb29sdGlwJyx7cHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiAndG9wJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXI6IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSxbaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiSWNvbiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImlvcy10cmFzaC1vdXRsaW5lIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBtYXJnaW5SaWdodDogIjVweCIsZm9udFNpemU6JzE4cHgnLGN1cnNvcjogJ3BvaW50ZXInIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93RGVsKHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHQoInBsYXkiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKSxoKCdzcGFuJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q6ICdjb250ZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0sICfliKDpmaQnKV0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5DQogICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICBzZWFyY2hGb3JtOiB7DQogICAgICAgICAgICBwYWdlTnVtYmVyOiAxLCAvLyDlvZPliY3pobXmlbANCiAgICAgICAgICAgIHBhZ2VTaXplOiAxMCwgLy8g6aG16Z2i5aSn5bCPDQogICAgICAgICAgICBzb3J0OiAiY3RiLmNyZWF0ZV90aW1lIiwgLy8g6buY6K6k5o6S5bqP5a2X5q61DQogICAgICAgICAgICBvcmRlcjogImRlc2MiIC8vIOm7mOiupOaOkuW6j+aWueW8jw0KICAgICAgICB9LA0KICAgICAgICB0b3RhbDogMCwNCg0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCkgew0KICAgICAgdGhpcy5nZXRDYWxsVGFza0xpc3QoKTsNCiAgICB9LA0KICAgIC8v6I635Y+W5Lu75Yqh6K6w5b2V5YiX6KGo5pWw5o2uDQogICAgZ2V0Q2FsbFRhc2tMaXN0KCl7DQogICAgICAgIGdldENhbGxUYXNrQWxsTGlzdHMoe30pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICB0aGlzLmNhbGxUYXNrTGlzdCA9IHJlcy5yZXN1bHQubGlzdDsNCiAgICAgICAgICAgICAgIGlmKHRoaXMuY2FsbFRhc2tMaXN0Lmxlbmd0aCA+IDApew0KICAgICAgICAgICAgICAgICAgdGhpcy5jbGlja0l0ZW0odGhpcy5jYWxsVGFza0xpc3RbMF0pOw0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgY2xpY2tJdGVtKGl0ZW0pew0KICAgICAgICB0aGlzLmltcG9ydExpc3QgPSBpdGVtOw0KICAgICAgICB0aGlzLnRhc2tJZD1pdGVtLmlkOw0KICAgICAgICB0aGlzLmdldGJhdGNoTGlzdChpdGVtLmlkKTsNCiAgICAgICAvLyB0aGlzLmhhbmRsZVJlc2V0KCk7DQogICAgfSwNCiAgICAvL+iOt+WPluaJueasoeWIl+ihqA0KICAgIGdldGJhdGNoTGlzdChpZCkgew0KICAgICAgICB2YXIgc2VyYXJjaEZvcm09e307DQogICAgICAgIGZvcih2YXIgaSBpbiB0aGlzLnNlYXJjaEZvcm0pew0KICAgICAgICAgICAgaWYodGhpcy5zZWFyY2hGb3JtW2ldIT0iIil7DQogICAgICAgICAgICAgICAgc2VyYXJjaEZvcm1baV09dGhpcy5zZWFyY2hGb3JtW2ldOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKGlkPT11bmRlZmluZWQpew0KICAgICAgICAgICAgc2VyYXJjaEZvcm0udGFza0lkPXRoaXMudGFza0lkOw0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICBzZXJhcmNoRm9ybS50YXNrSWQ9aWQ7DQogICAgICAgIH0NCiAgICAgICAgZ2V0Q2FsbFRhc2tCYXRjaEFsbFBhZ2VMaXN0cyhzZXJhcmNoRm9ybSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoRGF0YUxpc3Q9cmVzLnJlc3VsdC5saXN0Ow0KICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMucmVzdWx0LnRvdGFsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHNob3dTZWxlY3QoZSkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0Q291bnQgPSBlLmxlbmd0aDsNCiAgICAgICAgICB0aGlzLnNlbGVjdExpc3QgPSBlOw0KICAgIH0sDQogICAgY2hhbmdlUGFnZSh2KSB7DQogICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSB2Ow0KICAgICAgICAgIC8vdGhpcy5nZXRCbGFja0xpc3QodGhpcy5ncm91cElkKTsNCiAgICB9LA0KICAgIGNoYW5nZVBhZ2VTaXplKHYpIHsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZVNpemUgPSB2Ow0KICAgICAgICAgIC8vdGhpcy5nZXRCbGFja0xpc3QodGhpcy5ncm91cElkKTsNCiAgICB9LA0KICAgIC8v5pCc57SiDQogICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gMTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZVNpemUgPSAxMDsNCiAgICAgICAgICB0aGlzLmdldGJhdGNoTGlzdCh0aGlzLnRhc2tJZCk7DQogICAgfSwNCiAgICAvL+mHjee9rg0KICAgIGhhbmRsZVJlc2V0KCkgew0KICAgICAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gMTsNCiAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZVNpemUgPSAxMDsNCiAgICB9LA0KICAgIC8v5paw5aKeDQogICAgYWRkQmFjdGhEZXRhaWxMaXN0KCl7DQogICAgICAgICAgdGhpcy5iYXRjaE1vZGFsVmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgdGhpcy5iYXRjaE1vZGFsVGl0bGUgPSAi5pWw5o2u566h55CGIjsNCiAgICAgICAgICB0aGlzLnVwbG9hZGZpbGUgPSB7IG5hbWU6ICIiIH07DQogICAgfSwNCiAgICAvL+WvvOWFpQ0KICAgIGltcG9ydEJsYWNrTGlzdCgpew0KICAgICAgICB0aGlzLmltcG9ydEJsYWNrTGlzdE1vYmlsZVZpc2libGU9dHJ1ZTsNCiAgICB9LA0KICAgIC8v57yW6L6RDQogICAgcm93RWRpdChWKSB7DQogICAgICAgICAgZm9yICh2YXIgaSBpbiBWKSB7DQogICAgICAgICAgICAgIGlmIChpID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgIFZbaV0gPSAiIjsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBWID0gSlNPTi5zdHJpbmdpZnkoVik7DQogICAgICAgICAgViA9IEpTT04ucGFyc2UoVik7DQoNCiAgICAgICAgICBpZihWLmRlbEZsYWc9PTApew0KICAgICAgICAgICAgICBWLmRlbEZsYWc9IuacieaViCI7DQogICAgICAgICAgfQ0KICAgICAgICAgIFYudHlwZT1WLnR5cGUudG9TdHJpbmcoKTsNCiAgICAgICAgICB0aGlzLmJsYWNrTGlzdEZvcm09VjsNCiAgICAgICAgICB0aGlzLmJsYWNrTGlzdE1vYmlsZVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy/liKDpmaQNCiAgICByb3dEZWwodikgew0KICAgICAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oew0KICAgICAgICAgICAgICB0aXRsZTogIuehruiupOWIoOmZpCIsIA0KICAgICAgICAgICAgICBjb250ZW50OiAi5Yig6Zmk5om55qyh5b2T5YmN5om55qyh5riF5Y2V5pWw5o2u5LiA5bm25Lmf5Lya5Yig6ZmkLOaCqOehruiupOimgeWIoOmZpCAiICt2LmJhdGNoTmFtZSArIiA/IiwgDQogICAgICAgICAgICAgIG9uT2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgIGRlbGV0ZUNhbGxUYXNrQnlJZCh7DQogICAgICAgICAgICAgICAgICAgICAgYmF0Y2hJZDogdi5pZA0KICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3ModGhpcy4kdCgic3VjY2VzcyIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRiYXRjaExpc3QodGhpcy50YXNrSWQpOw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgIH0pOw0KICAgIH0sDQogICAgY2xlYXJTZWxlY3RBbGwoKSB7DQogICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5zZWxlY3RBbGwoZmFsc2UpOw0KICAgIH0sDQogICAgY2FuY2VsUmVzdWx0KCl7DQogICAgICAgdGhpcy5xdWVyeVJlc3VsdExpc3RJdGVtcyA9IFtdOw0KICAgICAgIHRoaXMucmVzdWx0TW9kYWxWaXNpYmxlID0gZmFsc2U7DQogICAgfSwNCiAgICByZW1vdmVSZXN1bHQoaW5kZXgpIHsNCiAgICAgIHRoaXMucXVlcnlSZXN1bHRMaXN0SXRlbXMuc3BsaWNlKGluZGV4LCAxKTsNCiAgICB9LA0KICAgIGluc2VydFJlc3VsdCgpIHsNCiAgICAgIHRoaXMucXVlcnlSZXN1bHRMaXN0SXRlbXMucHVzaCh7c3VjY2Vzc0ZsYWc6MCxpZDoiIixmdWxsTmFtZToiIixyZW1hcms6IiJ9KTsNCiAgICB9LA0KICAgIGdldFJlc3VsdEFsbChpc1B1YmxpYyx0YXNrSWQsdHlwZSkgew0KICAgICAgdGhpcy5yZXN1bHRQYXJhbXNbImlzUHVibGljIl0gPSBpc1B1YmxpYzsNCiAgICAgIHRoaXMucmVzdWx0UGFyYW1zWyJ0YXNrSWQiXSA9IHRhc2tJZDsNCiAgICAgIGdldFJlc3VsdEFsbExpc3RzKHtpc1B1YmxpYzppc1B1YmxpYyx0YXNrSWQ6dGFza0lkfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIGlmKDE9PXR5cGUpew0KICAgICAgICAgICAgdGhpcy5yZXN1bHRNb2RhbFZpc2libGUgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5yZXN1bHRUaXRsZSA9ICLphY3nva7okKXplIDnu5PmnpwiOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLnF1ZXJ5UmVzdWx0TGlzdEl0ZW1zID0gcmVzLnJlc3VsdC5saXN0Ow0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHN1Ym1pdFJlc3VsdCgpIHsNCiAgICAgIGlmKHRoaXMucXVlcnlSZXN1bHRMaXN0SXRlbXMhPW51bGwgJiYgdGhpcy5xdWVyeVJlc3VsdExpc3RJdGVtcyE9Jycpew0KICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5xdWVyeVJlc3VsdExpc3RJdGVtczsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAocmVzdWx0W2ldLmZ1bGxOYW1lID09ICIiIHx8IHJlc3VsdFtpXS5mdWxsTmFtZSA9PSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuWQjeensOS4jeiDveS4uuepuiIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZihyZXN1bHRbaV0uc3VjY2Vzc0ZsYWcgPT0gdHJ1ZSl7DQogICAgICAgICAgICAgIHJlc3VsdFtpXS5zdWNjZXNzRmxhZyA9IDE7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHRoaXMucmVzdWx0UGFyYW1zWyJsaXN0Il0gPSBKU09OLnN0cmluZ2lmeShyZXN1bHQpOw0KICAgICAgICBpbnNlcnRNYXJrZXRpbmdSZXN1bHQodGhpcy5yZXN1bHRQYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICB0aGlzLnF1ZXJ5UmVzdWx0TGlzdEl0ZW1zID0gW107DQogICAgICAgICAgICB0aGlzLnJlc3VsdFBhcmFtcyA9IFtdOw0KICAgICAgICAgICAgdGhpcy5yZXN1bHRNb2RhbFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfWVsc2V7DQogICAgICAgICB0aGlzLnF1ZXJ5UmVzdWx0TGlzdEl0ZW1zID0gW107DQogICAgICAgICB0aGlzLnJlc3VsdFBhcmFtcyA9IFtdOw0KICAgICAgICAgdGhpcy5yZXN1bHRNb2RhbFZpc2libGUgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEJsYWNrQWxsKCkgeyAgLy/ojrflj5bpu5HlkI3ljZXnu4QNCiAgICAgIGdldEJsYWNrTGlzdEdyb3Vwcyh7fSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuYmxhY2tMaXN0SXRlbXMgPSByZXMucmVzdWx0Ow0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGdldFdvcmt0aW1ldEFsbCgpIHsgIC8v6I635Y+W5pe26Ze057uEDQogICAgICBnZXRXb3JrdGltZUdyb3Vwcyh7fSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuV29ya1RpbWVMaXN0SXRlbXMgPSByZXMucmVzdWx0Ow0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGdldFJlbGF5R3JvdXBBbGwoKSB7IC8v6I635Y+W5Lit57un57uEDQogICAgICBnZXRSZWxheUdyb3VwTGlzdCh7fSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMucmVsYXlHcm91cExpc3RJdGVtcyA9IHJlcy5yZXN1bHQubGlzdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRSZWxheVBob25lQWxsKCkgeyAvL+iOt+WPluS4ree7p+WPt+eggQ0KICAgICAgdmFyIHJlbGF5R3JvdXBJZCA9ICIiOw0KICAgICAgaWYodGhpcy50YXNrRm9ybS5yZWxheUdyb3VwSWQpew0KICAgICAgICAgIHJlbGF5R3JvdXBJZCA9IHRoaXMudGFza0Zvcm0ucmVsYXlHcm91cElkOw0KICAgICAgfQ0KICAgICAgZ2V0UmVsYXlQaG9uZUxpc3Qoe2JsYWNrTWFyazoxLHdvcmtNb2RlOjEscmVsYXlHcm91cElkOnJlbGF5R3JvdXBJZH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLnJlbGF5UGhvbmVMaXN0SXRlbXMgPSBbXTsNCiAgICAgICAgICB0aGlzLnJlbGF5UGhvbmVMaXN0SXRlbXMgPSByZXMucmVzdWx0Lmxpc3Q7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0UmVsYXlQaG9uZUFsbERpc2FibGVkKCkgeyAvL+iOt+WPluS4ree7p+WPt+eggQ0KICAgICAgaWYodGhpcy50YXNrRm9ybS5yZWxheVBob25lTW9kZSA9PSAyKXsNCiAgICAgICAgdGhpcy5zZWxlY3RQaG9uZSA9IGZhbHNlOw0KICAgICAgfWVsc2V7DQogICAgICAgIHRoaXMuc2VsZWN0UGhvbmUgPSB0cnVlOw0KICAgICAgfQ0KICAgICAgZ2V0UmVsYXlQaG9uZUxpc3Qoe2JsYWNrTWFyazoxLHdvcmtNb2RlOjEscmVsYXlHcm91cElkOiIifSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMudGFza0Zvcm0ucmVsYXlQaG9uZUlkID0gIiI7DQogICAgICAgICAgdGhpcy5yZWxheVBob25lTGlzdEl0ZW1zID0gW107DQogICAgICAgICAgdGhpcy5yZWxheVBob25lTGlzdEl0ZW1zID0gcmVzLnJlc3VsdC5saXN0Ow0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGdldEJhdGNoVHlwZURpc3BsYXkoKSB7IC8v5qC55o2u5om55qyh57G75Z6L5pi+56S66ZqQ6JeP5YiXDQogICAgICBpZih0aGlzLmJhdGNoRm9ybS5iYXRjaFR5cGUgPT0gMSl7DQogICAgICAgIHRoaXMuc2VhdFVzZXJEaXNwbGF5ID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5iYXRjaFR5cGVEaXNwbGF5ID0gZmFsc2U7DQogICAgICAgIHRoaXMuaXZyRGlzcGxheSA9IGZhbHNlOw0KICAgICAgfQ0KICAgICAgaWYodGhpcy5iYXRjaEZvcm0uYmF0Y2hUeXBlID09IDIpew0KICAgICAgICB0aGlzLnNlYXRVc2VyRGlzcGxheSA9IGZhbHNlOw0KICAgICAgICB0aGlzLmJhdGNoVHlwZURpc3BsYXkgPSB0cnVlOw0KICAgICAgICB0aGlzLml2ckRpc3BsYXkgPSB0cnVlOw0KICAgICAgfQ0KICAgICAgaWYodGhpcy5iYXRjaEZvcm0uYmF0Y2hUeXBlID09IDMpew0KICAgICAgICB0aGlzLnNlYXRVc2VyRGlzcGxheSA9IGZhbHNlOw0KICAgICAgICB0aGlzLmJhdGNoVHlwZURpc3BsYXkgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5pdnJEaXNwbGF5ID0gdHJ1ZTsNCiAgICAgIH0NCiAgICAgIGlmKHRoaXMuYmF0Y2hGb3JtLmJhdGNoVHlwZSA9PSA1KXsNCiAgICAgICAgdGhpcy5zZWF0VXNlckRpc3BsYXkgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5iYXRjaFR5cGVEaXNwbGF5ID0gZmFsc2U7DQogICAgICAgIHRoaXMuaXZyRGlzcGxheSA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkVGFzaygpIHsNCiAgICAgIHRoaXMubW9kYWxUeXBlID0gMDsNCiAgICAgIHRoaXMuJHJlZnMudGFza0Zvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIHRoaXMudGFza0Zvcm0gPSBbXTsNCiAgICAgIHRoaXMudGFza01vZGFsVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLm1vZGFsVGl0bGUgPSAi5paw5aKe5Lu75YqhIjsNCiAgICAgIHRoaXMuc2VsZWN0UGhvbmUgPSBmYWxzZTsNCiAgICAgIHRoaXMuc3ViRWRpdCA9IHRydWU7DQogICAgICB0aGlzLmdldFJlc3VsdEFsbCgiMSIsIiIsIjAiKTsNCiAgICAgIHRoaXMuZ2V0QmxhY2tBbGwoKTsNCiAgICAgIHRoaXMuZ2V0V29ya3RpbWV0QWxsKCk7DQogICAgICB0aGlzLmdldFJlbGF5R3JvdXBBbGwoKTsNCiAgICAgIHRoaXMuZ2V0UmVsYXlQaG9uZUFsbCgpOw0KICAgIH0sDQogICAgY2FuY2VsVGFzaygpIHsNCiAgICAgIHRoaXMudGFza01vZGFsVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgdGhpcy5lZGl0VGFza1N0YXRlID0gZmFsc2U7DQogICAgICB0aGlzLnNlbGVjdFBob25lID0gZmFsc2U7DQogICAgICB0aGlzLnN1YkVkaXQgPSB0cnVlOw0KICAgICAgdGhpcy5xdWVyeVJlc3VsdExpc3RJdGVtcyA9IFtdOw0KICAgIH0sDQogICAgY2FuY2VsRGV0YWlsVGFzaygpIHsNCiAgICAgIHRoaXMuJHJlZnMuYmF0Y2hGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICB0aGlzLmJhdGNoTW9kYWxWaXNpYmxlID0gZmFsc2U7DQogICAgICB0aGlzLmJhdGNoRm9ybSA9IHtiYXRjaFR5cGU6IjEiLHNlYXRVc2VySWRzOiIifTsNCiAgICAgIHRoaXMuc2VhdFVzZXJEaXNwbGF5ID0gdHJ1ZTsNCiAgICAgIHRoaXMuYmF0Y2hUeXBlRGlzcGxheSA9IGZhbHNlOw0KICAgICAgdGhpcy5pdnJEaXNwbGF5ID0gZmFsc2U7DQogICAgfSwNCiAgICBzdWJtaXRUYXNrKCkgew0KICAgICAgICB2YXIgcGFyYW1zID0ge307IA0KICAgICAgICBpZighdGhpcy50YXNrRm9ybS50YXNrTmFtZSl7DQogICAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLku7vliqHlkI3np7DkuI3og73kuLrnqboiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgLy8gZWxzZXsNCiAgICAgICAgLy8gICAgIHRoaXMudmFsaWRhdGVUYXNrTmFtZSh0aGlzLnRhc2tGb3JtLmlkLHRoaXMudGFza0Zvcm0udGFza05hbWUpOw0KICAgICAgICAvLyB9DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudmFsaWRhdGVOYW1lKTsNCiAgICAgICAgLy8gaWYodGhpcy52YWxpZGF0ZU5hbWUpew0KICAgICAgICAvLyAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuS7u+WKoeWQjeensOW3suWtmOWcqCEiKTsNCiAgICAgICAgLy8gICAgcmV0dXJuOw0KICAgICAgICAvLyB9DQoNCiAgICAgICAgaWYoIXRoaXMudGFza0Zvcm0ubWF4Q2hhbm5lbCl7DQogICAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLmnIDlpKfpgJrpgZPmlbDkuI3og73kuLrnqboiKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYoIXRoaXMudGFza0Zvcm0uYmxhY2tHcm91cElkKXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuWFjeWRvOe7hOS4jeiDveS4uuepuiIpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZighdGhpcy50YXNrRm9ybS5yZWxheUdyb3VwSWQpew0KICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5Lit57un57uE5LiN6IO95Li656m6Iik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmKCF0aGlzLnRhc2tGb3JtLnJlbGF5UGhvbmVNb2RlKXsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuS4u+WPq+WPt+eggeinhOWImeS4jeiDveS4uuepuiIpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgaWYodGhpcy50YXNrRm9ybS5yZWxheVBob25lTW9kZSA9PSAyKXsNCiAgICAgICAgICAgICAgaWYoIXRoaXMudGFza0Zvcm0ucmVsYXlQaG9uZUlkKXsNCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuS4u+WPq+WPt+eggeS4jeiDveS4uuepuiIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZighdGhpcy50YXNrRm9ybS53b3JrVGltZUdyb3VwSWQpew0KICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5pe26Ze057uE5LiN6IO95Li656m6Iik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHRoaXMudGFza0Zvcm0uc3RhcnRUaW1lID0gIHRoaXMuZGF0ZUZvcm1hdCh0aGlzLnRhc2tGb3JtLnN0YXJ0VGltZSk7DQogICAgICAgIHRoaXMudGFza0Zvcm0uZW5kVGltZSA9ICB0aGlzLmRhdGVGb3JtYXQodGhpcy50YXNrRm9ybS5lbmRUaW1lKTsNCiAgICAgICAgcGFyYW1zID0gdGhpcy50YXNrRm9ybTsNCiAgICAgICAgY29uc29sZS5sb2cocGFyYW1zKTsNCiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucXVlcnlSZXN1bHRMaXN0SXRlbXM7DQogICAgICAgIGlmKHJlc3VsdC5sZW5ndGggPD0gMCl7DQogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuiQpemUgOe7k+aenOmFjee9ruS4jeiDveS4uuepuizoh7PlsJHphY3nva7kuIDpobkiKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChyZXN1bHRbaV0uZnVsbE5hbWUgPT0gIiIgfHwgcmVzdWx0W2ldLmZ1bGxOYW1lID09IG51bGwpIHsNCiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLokKXplIDnu5PmnpzlkI3np7DkuI3og73kuLrnqboiKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYocmVzdWx0W2ldLnN1Y2Nlc3NGbGFnID09IHRydWUpew0KICAgICAgICAgICAgICAgIHJlc3VsdFtpXS5zdWNjZXNzRmxhZyA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIHBhcmFtc1sibGlzdCJdID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0KTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOw0KICAgICAgICBwYXJhbXNbInRhc2tTdGF0ZSJdID0gMDsNCiAgICAgICAgcGFyYW1zWyJ0YXNrVHlwZSJdID0gMTsNCiAgICAgICAgcGFyYW1zWyJ0YXNrRGlzcGxheSJdID0gMTsNCiAgICAgICAgcGFyYW1zWyJtYXhDYWxsQ291bnQiXSA9IDA7DQogICAgICAgIGlmKHRoaXMubW9kYWxUeXBlID09IDApew0KICAgICAgICAgIHBhcmFtc1siaWQiXSA9IDA7DQogICAgICAgIH0NCiAgICAgICAgcGFyYW1zWyJtb2RhbFR5cGUiXSA9IHRoaXMubW9kYWxUeXBlOw0KICAgICAgICBzdWJtaXRDYWxsVGFzayhwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICB0aGlzLnRhc2tGb3JtID0ge307DQogICAgICAgICAgICB0aGlzLnF1ZXJ5UmVzdWx0TGlzdEl0ZW1zID0gW107DQogICAgICAgICAgICB0aGlzLnRhc2tNb2RhbFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuZ2V0Q2FsbFRhc2tMaXN0KCk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGRhdGVGb3JtYXQoZGF0ZURhdGEpIHsNCiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0ZURhdGEpDQogICAgICB2YXIgeSA9IGRhdGUuZ2V0RnVsbFllYXIoKQ0KICAgICAgdmFyIG0gPSBkYXRlLmdldE1vbnRoKCkgKyAxDQogICAgICBtID0gbSA8IDEwID8gKCcwJyArIG0pIDogbQ0KICAgICAgdmFyIGQgPSBkYXRlLmdldERhdGUoKQ0KICAgICAgZCA9IGQgPCAxMCA/ICgnMCcgKyBkKSA6IGQNCiAgICAgIGNvbnN0IHRpbWUgPSB5ICsgJy0nICsgbSArICctJyArIGQgKyIgIisgZGF0ZS5nZXRIb3VycygpICsgJzonICsgZGF0ZS5nZXRNaW51dGVzKCkgKyAnOicgKyBkYXRlLmdldFNlY29uZHMoKTsNCiAgICAgIHJldHVybiB0aW1lDQogICAgfSwNCiAgICBlZGl0VGFzayh2KSB7DQogICAgICAvLyDovazmjaJudWxs5Li6IiINCiAgICAgIGZvciAobGV0IGF0dHIgaW4gdikgew0KICAgICAgICBpZiAodlthdHRyXSA9PSBudWxsKSB7DQogICAgICAgICAgZGVsZXRlIHZbYXR0cl07DQogICAgICAgIH0NCiAgICAgICAgaWYoYXR0cj09InJlbGF5UGhvbmVNb2RlIil7DQogICAgICAgICAgdlthdHRyXSA9IHZbYXR0cl0rIiI7DQogICAgICAgICAgaWYodlthdHRyXSA9PSAiMiIpew0KICAgICAgICAgICAgdGhpcy5zZWxlY3RQaG9uZSA9IGZhbHNlOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihhdHRyPT0iYmxhY2tHcm91cElkIil7DQogICAgICAgICAgdlthdHRyXSA9IHBhcnNlSW50KHZbYXR0cl0pOw0KICAgICAgICB9DQogICAgICAgIGlmKGF0dHI9PSJ3b3JrVGltZUdyb3VwSWQiKXsNCiAgICAgICAgICB2W2F0dHJdID0gcGFyc2VJbnQodlthdHRyXSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMubW9kYWxUeXBlID0gMTsNCiAgICAgIHRoaXMudGFza01vZGFsVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLm1vZGFsVGl0bGUgPSAi57yW6L6R5Lu75YqhIjsNCiAgICAgIHRoaXMuJHJlZnMudGFza0Zvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIGxldCBzdHIgPSBKU09OLnN0cmluZ2lmeSh2KTsNCiAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShzdHIpOw0KICAgICAgdGhpcy5nZXRSZXN1bHRBbGwoIjAiLGRhdGEuaWQsIjAiKTsNCiAgICAgIHRoaXMuZ2V0QmxhY2tBbGwoKTsNCiAgICAgIHRoaXMuZ2V0V29ya3RpbWV0QWxsKCk7DQogICAgICB0aGlzLmdldFJlbGF5R3JvdXBBbGwoKTsNCiAgICAgIHRoaXMuZ2V0UmVsYXlQaG9uZUFsbCgpOw0KICAgICAgdGhpcy50YXNrRm9ybSA9IGRhdGE7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLnRhc2tGb3JtKTsNCiAgICAgIHRoaXMuZ2V0QmF0Y2hDb3VudChkYXRhLmlkLCIxIik7ICAgDQogICAgfSwNCiAgICAvL+WIoOmZpOS7u+WKoeiusOW9leaVsOaNrg0KICAgIGNhbGxUYXNrRGVsQ2xpY2sodil7DQogICAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oew0KICAgICAgICAgICAgICB0aXRsZTogIuehruiupOWIoOmZpCIsDQogICAgICAgICAgICAgIGNvbnRlbnQ6ICLliKDpmaTku7vliqHkvJrmiorlvZPliY3ku7vliqHkuIvnmoTmibnmrKHmuIXljZXmlbDmja7kuIDlubbliKDpmaQs5oKo56Gu6K6k6KaB5Yig6ZmkICIgKyB2LnRhc2tOYW1lICsgIiA/IiwNCiAgICAgICAgICAgICAgb25PazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBkZWxldGVDYWxsVGFza0J5SWQoe3Rhc2tJZDp2LmlkfSkudGhlbihyZXM9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5zdWNjZXNzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2FsbFRhc2tMaXN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgfSk7IA0KICAgIH0sDQogICAgZ2V0QmF0Y2hDb3VudCh0YXNrSWQsdHlwZSkgeyAvL+iOt+WPluaJueasoeS/oeaBrw0KICAgICAgdmFyIGJhdGNoVHlwZSA9ICIiOw0KICAgICAgaWYodHlwZT09IjIiKXsNCiAgICAgICAgYmF0Y2hUeXBlID0gIjEiOw0KICAgICAgfQ0KICAgICAgZ2V0Q2FsbFRhc2tCYXRjaEFsbExpc3RzKHt0YXNrSWQ6dGFza0lkLGJhdGNoVHlwZTpiYXRjaFR5cGV9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgaWYodHlwZT09IjEiKXsNCiAgICAgICAgICAgIGlmKHRoaXMubW9kYWxUeXBlID09IDEgJiYgcmVzLnJlc3VsdC50b3RhbCA+IDApew0KICAgICAgICAgICAgICB0aGlzLmVkaXRUYXNrU3RhdGUgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLnN1YkVkaXQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RQaG9uZSA9IHRydWU7DQogICAgICAgICAgICAgIHRoaXMubW9kYWxUaXRsZSA9ICLnvJbovpHku7vliqEo5b2T5YmN5Lu75Yqh5LiL5a2Y5ZyoIityZXMucmVzdWx0LnRvdGFsKyLkuKrmibnmrKHkuI3lhYHorrjnvJbovpEpIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHRoaXMuYmF0Y2hMaXN0ID0gcmVzLnJlc3VsdC5saXN0Ow0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBiZWZvcmVVcGxvYWRJbXBvcnQoZmlsZSkgew0KICAgICAgY29uc3QgZmlsZUV4dCA9IGZpbGUubmFtZS5zcGxpdCgiLiIpLnBvcCgpLnRvTG9jYWxlTG93ZXJDYXNlKCk7DQogICAgICBpZiAoZmlsZUV4dCA9PSAieGxzeCIgfHwgZmlsZUV4dCA9PSAieGxzIikgew0KICAgICAgIHRoaXMudXBsb2FkZmlsZSA9IGZpbGU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiROb3RpY2Uud2FybmluZyh7DQogICAgICAgICAgdGl0bGU6ICLmlofku7bnsbvlnovplJnor68iLA0KICAgICAgICAgIGRlc2M6DQogICAgICAgICAgICAi5omA6YCJ5paH5Lu24oCYICIgKw0KICAgICAgICAgICAgZmlsZS5uYW1lICsNCiAgICAgICAgICAgICIg4oCZ5LiN5pivRVhDRUzmlofku7bvvIzor7fpgInmi6nlkI7nvIDkuLoueGxzeOaIluiAhS54bHPnmoRFWENFTOaWh+S7tuOAgiIsDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0sDQogICAgZG93bmxvYWRUZW1wbGUoKSB7DQogICAgICBsZXQgdGl0bGUgPSBbXTsNCiAgICAgIGxldCBrZXkgPSBbXTsNCiAgICAgIGRldGFpbEltcG9ydENvbHVtbnMuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICB0aXRsZS5wdXNoKGUudGl0bGUpOw0KICAgICAgICBrZXkucHVzaChlLmtleSk7DQogICAgICB9KTsNCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgICAgdGl0bGU6IHRpdGxlLA0KICAgICAgICBrZXk6IGtleSwNCiAgICAgICAgZGF0YTogZGV0YWlsRGF0YSwNCiAgICAgICAgYXV0b1dpZHRoOiB0cnVlLA0KICAgICAgICBmaWxlbmFtZTogIuWvvOWFpeaVsOaNruaooeeJiCIsDQogICAgICB9Ow0KICAgICAgZXhjZWwuZXhwb3J0X2FycmF5X3RvX2V4Y2VsKHBhcmFtcyk7DQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3RVc2VyKHYpIHsNCiAgICAgIHRoaXMuc2VsZWN0VXNlcnMgPSB2Ow0KICAgIH0sDQogICAgc3VibWl0VXNlcih2KXsNCiAgICAgIGxldCBpZHMgPSAiIjsNCiAgICAgIHYuZm9yRWFjaChmdW5jdGlvbihlKSB7DQogICAgICAgIGlkcyArPSBlLmlkICsgIiwiOw0KICAgICAgfSk7DQogICAgICBpZHMgPSBpZHMuc3Vic3RyaW5nKDAsIGlkcy5sZW5ndGggLSAxKTsNCiAgICAgIHRoaXMuYmF0Y2hGb3JtLnNlYXRVc2VySWRzID0gaWRzOw0KICAgIH0sDQogICAgc3VibWl0QmFjdGhJbXBvcnQoKXsNCiAgICAgIHZhciB6aXBGb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgdGhpcy51cGxvYWRmaWxlKTsgLy9maWxl6KaB5ZKMQFJlcXVlc3RQYXJhbSgiZmlsZSIpTXVsdGlwYXJ0RmlsZSBmaWxl5a+55bqU5aW9DQogICAgICB6aXBGb3JtRGF0YS5hcHBlbmQoInRhc2tJZCIsIHRoaXMuaW1wb3J0TGlzdC5pZCk7DQogICAgICB6aXBGb3JtRGF0YS5hcHBlbmQoInJlbGF5UGhvbmVNb2RlIiwgdGhpcy5pbXBvcnRMaXN0LnJlbGF5UGhvbmVNb2RlKTsNCiAgICAgIHppcEZvcm1EYXRhLmFwcGVuZCgicmVsYXlQaG9uZUlkIiwgdGhpcy5pbXBvcnRMaXN0LnJlbGF5UGhvbmVJZCk7DQogICAgICB6aXBGb3JtRGF0YS5hcHBlbmQoInJlbGF5R3JvdXBJZCIsIHRoaXMuaW1wb3J0TGlzdC5yZWxheUdyb3VwSWQpOw0KICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJiYXRjaE5hbWUiLCB0aGlzLmJhdGNoRm9ybS5iYXRjaE5hbWUpOw0KICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJiYXRjaFR5cGUiLCB0aGlzLmJhdGNoRm9ybS5iYXRjaFR5cGUpOw0KICAgICAgaWYodGhpcy5iYXRjaEZvcm0uYmF0Y2hUeXBlPT0xKXsNCiAgICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJzZWF0VXNlcklkcyIsIHRoaXMuYmF0Y2hGb3JtLnNlYXRVc2VySWRzKTsNCiAgICAgIH0NCiAgICAgIGlmKHRoaXMuYmF0Y2hGb3JtLmJhdGNoVHlwZT09Mil7DQogICAgICAgIHppcEZvcm1EYXRhLmFwcGVuZCgiaXZyRmxvd0lkIiwgdGhpcy5iYXRjaEZvcm0uaXZyRmxvd0lkKTsNCiAgICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJvdXRDYWxsUmF0ZSIsIHRoaXMuYmF0Y2hGb3JtLm91dENhbGxSYXRlKTsNCiAgICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJhdXRvQ2FsbENvdW50IiwgdGhpcy5iYXRjaEZvcm0uYXV0b0NhbGxDb3VudCk7DQogICAgICAgIHppcEZvcm1EYXRhLmFwcGVuZCgicmVjYWxsSW50ZXJ2YWwiLCB0aGlzLmJhdGNoRm9ybS5yZWNhbGxJbnRlcnZhbCk7DQogICAgICB9DQogICAgICBpZih0aGlzLmJhdGNoRm9ybS5iYXRjaFR5cGU9PTMpew0KICAgICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJpdnJGbG93SWQiLCB0aGlzLmJhdGNoRm9ybS5pdnJGbG93SWQpOw0KICAgICAgfQ0KICAgICAgemlwRm9ybURhdGEuYXBwZW5kKCJiYXRjaFByZWZpeCIsIHRoaXMuYmF0Y2hGb3JtLmJhdGNoUHJlZml4KTsNCiAgICAgIHppcEZvcm1EYXRhLmFwcGVuZCgicmVtb3ZhbCIsIHRoaXMuYmF0Y2hGb3JtLnJlbW92YWwpOw0KICAgICAgdGhpcy5pbXBvcnRMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGZpbGVEZXRhaWxVcGxvYWQoemlwRm9ybURhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLmltcG9ydExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmJhdGNoTW9kYWxWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5iYXRjaEZvcm0gPSB7YmF0Y2hUeXBlOiIxIn07DQogICAgICAgICAgdGhpcy5zZWF0VXNlckRpc3BsYXkgPSB0cnVlOw0KICAgICAgICAgIHRoaXMuYmF0Y2hUeXBlRGlzcGxheSA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuaXZyRGlzcGxheSA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7DQogICAgICAgICAgdGhpcy5nZXRiYXRjaExpc3QodGhpcy50YXNrSWQpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGVkaXRTdGF0ZShlbmFibGVkLCB2KSB7DQogICAgICBsZXQgb3BlcmF0aW9uID0gIiI7DQogICAgICBpZiAoZW5hYmxlZCA9PSAiMSIpIHsNCiAgICAgICAgb3BlcmF0aW9uID0gIuWQr+WKqCI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBvcGVyYXRpb24gPSAi5pqC5YGcIjsNCiAgICAgIH0NCiAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oew0KICAgICAgICB0aXRsZTogIuehruiupCIgKyBvcGVyYXRpb24sDQogICAgICAgIGNvbnRlbnQ6IGDmgqjnoa7orqTopoEke29wZXJhdGlvbn0gJHt2LmJhdGNoTmFtZX0/YCwNCiAgICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgICAgb25PazogKCkgPT4gew0KICAgICAgICAgIHZhciBwYXJhbXMgPSB7fTsNCiAgICAgICAgICBwYXJhbXNbInRhc2tJZCJdID0gdi50YXNrSWQ7DQogICAgICAgICAgcGFyYW1zWyJiYXRjaElkIl0gPSB2LmlkOw0KICAgICAgICAgIHBhcmFtc1sidGFza1N0YXRlIl0gPSB2LnRhc2tTdGF0ZTsNCiAgICAgICAgICBwYXJhbXNbImJhdGNoU3RhdGUiXSA9IGVuYWJsZWQ7DQogICAgICAgICAgc3VibWl0U3RhdGVDYWxsVGFza0JhdGNoKHBhcmFtcykudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgdGhpcy4kTW9kYWwucmVtb3ZlKCk7DQogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRDYWxsVGFza0xpc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBlZGl0RGlzcGxheShkaXNwbGF5LGJhdGNoSWQsdGFza0lkKSB7DQogICAgICAgICAgdmFyIHBhcmFtcyA9IHt9Ow0KICAgICAgICAgIHBhcmFtc1siZGlzcGxheSJdID0gZGlzcGxheTsNCiAgICAgICAgICBwYXJhbXNbImJhdGNoSWQiXSA9IGJhdGNoSWQ7DQogICAgICAgICAgcGFyYW1zWyJ0YXNrSWQiXSA9IHRhc2tJZDsNCiAgICAgICAgICBzdWJtaXREaXNwbGF5Q2FsbFRhc2socGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRDYWxsVGFza0xpc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8v57yW6L6RDQogICAgcm93QmF0Y2hFZGl0KFYpIHsNCiAgICAgICAgdGhpcy5iYXRjaEZvcm0uYmF0Y2hJZCA9IFYuaWQ7DQogICAgICAgIHRoaXMuYmF0Y2hGb3JtLm91dENhbGxSYXRlID0gVi5vdXRDYWxsUmF0ZTsNCiAgICAgICAgdGhpcy5iYXRjaE1vYmlsZVZpc2libGUgPSB0cnVlOw0KICAgICAgICB0aGlzLmJhdGNoTW9iaWxlVmlzaWJsZVRpdGxlPSLnvJbovpHmibnmrKEiOw0KICAgIH0sDQogICAgc3VibWl0YUJhdGNoKCl7DQogICAgICAgIGlmKHBhcnNlRmxvYXQodGhpcy5iYXRjaEZvcm0ub3V0Q2FsbFJhdGUpLnRvRml4ZWQoMSkgPCAxLjAgfHwgcGFyc2VGbG9hdCh0aGlzLmJhdGNoRm9ybS5vdXRDYWxsUmF0ZSkudG9GaXhlZCgxKSA+IDQuMCl7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi6aKE5rWL5aSW5ZG86YCf546H6L6T5YWl55qE5YC86K+35ZyoMS4wfjQuMOS5i+mXtOOAgiIpOw0KICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIHBhcmFtcyA9IHt9Ow0KICAgICAgICBwYXJhbXNbImJhdGNoSWQiXSA9IHRoaXMuYmF0Y2hGb3JtLmJhdGNoSWQ7DQogICAgICAgIHBhcmFtc1sib3V0Q2FsbFJhdGUiXSA9IHRoaXMuYmF0Y2hGb3JtLm91dENhbGxSYXRlOw0KICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOw0KICAgICAgICBzdWJtaXRDYWxsVGFza0JhdGNoKHBhcmFtcykudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgdGhpcy5nZXRiYXRjaExpc3QodGhpcy50YXNrSWQpOw0KICAgICAgICAgICAgdGhpcy5iYXRjaEZvcm0ub3V0Q2FsbFJhdGUgPSAiIjsNCiAgICAgICAgICAgIHRoaXMuYmF0Y2hGb3JtLmJhdGNoSWQgPSAiIjsNCiAgICAgICAgICAgIHRoaXMuYmF0Y2hNb2JpbGVWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGJ0bkRhdGFBc3NpZ24oKXsNCiAgICAgICB0aGlzLmFzc2lnbk1vZGFsVGl0bGU9IuaVsOaNruWIhumFjSI7DQogICAgICAgdGhpcy5hc3NpZ25Nb2RhbFZpc2libGU9dHJ1ZTsNCiAgICB9LA0KICAgIGNhbmNlbEJhdGNoKCl7DQogICAgICAgdGhpcy5iYXRjaEZvcm0ub3V0Q2FsbFJhdGUgPSAiIjsNCiAgICAgICB0aGlzLmJhdGNoRm9ybS5iYXRjaElkID0gIiI7DQogICAgICAgdGhpcy5iYXRjaE1vYmlsZVZpc2libGUgPSBmYWxzZTsNCiAgICB9LA0KICAgIGNoYW5nZUJhdGNoUGFnZSh2KXsNCiAgICAgICAgIHRoaXMuc2VhcmNoQmF0Y2hGb3JtLnBhZ2VOdW1iZXIgPSB2Ow0KICAgIH0sDQogICAgY2hhbmdlQmF0Y2hQYWdlU2l6ZSh2KXsNCiAgICAgICAgIHRoaXMuc2VhcmNoQmF0Y2hGb3JtLnBhZ2VTaXplID0gdjsNCiAgICB9LA0KICAgIGNsZWFyQmF0Y2goKXsNCiAgICAgICAgIHRoaXMubW9kYWxCYXRjaFZpc2libGU9ZmFsc2U7DQogICAgICAgICB0aGlzLnRvdGFsQmF0Y2g9MDsNCiAgICAgICAgIHRoaXMuZGF0YUJhdGNoPVtdOw0KICAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2hCYXRjaEZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICB9LA0KICAgIGhhbmRlbEJhdGNoU3VibWl0KCl7DQoNCiAgICB9LA0KICAgIGNoYW5nZVRhc2tQYWdlKHYpew0KICAgICAgICAgdGhpcy5zZWFyY2hUYXNrRm9ybS5wYWdlTnVtYmVyID0gdjsNCiAgICB9LA0KICAgIGNoYW5nZVRhc2tQYWdlU2l6ZSh2KXsNCiAgICAgICAgIHRoaXMuc2VhcmNoVGFza0Zvcm0ucGFnZVNpemUgPSB2Ow0KICAgIH0sDQogICAgY2xlYXJUYXNrKCl7DQogICAgICAgICB0aGlzLm1vZGFsVGFza1Zpc2libGU9ZmFsc2U7DQogICAgICAgICB0aGlzLnRvdGFsVGFzaz0wOw0KICAgICAgICAgdGhpcy5kYXRhVGFzaz1bXTsNCiAgICAgICAgIHRoaXMuJHJlZnMuc2VhcmNoVGFza0Zvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICB9LA0KICAgIGhhbmRlbFRhc2tTdWJtaXQoKXsNCg0KICAgIH0sDQogICAgY2hhbmdlU3RhcnREYXRlKHYpIHsNCiAgICAgIHRoaXMucmVjeWNsZUZvcm0uc3RhcnREYXRlID0gdjsNCiAgICB9LA0KICAgIGNoYW5nZUVuZERhdGUodikgew0KICAgICAgdGhpcy5yZWN5Y2xlRm9ybS5lbmREYXRlID0gdjsNCiAgICB9LA0KICAgIGJ0bkRhdGFSZWN5Y2xlKCl7DQogICAgICAgIHRoaXMucmVjeWNsZU1vZGFsVmlzaWJsZT10cnVlOw0KICAgICAgICB0aGlzLmJhdGNoTGlzdCA9IFtdOw0KICAgICAgICB0aGlzLm1hcmtldGluZ1Jlc3VsdExpc3QgPSBbXTsNCiAgICAgICAgdGhpcy5yZWN5Y2xlRm9ybS5zdGFydERhdGUgPSB0aGlzLmFkZERhdGUoKTsNCiAgICAgICAgdGhpcy5yZWN5Y2xlRm9ybS5lbmREYXRlID0gdGhpcy5hZGREYXRlKCk7DQogICAgICAgIHRoaXMuZ2V0QmF0Y2hDb3VudCh0aGlzLnRhc2tJZCwiMiIpOw0KICAgICAgICB0aGlzLmdldFJlY3ljbGVSZXN1bHRBbGwoKTsNCiAgICB9LA0KICAgIGFkZERhdGUodG9EYXkpIHsNCiAgICAgIGxldCBub3dEYXRlID0gIiI7DQogICAgICBpZih0b0RheSl7DQogICAgICAgIG5vd0RhdGUgPSB0b0RheTsNCiAgICAgIH1lbHNlew0KICAgICAgICBub3dEYXRlID0gbmV3IERhdGUoKTsNCiAgICAgIH0NCiAgICAgIGxldCBkYXRlID0gew0KICAgICAgICB5ZWFyOiBub3dEYXRlLmdldEZ1bGxZZWFyKCksDQogICAgICAgIG1vbnRoOiBub3dEYXRlLmdldE1vbnRoKCkgKyAxLA0KICAgICAgICBkYXRlOiBub3dEYXRlLmdldERhdGUoKQ0KICAgICAgfQ0KICAgICAgbGV0IG1vbnRoID0gZGF0ZS5tb250aCA8IDEwID8gJzAnK2RhdGUubW9udGg6ZGF0ZS5tb250aDsNCiAgICAgIGxldCBkYXkgPSBkYXRlLmRhdGUgPCAxMCA/ICcwJytkYXRlLmRhdGU6ZGF0ZS5kYXRlOw0KICAgICAgbGV0IHN5c3RlbVRpbWUgPSBkYXRlLnllYXIgKyAnLScgKyBtb250aCArICctJyArIGRheTsNCiAgICAgIHJldHVybiBzeXN0ZW1UaW1lOw0KICAgIH0sDQogICAgZ2V0UmVjeWNsZVJlc3VsdEFsbCgpIHsNCiAgICAgIGdldFJlc3VsdEFsbExpc3RzKHtpc1B1YmxpYzowLHRhc2tJZDp0aGlzLnRhc2tJZH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLm1hcmtldGluZ1Jlc3VsdExpc3QgPSByZXMucmVzdWx0Lmxpc3Q7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2FuY2VsUmVjeWNsZSgpew0KICAgICAgICB0aGlzLiRyZWZzLnJlY3ljbGVGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICAgIHRoaXMucmVjeWNsZU1vZGFsVmlzaWJsZT1mYWxzZTsNCiAgICAgICAgdGhpcy5iYXRjaExpc3QgPSBbXTsNCiAgICAgICAgdGhpcy5tYXJrZXRpbmdSZXN1bHRMaXN0ID0gW107DQogICAgfSwgDQogICAgc3VibWl0UmVjeWNsZSgpew0KICAgICAgICAgIGlmKCF0aGlzLnJlY3ljbGVGb3JtLmJhdGNoSWQpew0KICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuaJueasoeWQjeensOS4jeiDveS4uuepuiEiKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZighdGhpcy5yZWN5Y2xlRm9ybS5zdGFydERhdGUgfHwgIXRoaXMucmVjeWNsZUZvcm0uZW5kRGF0ZSl7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5byA5aeLLOe7k+adn+aXpeacn+S4jeiDveS4uuepuiEiKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZighdGhpcy5yZWN5Y2xlRm9ybS5yZWN5Y2xlVXNlcil7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5Zue5pS25Z2Q5bit5LiN6IO95Li656m6ISIpOw0KICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmKCF0aGlzLnJlY3ljbGVGb3JtLmFzc2lnblVzZXIpew0KICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuWIhumFjeWdkOW4reS4jeiDveS4uuepuiEiKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICB2YXIgZm9ybWRhdGE9e307DQogICAgICAgICAgZm9yKHZhciBpIGluIHRoaXMucmVjeWNsZUZvcm0pew0KICAgICAgICAgICAgaWYodGhpcy5yZWN5Y2xlRm9ybVtpXSAhPSBudWxsICYmIHRoaXMucmVjeWNsZUZvcm1baV0gIT0iIil7DQogICAgICAgICAgICAgIGlmKGk9PSJzdGFydERhdGUiIHx8IGk9PSJlbmREYXRlIil7DQogICAgICAgICAgICAgICAgIGZvcm1kYXRhW2ldID0gdGhpcy5hZGREYXRlKHRoaXMucmVjeWNsZUZvcm1baV0pOyAgDQogICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICBmb3JtZGF0YVtpXSA9IHRoaXMucmVjeWNsZUZvcm1baV07ICANCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgZm9ybWRhdGFbInRhc2tJZCJdID0gdGhpcy50YXNrSWQ7DQogICAgICAgICAgY29uc29sZS5sb2coZm9ybWRhdGEpOw0KICAgICAgICAgIHN1Ym1pdFJlY3ljbGUoZm9ybWRhdGEpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMuJHJlZnMucmVjeWNsZUZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgICAgICAgICAgdGhpcy5yZWN5Y2xlTW9kYWxWaXNpYmxlPWZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLmJhdGNoTGlzdCA9IFtdOw0KICAgICAgICAgICAgICB0aGlzLm1hcmtldGluZ1Jlc3VsdExpc3QgPSBbXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICB9LA0KICAgIHN1Ym1pdFJlY3ljbGVVc2VyKHYpew0KICAgICAgbGV0IGlkcyA9ICIiOw0KICAgICAgdi5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgaWRzICs9IGUuaWQgKyAiLCI7DQogICAgICB9KTsNCiAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOw0KICAgICAgdGhpcy5yZWN5Y2xlRm9ybS5yZWN5Y2xlVXNlciA9IGlkczsNCiAgICB9LA0KICAgIHN1Ym1pdEFzc2lnblVzZXIodil7DQogICAgICBsZXQgaWRzID0gIiI7DQogICAgICB2LmZvckVhY2goZnVuY3Rpb24oZSkgew0KICAgICAgICBpZHMgKz0gZS5pZCArICIsIjsNCiAgICAgIH0pOw0KICAgICAgaWRzID0gaWRzLnN1YnN0cmluZygwLCBpZHMubGVuZ3RoIC0gMSk7DQogICAgICB0aGlzLnJlY3ljbGVGb3JtLmFzc2lnblVzZXIgPSBpZHM7DQogICAgfSwNCiAgICBjYW5jZWxBc3NpZ25UYXNrKCkgew0KICAgICAgdGhpcy4kcmVmcy5hc3NpZ25Gb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICB0aGlzLmFzc2lnbk1vZGFsVGl0bGU9IuWIhumFjeaVsOaNriI7DQogICAgICB0aGlzLmFzc2lnbk1vZGFsVmlzaWJsZSA9IGZhbHNlOw0KICAgIH0sDQoNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBsZXQgdHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGU7DQogICAgaWYgKHR5cGUgPT0gInNvY2lhbCIpIHsNCiAgICAgIHRoaXMuYWN0aXZlTmFtZSA9ICLnrKzkuInmlrnotKblj7fnu5HlrpoiOw0KICAgICAgdGhpcy5jdXJyTWVudSA9ICLnrKzkuInmlrnotKblj7fnu5HlrpoiOw0KICAgIH0NCiAgICB0aGlzLmluaXQoKTsNCiAgfSwNCiAgd2F0Y2g6IHsNCg0KICB9LA0KICBjb21wdXRlZDoge30sDQp9Ow0K"},{"version":3,"sources":["callTaskManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"callTaskManage.vue","sourceRoot":"src/views/sys/out-call","sourcesContent":["<style lang=\"less\">\r\n@import \"callTaskManage.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n      <Card>\r\n          <Row>\r\n              <div style=\"height:100%\">\r\n                  <div class=\"own-space ui-time-schedule-settings\">\r\n                      <Col :xs=\"8\" :sm=\"8\" :md=\"8\" :lg=\"6\" class=\"own-space-left bg-default\">\r\n                          <div class=\"own-header\">\r\n                              <Button type=\"default\" icon=\"md-add\" @click=\"addTask\">添加任务</Button>\r\n                          </div>\r\n                          <Menu :active-name=\"callTaskList[0].id\" class=\"own-space-left-item-box\" style=\"width: 100%\" >\r\n                           \r\n                            <MenuItem\r\n                                :name=\"item.id\"\r\n                                @click.native=\"clickItem(item)\"\r\n                                class=\"own-space-left-item\"\r\n                                :class=\"taskId == item.id ? 'own-space-left-item ivu-menu-item ivu-menu-item-active ivu-menu-item-selected' : ''\"\r\n                                v-for=\"(item, i) in callTaskList\" :key=\"item.id\" \r\n                                :data-name-1=\"i + 1\">\r\n                              <span>{{ item.taskName }}</span>\r\n                              <div class=\"ui-icon-box\">\r\n                                <Icon type=\"ios-create-outline\" @click=\"editTask(item)\" title=\"编辑任务\" @click.stop/>\r\n                                <Icon type=\"ios-trash-outline\"  @click=\"callTaskDelClick(item)\" title=\"删除任务\"  @click.stop/>\r\n                                <Icon type=\"ios-create-outline\" @click=\"editDisplay(item.taskDisplay =='0'?'1':'0','',item.id)\" title=\"显示隐藏\"  @click.stop/>\r\n                                <Icon type=\"ios-create-outline\" @click=\"getResultAll('0',item.id,'0')\" title=\"配置任务营销结果\"  @click.stop/>\r\n                              </div>\r\n                            </MenuItem>\r\n\r\n                          </Menu>\r\n                      </Col>\r\n                      <Col :xs=\"16\" :sm=\"16\" :md=\"16\" :lg=\"18\">\r\n                          <div class=\"own-space-right\">\r\n                              <Row v-if=\"openSearch\">\r\n                                  <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"80\" >\r\n                                      <Form-item label=\"批次名称\" prop=\"batchName\">\r\n                                          <Input type=\"text\" v-model=\"searchForm.batchName\" placeholder=\"请输入批次名称\" clearable style=\"width: 200px\" />\r\n                                      </Form-item>\r\n                                      <Form-item class=\"no-margin br\">\r\n                                          <Button @click=\"handleSearch\"  type=\"primary\"  icon=\"ios-search\" >{{ $t(\"search\") }}</Button>\r\n                                          <Button @click=\"handleReset\">{{ $t(\"reset\") }}</Button>\r\n                                      </Form-item>\r\n                                  </Form>\r\n                              </Row>\r\n                              <Row class=\"operation\">\r\n                                  <Button @click=\"addBacthDetailList\" type=\"primary\" icon=\"md-add\">数据管理</Button><!-- 增加 -->\r\n                                  <Button @click=\"getResultAll('1','','1')\"  type=\"primary\" icon=\"md-add\">配置公共营销结果</Button>\r\n                                  <Button @click=\"btnDataAssign\"  type=\"primary\" icon=\"md-add\">数据分配</Button>\r\n                                  <Button @click=\"btnDataRecycle\"  type=\"primary\" icon=\"md-add\">数据回收</Button>\r\n                                  <!-- <Button @click=\"importBlackList\" icon=\"md-exit\">{{ $t(\"import\") }}</Button>  导入 -->\r\n                                  <!-- <Button @click=\"delAll\" icon=\"md-trash\">{{  $t(\"deleteList\") }}</Button>  批量删除 -->\r\n                                  <Button @click=\"handleReset\" icon=\"md-refresh\">{{ $t(\"refresh\") }}</Button><!-- 刷新 -->\r\n                                  <Button type=\"dashed\" @click=\"openSearch=!openSearch\">{{openSearch ? \"关闭搜索\" : \"开启搜索\"}}</Button>\r\n                              </Row>\r\n                              <Row v-show=\"openTip && selectCount > 0\">\r\n                                  <Alert show-icon> {{ $t(\"tableTileSelected\") }} <span class=\"select-count\">{{ selectCount }}</span>\r\n                                      {{ $t(\"tableTileTerm\") }}\r\n                                      <a class=\"select-clear\" @click=\"clearSelectAll\">{{ $t(\"clear\") }}</a>\r\n                                  </Alert>\r\n                              </Row>\r\n                              <Row>\r\n                                  <Table :columns=\"columns\" :data=\"batchDataList\" ref=\"table\" sortable=\"custom\" @on-selection-change=\"showSelect\"></Table>\r\n                              </Row>\r\n                              <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n                                  <Page :current=\"searchForm.pageNumber\" :total=\"total\" :page-size=\"searchForm.pageSize\" @on-change=\"changePage\" \r\n                                   @on-page-size-change=\"changePageSize\" :page-size-opts=\"[10, 20, 50]\" size=\"small\" show-total show-elevator show-sizer>\r\n                                  </Page>\r\n                              </Row>\r\n                          </div>\r\n                      </Col>\r\n                  </div>\r\n              </div>\r\n          </Row>\r\n      </Card>\r\n\r\n    <!-- 新增编辑任务记录-start -->\r\n    <Modal :title=\"modalTitle\" v-model=\"taskModalVisible\" :closable=\"false\" :mask-closable=\"false\" :width=\"700\">\r\n      <Form ref=\"taskForm\" :model=\"taskForm\" :label-width=\"100\" :rules=\"taskFormValidate\">\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"任务名称\" prop=\"taskName\">\r\n                <Input v-model=\"taskForm.taskName\" :disabled=\"editTaskState\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"最大通道数\" prop=\"maxChannel\">\r\n                <Input v-model=\"taskForm.maxChannel\"  :disabled=\"editTaskState\" />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"开始日期\" prop=\"startTime\">\r\n                <DatePicker  type=\"datetime\" style=\"width:217px\" :disabled=\"editTaskState\" placeholder=\"请选择\" v-model=\"taskForm.startTime\"></DatePicker>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"完成日期\" prop=\"endTime\">\r\n                <DatePicker type=\"datetime\" style=\"width:217px\"  :disabled=\"editTaskState\" placeholder=\"请选择\" v-model=\"taskForm.endTime\"></DatePicker>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"免呼组\" prop=\"blackGroupId\">\r\n                <Select v-model=\"taskForm.blackGroupId\" :disabled=\"editTaskState\" placeholder=\"请选择\">\r\n                  <Option\r\n                    v-for=\"(item, index) in blackListItems\"\r\n                    :key=\"index\"\r\n                    :value=\"item.id\"\r\n                    >{{ item.name }}</Option\r\n                  >\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"中继组\" prop=\"relayGroupId\">\r\n                <Select v-model=\"taskForm.relayGroupId\" :disabled=\"editTaskState\" @on-change=\"getRelayPhoneAll()\" placeholder=\"请选择\">\r\n                  <Option\r\n                    v-for=\"(item, index) in relayGroupListItems\"\r\n                    :key=\"index\"\r\n                    :value=\"item.id\"\r\n                    >{{ item.relayGroupName }}</Option\r\n                  >\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"主叫号码规则\" prop=\"relayPhoneMode\">\r\n                 <Select v-model=\"taskForm.relayPhoneMode\" :disabled=\"editTaskState\" @on-change=\"getRelayPhoneAllDisabled()\" placeholder=\"请选择\">\r\n                  <Option value=\"0\">顺序分配</Option>\r\n                  <Option value=\"1\">随机分配</Option>\r\n                  <Option value=\"2\">指定号码</Option>\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"主叫号码\" prop=\"relayPhoneId\">\r\n                <Select v-model=\"taskForm.relayPhoneId\"  :disabled=\"selectPhone\" placeholder=\"请选择\">\r\n                  <Option\r\n                    v-for=\"(item, index) in relayPhoneListItems\"\r\n                    :key=\"index\"\r\n                    :value=\"item.id\"\r\n                    >{{ item.relayPhoneNumber }}</Option\r\n                  >\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n         <Row :gutter=\"32\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"时间组\" prop=\"workTimeGroupId\">\r\n                <Select v-model=\"taskForm.workTimeGroupId\" :disabled=\"editTaskState\" placeholder=\"请选择\">\r\n                  <Option\r\n                    v-for=\"(item, index) in WorkTimeListItems\"\r\n                    :key=\"index\"\r\n                    :value=\"item.id\"\r\n                    >{{ item.name }}</Option\r\n                  >\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"32\">\r\n              <FormItem label=\"备注\" prop=\"remark\">\r\n                 <Input type=\"textarea\" v-model=\"taskForm.remark\" :disabled=\"editTaskState\" :rows=\"4\" />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"64\">\r\n            <Col span=\"64\">\r\n              <FormItem label=\"营销结果配置\" prop=\"startTime\">\r\n                  <table id=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th :width=\"100\">名称</th>\r\n                      <th :width=\"100\">备注</th>\r\n                      <th :width=\"100\">是否成功标识</th>\r\n                      <th><Button  @click=\"insertResult\" v-show=\"subEdit\" :width=\"200\" type=\"primary\" icon=\"md-add\"></Button></th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"(item, index) in queryResultListItems\" :key=\"index\">\r\n                      <td :width=\"100\" style=\"text-align: center\">\r\n                        <input prop=\"fullName\" v-model=\"item.fullName\" :disabled=\"editTaskState\" />\r\n                        <!-- <input v-model=\"item.id\" v-show=\"false\" value=\"item.id\" /> -->\r\n                      </td>\r\n                      <td :width=\"100\" style=\"text-align: center\">\r\n                        <input v-model=\"item.remark\"  :disabled=\"editTaskState\" />\r\n                      </td>\r\n                      <td :width=\"100\" style=\"text-align: center\">\r\n                        <input type=\"checkbox\" v-model=\"item.successFlag\" :disabled=\"editTaskState\" />\r\n                      </td>\r\n                      <td><Button   @click=\"removeResult(index)\" v-show=\"subEdit\" type=\"primary\" icon=\"md-remove\"></Button></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"cancelTask\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" v-show=\"subEdit\" @click=\"submitTask\">提交</Button>\r\n      </div>\r\n    </Modal>\r\n    <!-- 新增编辑任务记录-end -->\r\n\r\n\r\n\r\n    <!-- 根据任务数据管理-start -->\r\n    <Modal :title=\"batchModalTitle\"  :transfer=\"false\" v-model=\"batchModalVisible\" :closable=\"false\" style=\"z-index:100\" :mask-closable=\"false\" :width=\"900\">\r\n      <Form ref=\"batchForm\" :model=\"batchForm\" :label-width=\"140\" >\r\n          <Row :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"批次名称\" prop=\"batchName\">\r\n                <Input v-model=\"batchForm.batchName\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"批次类型\" prop=\"batchType\">\r\n                <Select v-model=\"batchForm.batchType\" @on-change=\"getBatchTypeDisplay()\" >\r\n                  <Option value=\"1\">预览式外呼</Option>\r\n                  <Option value=\"2\">预测外呼</Option>\r\n                  <Option value=\"3\">自动外呼</Option>\r\n                  <Option value=\"5\">智能外呼</Option>\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"数据文件\" prop=\"startTime\">\r\n               <Upload action :before-upload=\"beforeUploadImport\" accept=\".xls, .xlsx\">\r\n                <Button :loading=\"reading\" icon=\"ios-cloud-upload-outline\" style=\"margin-right:10px\" >上传Excel文件</Button>\r\n                <br>\r\n                <span v-if=\"uploadfile.name\">当前选择文件:{{ uploadfile.name }}</span>\r\n              </Upload>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem>\r\n                <Button  @click=\"downloadTemple\"  type=\"info\" style=\"position: absolute;\" >下载导入模板</Button>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row  :gutter=\"36\">\r\n            <Col  v-show=\"seatUserDisplay\" span=\"12\">\r\n              <FormItem label=\"分配坐席\" prop=\"seatUserIds\">\r\n                  <Input v-model=\"batchForm.seatUserIds\" v-show=\"false\" />\r\n                  <user-choose @on-change=\"handleSelectUser\"  @click=\"submitUser\" ref=\"user\" style=\"display: inline-block;\"></user-choose>               \r\n              </FormItem>\r\n            </Col>\r\n            <Col v-show=\"ivrDisplay\" span=\"12\">\r\n              <FormItem  label=\"IVR流程\" prop=\"ivrFlowId\">\r\n                <Input v-model=\"batchForm.ivrFlowId\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Col v-show=\"batchTypeDisplay\" span=\"12\">\r\n              <FormItem label=\"速率\" prop=\"outCallRate\">\r\n                 <Input v-model=\"batchForm.outCallRate\" />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row v-show=\"batchTypeDisplay\" :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"每天自动回拨次数\" prop=\"autoCallCount\">\r\n                 <Input v-model=\"batchForm.autoCallCount\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"自动回拨间隔时间(分钟)\" prop=\"recallInterval\">\r\n                <Input v-model=\"batchForm.recallInterval\" />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"号码前缀\" prop=\"batchPrefix\">\r\n                 <Input v-model=\"batchForm.batchPrefix\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"允许重复\" prop=\"removal\">\r\n                <input type=\"checkbox\" v-model=\"batchForm.removal\" />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"cancelDetailTask\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" v-show=\"subEdit\" @click=\"submitBacthImport\">提交</Button>\r\n      </div>\r\n    </Modal>\r\n    <!-- 根据任务数据管理-end -->\r\n\r\n\r\n\r\n\r\n    <!-- 新增营销结果记录-start -->\r\n    <Modal :title=\"resultTitle\" v-model=\"resultModalVisible\" :closable=\"false\" :mask-closable=\"false\" :width=\"500\">\r\n        <Form ref=\"resultForm\" :model=\"resultForm\" :label-width=\"200\" :rules=\"resultValidate\">\r\n            <table id=\"table\">\r\n            <thead>\r\n                <tr>\r\n                <th :width=\"100\">名称</th>\r\n                <th :width=\"100\">备注</th>\r\n                <th :width=\"100\">是否成功标识</th>\r\n                <th><Button  @click=\"insertResult\" :width=\"200\" type=\"primary\" icon=\"md-add\"></Button></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"(item, index) in queryResultListItems\" :key=\"index\">\r\n                <td :width=\"100\" style=\"text-align: center\">\r\n                    <input prop=\"fullName\" v-model=\"item.fullName\"  />\r\n                    <!-- <input v-model=\"item.id\" v-show=\"false\" value=\"item.id\" /> -->\r\n                </td>\r\n                <td :width=\"100\" style=\"text-align: center\">\r\n                    <input v-model=\"item.remark\" />\r\n                </td>\r\n                <td :width=\"100\" style=\"text-align: center\">\r\n                    <input type=\"checkbox\" v-model=\"item.successFlag\" />\r\n                </td>\r\n                <td><Button   @click=\"removeResult(index)\" type=\"primary\" icon=\"md-remove\"></Button></td>\r\n                </tr>\r\n            </tbody>\r\n            </table>\r\n        </Form>\r\n        <div slot=\"footer\">\r\n            <Button type=\"text\" @click=\"cancelResult\">取消</Button>\r\n            <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submitResult\">提交</Button>\r\n        </div>\r\n        </Modal>\r\n    <!-- 新增营销结果记录-end -->\r\n\r\n    <!--修改批次速率-开始--->\r\n    <Modal :title=\"batchMobileVisibleTitle\" v-model=\"batchMobileVisible\" :closable=\"false\" :mask-closable=\"false\" :width=\"500\" >\r\n        <Form ref=\"batchForm\" :model=\"batchForm\" :label-width=\"120\"  label-position=\"right\" style=\"width:450px\" >\r\n            <FormItem label=\"速率\" prop=\"outCallRate\">\r\n                <Input v-model=\"batchForm.outCallRate\" /><span>(1.0~4.0之间)</span>\r\n            </FormItem>\r\n        </Form>\r\n        <div slot=\"footer\">\r\n            <Button type=\"text\" @click=\"cancelBatch\">{{ $t(\"cancel\") }}</Button>\r\n            <Button type=\"primary\" :loading=\"checkCodeLoading\"  @click=\"submitaBatch\" >{{ $t(\"save\") }}</Button>\r\n        </div> \r\n      </Modal>\r\n      <!--修改批次速率-结束--->\r\n     \r\n    \r\n     <!--分配数据-开始-->\r\n      <Modal :title=\"assignModalTitle\"  :transfer=\"false\" v-model=\"assignModalVisible\" :closable=\"false\" style=\"z-index:100\" :mask-closable=\"false\" :width=\"1200\">\r\n      <Form ref=\"assignForm\" :model=\"assignForm\" :label-width=\"100\" >\r\n          <Row :gutter=\"24\" >\r\n            <Col span=\"7\">\r\n              <FormItem label=\"分配工号\" prop=\"seatUserIds\">\r\n                <Input v-model=\"assignForm.seatUserIds\" style=\"width:140px\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"7\">\r\n              <FormItem label=\"任务名称\" prop=\"taskName\">\r\n                <Input v-model=\"assignForm.taskName\" style=\"width:140px\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"7\">\r\n              <FormItem label=\"批次名称\" prop=\"batchName\">\r\n                <Input v-model=\"assignForm.batchName\" style=\"width:140px\" />\r\n              </FormItem>\r\n            </Col>\r\n            <Button type=\"primary\" :loading=\"submitLoading\" icon=\"ios-search\"  @click=\"submitBacthImport\">检索</Button>\r\n          </Row>\r\n          <Row :gutter=\"24\">\r\n            <Col span=\"7\">\r\n              <FormItem label=\"选择数据\" prop=\"chooseType\">\r\n                <Select v-model=\"assignForm.chooseType\" style=\"width:140px\">\r\n                  <Option  value=\"1\">检索结果</Option>\r\n                  <Option  value=\"2\">点选分配</Option>\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"7\">\r\n              <FormItem label=\"分配数\" prop=\"assignNum\">\r\n                <Input v-model=\"assignForm.assignNum\"  style=\"width:140px\"/>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"7\">\r\n              <FormItem label=\"分配方式\" prop=\"assignType\">\r\n                <Select v-model=\"assignForm.assignType\" style=\"width:140px\">\r\n                  <Option  value=\"1\">平均分配</Option>\r\n                  <Option  value=\"2\">指定数量分配</Option>\r\n                  <Option  value=\"3\">按比例分配</Option>\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Button type=\"primary\" :loading=\"submitLoading\" icon=\"md-add\"  @click=\"submitBacthImport\">分配坐席</Button>\r\n          </Row>\r\n          <div style=\"width:500px;display: inline-block;\">\r\n          <!--清单数据--> \r\n          <Row >    \r\n            <Table\r\n              :loading=\"loading\"\r\n              :columns=\"columnsDetail\"\r\n              :data=\"dataDetail\"\r\n              sortable=\"title\"\r\n              ref=\"tableDetail\"\r\n            ></Table>\r\n          </Row>\r\n          <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page\r\n              :current=\"searchDetailForm.pageNumber\"\r\n              :total=\"totalDetail\"\r\n              :page-size=\"searchDetailForm.pageSize\"\r\n              @on-change=\"changeDetailPage\"\r\n              @on-page-size-change=\"changeDetailPageSize\"\r\n              :page-size-opts=\"[10, 20, 50]\"\r\n              size=\"small\"\r\n              show-total\r\n              show-elevator\r\n              show-sizer\r\n            ></Page>\r\n          </Row>\r\n          </div>\r\n          <div style=\"width:500px;float:right;display: inline-block;\">\r\n          <!--坐席分配-->\r\n          <Row>\r\n            <Table\r\n              :loading=\"loading\"\r\n              :columns=\"columnsTask\"\r\n              :data=\"dataTask\"\r\n              sortable=\"title\"\r\n              ref=\"tableDetail\"\r\n            ></Table>\r\n          </Row>\r\n          <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page\r\n              :current=\"searchTaskForm.pageNumber\"\r\n              :total=\"totalTask\"\r\n              :page-size=\"searchTaskForm.pageSize\"\r\n              @on-change=\"changeTaskPage\"\r\n              @on-page-size-change=\"changeTaskPageSize\"\r\n              :page-size-opts=\"[10, 20, 50]\"\r\n              size=\"small\"\r\n              show-total\r\n              show-elevator\r\n              show-sizer\r\n            ></Page>\r\n          </Row>\r\n          </div>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"cancelAssignTask\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" v-show=\"subEdit\" @click=\"submitBacthImport\">提交</Button>\r\n      </div>\r\n    </Modal>\r\n\r\n      <!--任务记录-->\r\n      <Modal :title=\"modalTaskTitle\"  v-model=\"modalTaskVisible\" :mask-closable=\"false\"  :width=\"800\" >\r\n          <Row>\r\n            <Table\r\n              :loading=\"loading\"\r\n              :columns=\"columnsTask\"\r\n              :data=\"dataTask\"\r\n              sortable=\"title\"\r\n              ref=\"tableDetail\"\r\n            ></Table>\r\n          </Row>\r\n          <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page\r\n              :current=\"searchTaskForm.pageNumber\"\r\n              :total=\"totalTask\"\r\n              :page-size=\"searchTaskForm.pageSize\"\r\n              @on-change=\"changeTaskPage\"\r\n              @on-page-size-change=\"changeTaskPageSize\"\r\n              :page-size-opts=\"[10, 20, 50]\"\r\n              size=\"small\"\r\n              show-total\r\n              show-elevator\r\n              show-sizer\r\n            ></Page>\r\n          </Row>\r\n          <div slot=\"footer\">\r\n            <Button type=\"text\" @click=\"clearTask\">取消</Button>\r\n            <Button type=\"primary\" :loading=\"submitTaskLoading\" @click=\"handelTaskSubmit\">确定</Button>\r\n          </div>\r\n      </Modal>\r\n      <!--批次记录-->\r\n      <Modal :title=\"modalBatchTitle\"  v-model=\"modalBatchVisible\" :mask-closable=\"false\"  :width=\"800\" >\r\n          <Row>\r\n            <Table\r\n              :loading=\"loading\"\r\n              :columns=\"columnsBatch\"\r\n              :data=\"dataBatch\"\r\n              sortable=\"title\"\r\n              ref=\"tableDetail\"\r\n            ></Table>\r\n          </Row>\r\n          <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page\r\n              :current=\"searchBatchForm.pageNumber\"\r\n              :total=\"totalBatch\"\r\n              :page-size=\"searchBatchForm.pageSize\"\r\n              @on-change=\"changeBatchPage\"\r\n              @on-page-size-change=\"changeBatchPageSize\"\r\n              :page-size-opts=\"[10, 20, 50]\"\r\n              size=\"small\"\r\n              show-total\r\n              show-elevator\r\n              show-sizer\r\n            ></Page>\r\n          </Row>\r\n          <div slot=\"footer\">\r\n            <Button type=\"text\" @click=\"clearBatch\">取消</Button>\r\n            <Button type=\"primary\" :loading=\"submitBatchLoading\" @click=\"handelBatchSubmit\">确定</Button>\r\n          </div>\r\n      </Modal>\r\n     <!--分配数据-结束-->\r\n\r\n\r\n\r\n    <!-- 根据任务数据回收-start -->\r\n    <Modal :title=\"recycleModalTitle\"  :transfer=\"false\" v-model=\"recycleModalVisible\" :closable=\"false\" style=\"z-index:100\" :mask-closable=\"false\" :width=\"900\">\r\n      <Form ref=\"recycleForm\" :model=\"recycleForm\" :label-width=\"140\" >\r\n          <Row :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"开始时间\" prop=\"startDate\">\r\n                <DatePicker v-model=\"recycleForm.startDate\" format=\"yyyy-MM-dd\" @on-change=\"changeStartDate\" type=\"date\" ></DatePicker>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"结束时间\" prop=\"endDate\">\r\n               <DatePicker v-model=\"recycleForm.endDate\" format=\"yyyy-MM-dd\" @on-change=\"changeEndDate\" type=\"date\" ></DatePicker>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"批次名称\" prop=\"batchId\">\r\n                <Select v-model=\"recycleForm.batchId\">\r\n                <Option v-for=\"item in batchList\" :value=\"item.id\" :key=\"item.id\"   :label=\"item.batchName\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.batchName }}</span>\r\n                </Option>\r\n              </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"呼叫状态\" prop=\"callStatus\">\r\n                <Select v-model=\"recycleForm.callStatus\">\r\n                  <Option value=\"0\">未执行</Option>\r\n                  <Option value=\"1\">待后续</Option>\r\n                  <Option value=\"2\">已完成</Option>\r\n                </Select>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"呼叫结果\" prop=\"callResult\">\r\n                <Select v-model=\"recycleForm.callResult\" >\r\n                <Option v-for=\"item in this.$store.state.dict.callResult\" :value=\"item.value\" :key=\"item.id\" :label=\"item.title\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.title }}</span>\r\n                </Option>\r\n              </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"营销结果\" prop=\"marketingResult\">\r\n                 <Select v-model=\"recycleForm.marketingResult\" >\r\n                  <Option v-for=\"item in marketingResultList\" :value=\"item.fullName\" :key=\"item.fullName\" :label=\"item.fullName\" >\r\n                    <span style=\"margin-right:10px;\">{{ item.fullName }}</span>\r\n                  </Option>\r\n                 </Select>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n           <Row :gutter=\"36\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"回收坐席\" prop=\"recycleUser\">\r\n                 <Input v-model=\"recycleForm.recycleUser\" v-show=\"false\" />\r\n                  <user-recycle  @click=\"submitRecycleUser\" ref=\"user\" style=\"display: inline-block;\"></user-recycle>  \r\n              </Select>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"分配坐席\" prop=\"assignUser\">\r\n                  <Input v-model=\"recycleForm.assignUser\" v-show=\"false\" />\r\n                  <user-assign @click=\"submitAssignUser\" ref=\"user\" style=\"display: inline-block;\"></user-assign>  \r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"cancelRecycle\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" v-show=\"subEdit\" @click=\"submitRecycle\">提交</Button>\r\n      </div>\r\n    </Modal>\r\n    <!-- 根据任务数据回收-end -->\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getBlackListGroups,\r\n    getBlackList,\r\n    editBlackListGroups,\r\n    delBlackListGroups,\r\n    editBlackList,\r\n    delBlackList,\r\n    getCallTaskAllLists,   //获取任务记录数据\r\n    getResultAllLists,     //根据类型获取营销结果数据\r\n    insertMarketingResult, //新增公共营销结果数据\r\n    getWorktimeGroups,    //获取时间组\r\n    getRelayGroupList,    //获取中继组\r\n    getRelayPhoneList,     //获取中继号码\r\n    submitCallTask,\r\n    getCallTaskBatchAllLists,  //获取任务批次数据\r\n    validateTaskNameById,\r\n    deleteCallTaskById,\r\n    getCallTaskBatchAllPageLists,\r\n    fileDetailUpload,\r\n    submitStateCallTaskBatch,\r\n    submitDisplayCallTask,\r\n    submitCallTaskBatch,\r\n    submitRecycle\r\n} from \"@/api/index\";\r\nimport userChoose from \"@/views/sys/out-call/user-choose\";\r\nimport userRecycle from \"@/views/sys/out-call/user-recycle\";\r\nimport userAssign from \"@/views/sys/out-call/user-assign\";\r\nimport { detailImportColumns, detailData } from \"@/libs/importCallTaskDetail\";\r\nimport excel from \"@/libs/excel\";\r\nexport default {\r\n  components: {\r\n    userChoose,\r\n    userAssign,\r\n    userRecycle\r\n  },\r\n  name: \"blacklistManage\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      activeName: \"基本信息\",\r\n      batchMobileVisibleTitle:\"\",    \r\n      batchMobileVisible:false,\r\n      area: 86,\r\n      openSearch:false,\r\n      modalType: 0,\r\n      modalTitle:\"\",\r\n      callTaskList:[],   //任务记录结果集\r\n      batchCount:0,\r\n      editTaskState:false,\r\n      subEdit:true,\r\n      taskModalVisible: false,\r\n      batchModalVisible:false,\r\n      batchTypeDisplay:false,\r\n      seatUserDisplay:true,\r\n      ivrDisplay:false,\r\n      batchModalTitle:\"\",\r\n      blackListItems:[],\r\n      WorkTimeListItems:[],\r\n      relayGroupListItems:[],\r\n      relayPhoneListItems:[],\r\n      selectUsers: [],\r\n      selectPhone:true,\r\n      validateName:false,\r\n      importList:{},\r\n      importLoading: false, // 导入加载状态\r\n      taskId:\"\",\r\n      taskForm: {\r\n        taskName: \"\",\r\n        maxChannel: \"\",\r\n        startTime: \"\",\r\n        endTime: \"\"\r\n      },\r\n      batchForm:{\r\n          batchType:\"1\"\r\n      },\r\n      taskFormValidate: {\r\n        taskName: [{ required: true, message: \"任务名称不能为空\", trigger: \"blur\" }],\r\n        // maxChannel: [{ required: true, message: \"最大通道数不能为空\", trigger: \"blur\" }],\r\n        // startTime: [{ required: true, message: \"开始时间不能为空\", trigger: \"change\" }],\r\n        // endTime: [{ required: true, message: \"结束时间不能为空\", trigger: \"change\" }]\r\n      },\r\n      resultTitle:\"\",\r\n      resultModalVisible:false,\r\n      resultForm:{},\r\n      queryResultListItems:[],\r\n      resultValidate:{\r\n         fullName: [{ required: true, message: \"名称不能为空\", trigger: \"blur\" }]\r\n      },\r\n      resultParams:{},\r\n      uploadfile: {\r\n        name: \"\",\r\n      },\r\n\r\n      recycleModalTitle:\"任务数据回收\",\r\n      recycleModalVisible:false,\r\n      recycleForm:{\r\n           startDate:\"\",\r\n           endDate:\"\",  \r\n           batchId:\"\", \r\n           callStatus:\"\", \r\n           callResult:\"\", \r\n           marketingResult:\"\"\r\n      },\r\n      marketingResultList: [],\r\n      batchList:[],\r\n\r\n      assignModalTitle:\"\",\r\n      assignModalVisible:false,\r\n      assignForm:{\r\n          chooseType:\"1\",\r\n          assignType:\"1\"\r\n      },\r\n\r\n      columnsDetail:[\r\n          {\r\n            type: \"index\",\r\n            width: 60,\r\n            align: \"center\",\r\n          },\r\n          {  title: \"批次名称\", key: \"batchName\", minWidth: 120},\r\n          {  title: \"创建时间\", key: \"createTime\", minWidth: 120},\r\n          {  title: \"呼叫结果\", key: \"callResult\", minWidth: 120},\r\n          {  title: \"号码\", key: \"moblieNumber\", minWidth: 120}\r\n      ],   \r\n      dataDetail:[],\r\n      searchDetailForm:{\r\n           pageNumber: 1, // 当前页数\r\n           pageSize: 10, // 页面大小\r\n           sort: \"create_time\", // 默认排序字段\r\n           order: \"desc\" // 默认排序方式\r\n      },  \r\n      totalDetail:0,\r\n\r\n\r\n      submitBatchLoading:false,\r\n      modalBatchTitle:\"\",\r\n      modalBatchVisible:false,\r\n      columnsBatch:[\r\n        {\r\n            type: \"index\",\r\n            width: 60,\r\n            align: \"center\",\r\n        },\r\n        {  title: \"批次名称\", key: \"batchName\", minWidth: 120},\r\n        {  title: \"创建时间\", key: \"createTime\", minWidth: 120},\r\n        {  title: \"批次类型\", key: \"batchType\", minWidth: 120}\r\n      ],\r\n      dataBatch:[],\r\n      totalBatch:0,\r\n      searchBatchForm: {\r\n            pageNumber: 1, // 当前页数\r\n            pageSize: 10, // 页面大小\r\n            sort: \"create_time\", // 默认排序字段\r\n            order: \"desc\" // 默认排序方式\r\n      },\r\n\r\n\r\n      submitTaskLoading:false,\r\n      modalTaskTitle:\"\",\r\n      modalTaskVisible:false,\r\n      columnsTask:[\r\n        {\r\n            type: \"index\",\r\n            width: 60,\r\n            align: \"center\",\r\n        },\r\n        {  title: \"任务名称\", key: \"taskName\", minWidth: 120},\r\n        {  title: \"创建时间\", key: \"createTime\", minWidth: 120},\r\n        {  title: \"任务类型\", key: \"taskType\", minWidth: 120},\r\n        {  title: \"备注\", key: \"remark\", minWidth: 120},\r\n        {  title: \"数据总量\", key: \"totalNum\", minWidth: 120},\r\n        {  title: \"未分配数量\", key: \"unAssign\", minWidth: 120},\r\n        {  title: \"未拨打数量\", key: \"unCall\", minWidth: 120}\r\n      ],\r\n      dataTask:[],\r\n      totalTask:0,\r\n      searchTaskForm: {\r\n            pageNumber: 1, // 当前页数\r\n            pageSize: 10, // 页面大小\r\n            sort: \"create_time\", // 默认排序字段\r\n            order: \"desc\" // 默认排序方式\r\n      },\r\n\r\n\r\n\r\n      ownSpaceLeftItem: 1,\r\n      selectCount:0,\r\n      batchDataList:[],\r\n      columns: [\r\n            {\r\n                type: \"selection\",\r\n                width: 60,\r\n                align: \"center\",\r\n            },\r\n            {\r\n                title: \"批次名称\", \r\n                key: \"batchName\",\r\n                minwidth: 120\r\n            },\r\n            {\r\n                title: \"外呼速率\", \r\n                key: \"outCallRate\",\r\n                minwidth: 120\r\n            },\r\n            {\r\n                title: \"添加时间\", \r\n                key: \"createTime\",\r\n                minwidth: 120\r\n            },\r\n            {\r\n                title: \"显示状态\", \r\n                key: \"batchState\",\r\n                minwidth: 120,\r\n                render: (h, params) => {\r\n                  if (params.row.batchState == \"0\") {\r\n                    return h(\"span\", [\r\n                      h(\"span\", \"暂停\")\r\n                    ]);\r\n                  } else if (params.row.batchState == \"1\") {\r\n                    return h(\"span\", [\r\n                      h(\"span\", \"启动\")\r\n                    ]);\r\n                  } \r\n                }\r\n            },\r\n            {\r\n                title: \"呼叫类型\", \r\n                key: \"batchType\",\r\n                minwidth: 120,\r\n                render: (h, params) => {\r\n                  if (params.row.batchType == \"1\") {\r\n                    return h(\"span\", [\r\n                      h(\"span\", \"预览式外呼\")\r\n                    ]);\r\n                  } else if (params.row.batchType == \"2\") {\r\n                    return h(\"span\", [\r\n                      h(\"span\", \"预测外呼\")\r\n                    ]);\r\n                  } else if (params.row.batchType == \"3\") {\r\n                    return h(\"span\", [\r\n                      h(\"span\", \"自动外呼\")\r\n                    ]);\r\n                  } else if (params.row.batchType == \"5\") {\r\n                    return h(\"span\", [\r\n                      h(\"span\", \"智能外呼\")\r\n                    ]);\r\n                  }\r\n                }\r\n            },\r\n            {\r\n                title: \"备注\", \r\n                key: \"remark\",\r\n                minwidth: 120,\r\n            },\r\n            {\r\n                title: this.$t(\"operation\"), //操作\r\n                key: \"active\",\r\n                width: 170,\r\n                fixed: \"right\",\r\n                tooltip: true,\r\n                render: (h, params) => {\r\n                  let state = \"\";\r\n                  let display = \"\";\r\n                  if(params.row.batchState == \"1\"){\r\n                      state = h('Tooltip',{props: {\r\n                                placement: 'top',\r\n                                transfer: true\r\n                            }},[h(\r\n                            \"Icon\",\r\n                            {\r\n                                props: {\r\n                                    type: \"ios-pause\",\r\n                                    size: \"\",\r\n                                },\r\n                                style: { marginRight: \"5px\",fontSize:'18px',cursor: 'pointer' },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.editState(0, params.row);\r\n                                    },\r\n                                },\r\n                            },\r\n                            this.$t(\"play\")\r\n                        ),h('span', {\r\n                            slot: 'content',\r\n                            style: {\r\n                                whiteSpace: 'normal'\r\n                            }\r\n                        }, '暂停')])\r\n                    }else{\r\n                      state = h('Tooltip',{props: {\r\n                                placement: 'top',\r\n                                transfer: true\r\n                            }},[h(\r\n                            \"Icon\",\r\n                            {\r\n                                props: {\r\n                                    type: \"ios-play\",\r\n                                    size: \"\",\r\n                                },\r\n                                style: { marginRight: \"5px\",fontSize:'18px',cursor: 'pointer' },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.editState(1, params.row);\r\n                                    },\r\n                                },\r\n                            },\r\n                            this.$t(\"play\")\r\n                        ),h('span', {\r\n                            slot: 'content',\r\n                            style: {\r\n                                whiteSpace: 'normal'\r\n                            }\r\n                        }, '启动')])\r\n                    }\r\n\r\n                    if(params.row.batchDisplay == \"1\"){\r\n                      display = h('Tooltip',{props: {\r\n                                placement: 'top',\r\n                                transfer: true\r\n                            }},[h(\r\n                            \"Icon\",\r\n                            {\r\n                                props: {\r\n                                    type: \"ios-pause\",\r\n                                    size: \"\",\r\n                                },\r\n                                style: { marginRight: \"5px\",fontSize:'18px',cursor: 'pointer' },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.editDisplay(0,params.row.id,'');\r\n                                    },\r\n                                },\r\n                            },\r\n                            this.$t(\"play\")\r\n                        ),h('span', {\r\n                            slot: 'content',\r\n                            style: {\r\n                                whiteSpace: 'normal'\r\n                            }\r\n                        }, '隐藏')])\r\n                    }else{\r\n                      display = h('Tooltip',{props: {\r\n                                placement: 'top',\r\n                                transfer: true\r\n                            }},[h(\r\n                            \"Icon\",\r\n                            {\r\n                                props: {\r\n                                    type: \"ios-play\",\r\n                                    size: \"\",\r\n                                },\r\n                                style: { marginRight: \"5px\",fontSize:'18px',cursor: 'pointer' },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.editDisplay(1,params.row.id,'');\r\n                                    },\r\n                                },\r\n                            },\r\n                            this.$t(\"play\")\r\n                        ),h('span', {\r\n                            slot: 'content',\r\n                            style: {\r\n                                whiteSpace: 'normal'\r\n                            }\r\n                        }, '显示')])\r\n                    }\r\n\r\n                    return h(\"div\", [\r\n                        //编辑\r\n                        h('Tooltip',{props: {\r\n                                placement: 'top',\r\n                                transfer: true\r\n                            }},[h(\r\n                            \"Icon\",\r\n                            {\r\n                                props: {\r\n                                    type: \"ios-create-outline\",\r\n                                    size: \"\",\r\n                                },\r\n                                style: { marginRight: \"5px\",fontSize:'18px',cursor: 'pointer' },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.rowBatchEdit(params.row);\r\n                                    },\r\n                                },\r\n                            },\r\n                            this.$t(\"play\")\r\n                        ),h('span', {\r\n                            slot: 'content',\r\n                            style: {\r\n                                whiteSpace: 'normal'\r\n                            }\r\n                        }, '编辑')]),\r\n\r\n\r\n                        //删除\r\n                        h('Tooltip',{props: {\r\n                                placement: 'top',\r\n                                transfer: true\r\n                            }},[h(\r\n                            \"Icon\",\r\n                            {\r\n                                props: {\r\n                                    type: \"ios-trash-outline\",\r\n                                    size: \"\",\r\n                                },\r\n                                style: { marginRight: \"5px\",fontSize:'18px',cursor: 'pointer' },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.rowDel(params.row);\r\n                                    },\r\n                                },\r\n                            },\r\n                            this.$t(\"play\")\r\n                        ),h('span', {\r\n                            slot: 'content',\r\n                            style: {\r\n                                whiteSpace: 'normal'\r\n                            }\r\n                        }, '删除')]),\r\n                        state,\r\n                        display\r\n                    ]);\r\n                },\r\n            },\r\n        ],\r\n        searchForm: {\r\n            pageNumber: 1, // 当前页数\r\n            pageSize: 10, // 页面大小\r\n            sort: \"ctb.create_time\", // 默认排序字段\r\n            order: \"desc\" // 默认排序方式\r\n        },\r\n        total: 0,\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getCallTaskList();\r\n    },\r\n    //获取任务记录列表数据\r\n    getCallTaskList(){\r\n        getCallTaskAllLists({}).then((res) => {\r\n            if (res.success) {\r\n               this.callTaskList = res.result.list;\r\n               if(this.callTaskList.length > 0){\r\n                  this.clickItem(this.callTaskList[0]);\r\n               }\r\n               \r\n            }\r\n        });\r\n    },\r\n    clickItem(item){\r\n        this.importList = item;\r\n        this.taskId=item.id;\r\n        this.getbatchList(item.id);\r\n       // this.handleReset();\r\n    },\r\n    //获取批次列表\r\n    getbatchList(id) {\r\n        var serarchForm={};\r\n        for(var i in this.searchForm){\r\n            if(this.searchForm[i]!=\"\"){\r\n                serarchForm[i]=this.searchForm[i];\r\n            }\r\n        }\r\n        if(id==undefined){\r\n            serarchForm.taskId=this.taskId;\r\n        }else {\r\n            serarchForm.taskId=id;\r\n        }\r\n        getCallTaskBatchAllPageLists(serarchForm).then((res) => {\r\n            if (res.success) {\r\n                this.batchDataList=res.result.list;\r\n                this.total = res.result.total;\r\n            }\r\n        });\r\n    },\r\n    showSelect(e) {\r\n          this.selectCount = e.length;\r\n          this.selectList = e;\r\n    },\r\n    changePage(v) {\r\n          this.searchForm.pageNumber = v;\r\n          //this.getBlackList(this.groupId);\r\n    },\r\n    changePageSize(v) {\r\n          this.searchForm.pageSize = v;\r\n          //this.getBlackList(this.groupId);\r\n    },\r\n    //搜索\r\n    handleSearch() {\r\n          this.searchForm.pageNumber = 1;\r\n          this.searchForm.pageSize = 10;\r\n          this.getbatchList(this.taskId);\r\n    },\r\n    //重置\r\n    handleReset() {\r\n          this.$refs.searchForm.resetFields();\r\n          this.searchForm.pageNumber = 1;\r\n          this.searchForm.pageSize = 10;\r\n    },\r\n    //新增\r\n    addBacthDetailList(){\r\n          this.batchModalVisible = true;\r\n          this.batchModalTitle = \"数据管理\";\r\n          this.uploadfile = { name: \"\" };\r\n    },\r\n    //导入\r\n    importBlackList(){\r\n        this.importBlackListMobileVisible=true;\r\n    },\r\n    //编辑\r\n    rowEdit(V) {\r\n          for (var i in V) {\r\n              if (i == null) {\r\n                  V[i] = \"\";\r\n              }\r\n          }\r\n          V = JSON.stringify(V);\r\n          V = JSON.parse(V);\r\n\r\n          if(V.delFlag==0){\r\n              V.delFlag=\"有效\";\r\n          }\r\n          V.type=V.type.toString();\r\n          this.blackListForm=V;\r\n          this.blackListMobileVisible = true;\r\n    },\r\n    //删除\r\n    rowDel(v) {\r\n          this.$Modal.confirm({\r\n              title: \"确认删除\", \r\n              content: \"删除批次当前批次清单数据一并也会删除,您确认要删除 \" +v.batchName +\" ?\", \r\n              onOk: () => {\r\n                  deleteCallTaskById({\r\n                      batchId: v.id\r\n                  }).then(res => {\r\n                      if (res.success) {\r\n                          this.$Message.success(this.$t(\"success\"));\r\n                          this.getbatchList(this.taskId);\r\n                      }\r\n                  });\r\n              },\r\n          });\r\n    },\r\n    clearSelectAll() {\r\n          this.$refs.table.selectAll(false);\r\n    },\r\n    cancelResult(){\r\n       this.queryResultListItems = [];\r\n       this.resultModalVisible = false;\r\n    },\r\n    removeResult(index) {\r\n      this.queryResultListItems.splice(index, 1);\r\n    },\r\n    insertResult() {\r\n      this.queryResultListItems.push({successFlag:0,id:\"\",fullName:\"\",remark:\"\"});\r\n    },\r\n    getResultAll(isPublic,taskId,type) {\r\n      this.resultParams[\"isPublic\"] = isPublic;\r\n      this.resultParams[\"taskId\"] = taskId;\r\n      getResultAllLists({isPublic:isPublic,taskId:taskId}).then((res) => {\r\n        if (res.success) {\r\n          if(1==type){\r\n            this.resultModalVisible = true;\r\n            this.resultTitle = \"配置营销结果\";\r\n          }\r\n          this.queryResultListItems = res.result.list;\r\n        }\r\n      });\r\n    },\r\n    submitResult() {\r\n      if(this.queryResultListItems!=null && this.queryResultListItems!=''){\r\n        var result = this.queryResultListItems;\r\n        for (var i = 0; i < result.length; i++) {\r\n          if (result[i].fullName == \"\" || result[i].fullName == null) {\r\n            this.$Message.warning(\"名称不能为空\");\r\n            return;\r\n          }\r\n          if(result[i].successFlag == true){\r\n              result[i].successFlag = 1;\r\n          }\r\n        }\r\n        this.resultParams[\"list\"] = JSON.stringify(result);\r\n        insertMarketingResult(this.resultParams).then(res => {\r\n          this.submitLoading = false;\r\n          if (res.success) {\r\n            this.$Message.success(\"操作成功\");\r\n            this.queryResultListItems = [];\r\n            this.resultParams = [];\r\n            this.resultModalVisible = false;\r\n          }\r\n        });\r\n      }else{\r\n         this.queryResultListItems = [];\r\n         this.resultParams = [];\r\n         this.resultModalVisible = false;\r\n      }\r\n    },\r\n    getBlackAll() {  //获取黑名单组\r\n      getBlackListGroups({}).then((res) => {\r\n        if (res.success) {\r\n          this.blackListItems = res.result;\r\n        }\r\n      });\r\n    },\r\n    getWorktimetAll() {  //获取时间组\r\n      getWorktimeGroups({}).then((res) => {\r\n        if (res.success) {\r\n          this.WorkTimeListItems = res.result;\r\n        }\r\n      });\r\n    },\r\n    getRelayGroupAll() { //获取中继组\r\n      getRelayGroupList({}).then((res) => {\r\n        if (res.success) {\r\n          this.relayGroupListItems = res.result.list;\r\n        }\r\n      });\r\n    },\r\n    getRelayPhoneAll() { //获取中继号码\r\n      var relayGroupId = \"\";\r\n      if(this.taskForm.relayGroupId){\r\n          relayGroupId = this.taskForm.relayGroupId;\r\n      }\r\n      getRelayPhoneList({blackMark:1,workMode:1,relayGroupId:relayGroupId}).then((res) => {\r\n        if (res.success) {\r\n          this.relayPhoneListItems = [];\r\n          this.relayPhoneListItems = res.result.list;\r\n        }\r\n      });\r\n    },\r\n    getRelayPhoneAllDisabled() { //获取中继号码\r\n      if(this.taskForm.relayPhoneMode == 2){\r\n        this.selectPhone = false;\r\n      }else{\r\n        this.selectPhone = true;\r\n      }\r\n      getRelayPhoneList({blackMark:1,workMode:1,relayGroupId:\"\"}).then((res) => {\r\n        if (res.success) {\r\n          this.taskForm.relayPhoneId = \"\";\r\n          this.relayPhoneListItems = [];\r\n          this.relayPhoneListItems = res.result.list;\r\n        }\r\n      });\r\n    },\r\n    getBatchTypeDisplay() { //根据批次类型显示隐藏列\r\n      if(this.batchForm.batchType == 1){\r\n        this.seatUserDisplay = true;\r\n        this.batchTypeDisplay = false;\r\n        this.ivrDisplay = false;\r\n      }\r\n      if(this.batchForm.batchType == 2){\r\n        this.seatUserDisplay = false;\r\n        this.batchTypeDisplay = true;\r\n        this.ivrDisplay = true;\r\n      }\r\n      if(this.batchForm.batchType == 3){\r\n        this.seatUserDisplay = false;\r\n        this.batchTypeDisplay = false;\r\n        this.ivrDisplay = true;\r\n      }\r\n      if(this.batchForm.batchType == 5){\r\n        this.seatUserDisplay = false;\r\n        this.batchTypeDisplay = false;\r\n        this.ivrDisplay = false;\r\n      }\r\n    },\r\n    addTask() {\r\n      this.modalType = 0;\r\n      this.$refs.taskForm.resetFields();\r\n      this.taskForm = [];\r\n      this.taskModalVisible = true;\r\n      this.modalTitle = \"新增任务\";\r\n      this.selectPhone = false;\r\n      this.subEdit = true;\r\n      this.getResultAll(\"1\",\"\",\"0\");\r\n      this.getBlackAll();\r\n      this.getWorktimetAll();\r\n      this.getRelayGroupAll();\r\n      this.getRelayPhoneAll();\r\n    },\r\n    cancelTask() {\r\n      this.taskModalVisible = false;\r\n      this.editTaskState = false;\r\n      this.selectPhone = false;\r\n      this.subEdit = true;\r\n      this.queryResultListItems = [];\r\n    },\r\n    cancelDetailTask() {\r\n      this.$refs.batchForm.resetFields();\r\n      this.batchModalVisible = false;\r\n      this.batchForm = {batchType:\"1\",seatUserIds:\"\"};\r\n      this.seatUserDisplay = true;\r\n      this.batchTypeDisplay = false;\r\n      this.ivrDisplay = false;\r\n    },\r\n    submitTask() {\r\n        var params = {}; \r\n        if(!this.taskForm.taskName){\r\n          this.$Message.warning(\"任务名称不能为空\");\r\n          return;\r\n        }\r\n        // else{\r\n        //     this.validateTaskName(this.taskForm.id,this.taskForm.taskName);\r\n        // }\r\n        // console.log(this.validateName);\r\n        // if(this.validateName){\r\n        //    this.$Message.warning(\"任务名称已存在!\");\r\n        //    return;\r\n        // }\r\n\r\n        if(!this.taskForm.maxChannel){\r\n          this.$Message.warning(\"最大通道数不能为空\");\r\n          return;\r\n        }\r\n        if(!this.taskForm.blackGroupId){\r\n          this.$Message.warning(\"免呼组不能为空\");\r\n          return;\r\n        }\r\n        if(!this.taskForm.relayGroupId){\r\n          this.$Message.warning(\"中继组不能为空\");\r\n          return;\r\n        }\r\n        if(!this.taskForm.relayPhoneMode){\r\n          this.$Message.warning(\"主叫号码规则不能为空\");\r\n          return;\r\n        }else{\r\n          if(this.taskForm.relayPhoneMode == 2){\r\n              if(!this.taskForm.relayPhoneId){\r\n                this.$Message.warning(\"主叫号码不能为空\");\r\n                return;\r\n              }\r\n          }\r\n        }\r\n        if(!this.taskForm.workTimeGroupId){\r\n          this.$Message.warning(\"时间组不能为空\");\r\n          return;\r\n        }\r\n        this.taskForm.startTime =  this.dateFormat(this.taskForm.startTime);\r\n        this.taskForm.endTime =  this.dateFormat(this.taskForm.endTime);\r\n        params = this.taskForm;\r\n        console.log(params);\r\n        var result = this.queryResultListItems;\r\n        if(result.length <= 0){\r\n            this.$Message.warning(\"营销结果配置不能为空,至少配置一项\");\r\n            return;\r\n        }else{\r\n          for (var i = 0; i < result.length; i++) {\r\n            if (result[i].fullName == \"\" || result[i].fullName == null) {\r\n              this.$Message.warning(\"营销结果名称不能为空\");\r\n              return;\r\n            }\r\n            if(result[i].successFlag == true){\r\n                result[i].successFlag = 1;\r\n            }\r\n          }\r\n          params[\"list\"] = JSON.stringify(result);\r\n        }\r\n        this.submitLoading = true;\r\n        params[\"taskState\"] = 0;\r\n        params[\"taskType\"] = 1;\r\n        params[\"taskDisplay\"] = 1;\r\n        params[\"maxCallCount\"] = 0;\r\n        if(this.modalType == 0){\r\n          params[\"id\"] = 0;\r\n        }\r\n        params[\"modalType\"] = this.modalType;\r\n        submitCallTask(params).then(res => {\r\n          this.submitLoading = false;\r\n          if (res.success) {\r\n            this.$Message.success(\"操作成功\");\r\n            this.taskForm = {};\r\n            this.queryResultListItems = [];\r\n            this.taskModalVisible = false;\r\n            this.getCallTaskList();\r\n          }\r\n        });\r\n    },\r\n    dateFormat(dateData) {\r\n      var date = new Date(dateData)\r\n      var y = date.getFullYear()\r\n      var m = date.getMonth() + 1\r\n      m = m < 10 ? ('0' + m) : m\r\n      var d = date.getDate()\r\n      d = d < 10 ? ('0' + d) : d\r\n      const time = y + '-' + m + '-' + d +\" \"+ date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();\r\n      return time\r\n    },\r\n    editTask(v) {\r\n      // 转换null为\"\"\r\n      for (let attr in v) {\r\n        if (v[attr] == null) {\r\n          delete v[attr];\r\n        }\r\n        if(attr==\"relayPhoneMode\"){\r\n          v[attr] = v[attr]+\"\";\r\n          if(v[attr] == \"2\"){\r\n            this.selectPhone = false;\r\n          }\r\n        }\r\n        if(attr==\"blackGroupId\"){\r\n          v[attr] = parseInt(v[attr]);\r\n        }\r\n        if(attr==\"workTimeGroupId\"){\r\n          v[attr] = parseInt(v[attr]);\r\n        }\r\n      }\r\n      this.modalType = 1;\r\n      this.taskModalVisible = true;\r\n      this.modalTitle = \"编辑任务\";\r\n      this.$refs.taskForm.resetFields();\r\n      let str = JSON.stringify(v);\r\n      let data = JSON.parse(str);\r\n      this.getResultAll(\"0\",data.id,\"0\");\r\n      this.getBlackAll();\r\n      this.getWorktimetAll();\r\n      this.getRelayGroupAll();\r\n      this.getRelayPhoneAll();\r\n      this.taskForm = data;\r\n      console.log(this.taskForm);\r\n      this.getBatchCount(data.id,\"1\");   \r\n    },\r\n    //删除任务记录数据\r\n    callTaskDelClick(v){\r\n        this.$Modal.confirm({\r\n              title: \"确认删除\",\r\n              content: \"删除任务会把当前任务下的批次清单数据一并删除,您确认要删除 \" + v.taskName + \" ?\",\r\n              onOk: () => {\r\n                    deleteCallTaskById({taskId:v.id}).then(res=>{\r\n                        if(res.success){\r\n                            this.$Message.success(\"操作成功\");\r\n                            this.getCallTaskList();\r\n                        }\r\n                    })\r\n              }\r\n        }); \r\n    },\r\n    getBatchCount(taskId,type) { //获取批次信息\r\n      var batchType = \"\";\r\n      if(type==\"2\"){\r\n        batchType = \"1\";\r\n      }\r\n      getCallTaskBatchAllLists({taskId:taskId,batchType:batchType}).then((res) => {\r\n        if (res.success) {\r\n          if(type==\"1\"){\r\n            if(this.modalType == 1 && res.result.total > 0){\r\n              this.editTaskState = true;\r\n              this.subEdit = false;\r\n              this.selectPhone = true;\r\n              this.modalTitle = \"编辑任务(当前任务下存在\"+res.result.total+\"个批次不允许编辑)\";\r\n            }\r\n          }else{\r\n            this.batchList = res.result.list;\r\n          }\r\n          \r\n        }\r\n      });\r\n    },\r\n    beforeUploadImport(file) {\r\n      const fileExt = file.name.split(\".\").pop().toLocaleLowerCase();\r\n      if (fileExt == \"xlsx\" || fileExt == \"xls\") {\r\n       this.uploadfile = file;\r\n      } else {\r\n        this.$Notice.warning({\r\n          title: \"文件类型错误\",\r\n          desc:\r\n            \"所选文件‘ \" +\r\n            file.name +\r\n            \" ’不是EXCEL文件，请选择后缀为.xlsx或者.xls的EXCEL文件。\",\r\n        });\r\n      }\r\n      return false;\r\n    },\r\n    downloadTemple() {\r\n      let title = [];\r\n      let key = [];\r\n      detailImportColumns.forEach((e) => {\r\n        title.push(e.title);\r\n        key.push(e.key);\r\n      });\r\n      const params = {\r\n        title: title,\r\n        key: key,\r\n        data: detailData,\r\n        autoWidth: true,\r\n        filename: \"导入数据模版\",\r\n      };\r\n      excel.export_array_to_excel(params);\r\n    },\r\n    handleSelectUser(v) {\r\n      this.selectUsers = v;\r\n    },\r\n    submitUser(v){\r\n      let ids = \"\";\r\n      v.forEach(function(e) {\r\n        ids += e.id + \",\";\r\n      });\r\n      ids = ids.substring(0, ids.length - 1);\r\n      this.batchForm.seatUserIds = ids;\r\n    },\r\n    submitBacthImport(){\r\n      var zipFormData = new FormData();\r\n      zipFormData.append(\"file\", this.uploadfile); //file要和@RequestParam(\"file\")MultipartFile file对应好\r\n      zipFormData.append(\"taskId\", this.importList.id);\r\n      zipFormData.append(\"relayPhoneMode\", this.importList.relayPhoneMode);\r\n      zipFormData.append(\"relayPhoneId\", this.importList.relayPhoneId);\r\n      zipFormData.append(\"relayGroupId\", this.importList.relayGroupId);\r\n      zipFormData.append(\"batchName\", this.batchForm.batchName);\r\n      zipFormData.append(\"batchType\", this.batchForm.batchType);\r\n      if(this.batchForm.batchType==1){\r\n        zipFormData.append(\"seatUserIds\", this.batchForm.seatUserIds);\r\n      }\r\n      if(this.batchForm.batchType==2){\r\n        zipFormData.append(\"ivrFlowId\", this.batchForm.ivrFlowId);\r\n        zipFormData.append(\"outCallRate\", this.batchForm.outCallRate);\r\n        zipFormData.append(\"autoCallCount\", this.batchForm.autoCallCount);\r\n        zipFormData.append(\"recallInterval\", this.batchForm.recallInterval);\r\n      }\r\n      if(this.batchForm.batchType==3){\r\n         zipFormData.append(\"ivrFlowId\", this.batchForm.ivrFlowId);\r\n      }\r\n      zipFormData.append(\"batchPrefix\", this.batchForm.batchPrefix);\r\n      zipFormData.append(\"removal\", this.batchForm.removal);\r\n      this.importLoading = true;\r\n      fileDetailUpload(zipFormData).then((res) => {\r\n        if (res.success) {\r\n          this.importLoading = false;\r\n          this.batchModalVisible = false;\r\n          this.batchForm = {batchType:\"1\"};\r\n          this.seatUserDisplay = true;\r\n          this.batchTypeDisplay = false;\r\n          this.ivrDisplay = false;\r\n          this.$Message.success(res.message);\r\n          this.getbatchList(this.taskId);\r\n        }\r\n      });\r\n    },\r\n    editState(enabled, v) {\r\n      let operation = \"\";\r\n      if (enabled == \"1\") {\r\n        operation = \"启动\";\r\n      } else {\r\n        operation = \"暂停\";\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认\" + operation,\r\n        content: `您确认要${operation} ${v.batchName}?`,\r\n        loading: true,\r\n        onOk: () => {\r\n          var params = {};\r\n          params[\"taskId\"] = v.taskId;\r\n          params[\"batchId\"] = v.id;\r\n          params[\"taskState\"] = v.taskState;\r\n          params[\"batchState\"] = enabled;\r\n          submitStateCallTaskBatch(params).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getCallTaskList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    editDisplay(display,batchId,taskId) {\r\n          var params = {};\r\n          params[\"display\"] = display;\r\n          params[\"batchId\"] = batchId;\r\n          params[\"taskId\"] = taskId;\r\n          submitDisplayCallTask(params).then(res => {\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getCallTaskList();\r\n            }\r\n          });\r\n    },\r\n    //编辑\r\n    rowBatchEdit(V) {\r\n        this.batchForm.batchId = V.id;\r\n        this.batchForm.outCallRate = V.outCallRate;\r\n        this.batchMobileVisible = true;\r\n        this.batchMobileVisibleTitle=\"编辑批次\";\r\n    },\r\n    submitaBatch(){\r\n        if(parseFloat(this.batchForm.outCallRate).toFixed(1) < 1.0 || parseFloat(this.batchForm.outCallRate).toFixed(1) > 4.0){\r\n              this.$Message.warning(\"预测外呼速率输入的值请在1.0~4.0之间。\");\r\n              return;\r\n        }\r\n        var params = {};\r\n        params[\"batchId\"] = this.batchForm.batchId;\r\n        params[\"outCallRate\"] = this.batchForm.outCallRate;\r\n        this.submitLoading = true;\r\n        submitCallTaskBatch(params).then(res => {\r\n          this.submitLoading = false;\r\n          if (res.success) {\r\n            this.getbatchList(this.taskId);\r\n            this.batchForm.outCallRate = \"\";\r\n            this.batchForm.batchId = \"\";\r\n            this.batchMobileVisible = false;\r\n          }\r\n        });\r\n    },\r\n    btnDataAssign(){\r\n       this.assignModalTitle=\"数据分配\";\r\n       this.assignModalVisible=true;\r\n    },\r\n    cancelBatch(){\r\n       this.batchForm.outCallRate = \"\";\r\n       this.batchForm.batchId = \"\";\r\n       this.batchMobileVisible = false;\r\n    },\r\n    changeBatchPage(v){\r\n         this.searchBatchForm.pageNumber = v;\r\n    },\r\n    changeBatchPageSize(v){\r\n         this.searchBatchForm.pageSize = v;\r\n    },\r\n    clearBatch(){\r\n         this.modalBatchVisible=false;\r\n         this.totalBatch=0;\r\n         this.dataBatch=[];\r\n         this.$refs.searchBatchForm.resetFields();\r\n    },\r\n    handelBatchSubmit(){\r\n\r\n    },\r\n    changeTaskPage(v){\r\n         this.searchTaskForm.pageNumber = v;\r\n    },\r\n    changeTaskPageSize(v){\r\n         this.searchTaskForm.pageSize = v;\r\n    },\r\n    clearTask(){\r\n         this.modalTaskVisible=false;\r\n         this.totalTask=0;\r\n         this.dataTask=[];\r\n         this.$refs.searchTaskForm.resetFields();\r\n    },\r\n    handelTaskSubmit(){\r\n\r\n    },\r\n    changeStartDate(v) {\r\n      this.recycleForm.startDate = v;\r\n    },\r\n    changeEndDate(v) {\r\n      this.recycleForm.endDate = v;\r\n    },\r\n    btnDataRecycle(){\r\n        this.recycleModalVisible=true;\r\n        this.batchList = [];\r\n        this.marketingResultList = [];\r\n        this.recycleForm.startDate = this.addDate();\r\n        this.recycleForm.endDate = this.addDate();\r\n        this.getBatchCount(this.taskId,\"2\");\r\n        this.getRecycleResultAll();\r\n    },\r\n    addDate(toDay) {\r\n      let nowDate = \"\";\r\n      if(toDay){\r\n        nowDate = toDay;\r\n      }else{\r\n        nowDate = new Date();\r\n      }\r\n      let date = {\r\n        year: nowDate.getFullYear(),\r\n        month: nowDate.getMonth() + 1,\r\n        date: nowDate.getDate()\r\n      }\r\n      let month = date.month < 10 ? '0'+date.month:date.month;\r\n      let day = date.date < 10 ? '0'+date.date:date.date;\r\n      let systemTime = date.year + '-' + month + '-' + day;\r\n      return systemTime;\r\n    },\r\n    getRecycleResultAll() {\r\n      getResultAllLists({isPublic:0,taskId:this.taskId}).then((res) => {\r\n        if (res.success) {\r\n          this.marketingResultList = res.result.list;\r\n        }\r\n      });\r\n    },\r\n    cancelRecycle(){\r\n        this.$refs.recycleForm.resetFields();\r\n        this.recycleModalVisible=false;\r\n        this.batchList = [];\r\n        this.marketingResultList = [];\r\n    }, \r\n    submitRecycle(){\r\n          if(!this.recycleForm.batchId){\r\n              this.$Message.warning(\"批次名称不能为空!\");\r\n              return;\r\n          }\r\n          if(!this.recycleForm.startDate || !this.recycleForm.endDate){\r\n              this.$Message.warning(\"开始,结束日期不能为空!\");\r\n              return;\r\n          }\r\n          if(!this.recycleForm.recycleUser){\r\n              this.$Message.warning(\"回收坐席不能为空!\");\r\n              return;\r\n          }\r\n          if(!this.recycleForm.assignUser){\r\n              this.$Message.warning(\"分配坐席不能为空!\");\r\n              return;\r\n          }\r\n          var formdata={};\r\n          for(var i in this.recycleForm){\r\n            if(this.recycleForm[i] != null && this.recycleForm[i] !=\"\"){\r\n              if(i==\"startDate\" || i==\"endDate\"){\r\n                 formdata[i] = this.addDate(this.recycleForm[i]);  \r\n              }else{\r\n                 formdata[i] = this.recycleForm[i];  \r\n              }\r\n              \r\n            }\r\n          }\r\n          formdata[\"taskId\"] = this.taskId;\r\n          console.log(formdata);\r\n          submitRecycle(formdata).then((res) => {\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.$refs.recycleForm.resetFields();\r\n              this.recycleModalVisible=false;\r\n              this.batchList = [];\r\n              this.marketingResultList = [];\r\n            }\r\n          });\r\n    },\r\n    submitRecycleUser(v){\r\n      let ids = \"\";\r\n      v.forEach(function(e) {\r\n        ids += e.id + \",\";\r\n      });\r\n      ids = ids.substring(0, ids.length - 1);\r\n      this.recycleForm.recycleUser = ids;\r\n    },\r\n    submitAssignUser(v){\r\n      let ids = \"\";\r\n      v.forEach(function(e) {\r\n        ids += e.id + \",\";\r\n      });\r\n      ids = ids.substring(0, ids.length - 1);\r\n      this.recycleForm.assignUser = ids;\r\n    },\r\n    cancelAssignTask() {\r\n      this.$refs.assignForm.resetFields();\r\n      this.assignModalTitle=\"分配数据\";\r\n      this.assignModalVisible = false;\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n    let type = this.$route.query.type;\r\n    if (type == \"social\") {\r\n      this.activeName = \"第三方账号绑定\";\r\n      this.currMenu = \"第三方账号绑定\";\r\n    }\r\n    this.init();\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  computed: {},\r\n};\r\n</script>\r\n"]}]}