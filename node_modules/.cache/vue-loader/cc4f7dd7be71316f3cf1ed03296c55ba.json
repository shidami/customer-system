{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\Main.vue","mtime":1614579763201},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc2hyaW5rYWJsZU1lbnUgZnJvbSAiLi9tYWluLWNvbXBvbmVudHMvc2hyaW5rYWJsZS1tZW51L3Nocmlua2FibGUtbWVudS52dWUiOw0KaW1wb3J0IHRhZ3NQYWdlT3BlbmVkIGZyb20gIi4vbWFpbi1jb21wb25lbnRzL3RhZ3MtcGFnZS1vcGVuZWQudnVlIjsNCmltcG9ydCBicmVhZGNydW1iTmF2IGZyb20gIi4vbWFpbi1jb21wb25lbnRzL2JyZWFkY3J1bWItbmF2LnZ1ZSI7DQppbXBvcnQgZnVsbFNjcmVlbiBmcm9tICIuL21haW4tY29tcG9uZW50cy9mdWxsc2NyZWVuLnZ1ZSI7DQppbXBvcnQgbG9ja1NjcmVlbiBmcm9tICIuL21haW4tY29tcG9uZW50cy9sb2Nrc2NyZWVuL2xvY2tzY3JlZW4udnVlIjsNCmltcG9ydCBtZXNzYWdlVGlwIGZyb20gIi4vbWFpbi1jb21wb25lbnRzL21lc3NhZ2UtdGlwLnZ1ZSI7DQppbXBvcnQgY2lyY2xlTG9hZGluZyBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMveGJvb3QvY2lyY2xlLWxvYWRpbmcudnVlIjsNCi8vIGltcG9ydCB0b29sYmFyIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy90b29sYmFyL3Rvb2xiYXIudnVlIg0KaW1wb3J0IG9jeERpYWxUb29sQmFyIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy9vY3hEaWFsVG9vbEJhci9vY3hEaWFsVG9vbEJhci52dWUiDQppbXBvcnQgQ29va2llcyBmcm9tICJqcy1jb29raWUiOw0KaW1wb3J0IHV0aWwgZnJvbSAiQC9saWJzL3V0aWwuanMiOw0KaW1wb3J0IHsgd3MsIGdldE1lc3NhZ2VTZW5kRGF0YSwgZ2V0T3RoZXJTZXQgfSBmcm9tICJAL2FwaS9pbmRleCI7DQppbXBvcnQgU29ja0pTIGZyb20gInNvY2tqcy1jbGllbnQiOw0KaW1wb3J0IFN0b21wIGZyb20gInN0b21wanMiOw0KdmFyIGNsaWVudDsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIHNocmlua2FibGVNZW51LA0KICAgIHRhZ3NQYWdlT3BlbmVkLA0KICAgIGJyZWFkY3J1bWJOYXYsDQogICAgZnVsbFNjcmVlbiwNCiAgICBsb2NrU2NyZWVuLA0KICAgIG1lc3NhZ2VUaXAsDQogICAgY2lyY2xlTG9hZGluZywNCiAgICAgIG9jeERpYWxUb29sQmFyDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNsaWNlTnVtOiAzLA0KICAgICAgc2hyaW5rOiBmYWxzZSwNCiAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgIHVzZXJJZDogIiIsDQogICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlLA0KICAgICAgb3BlbmVkU3VibWVudUFycjogdGhpcy4kc3RvcmUuc3RhdGUuYXBwLm9wZW5lZFN1Ym1lbnVBcnIsDQogICAgICBmaXJzdFRocmVlTmF2OiBbXSwNCiAgICAgIGxhc3ROYXY6IFtdLA0KICAgICAgbmF2VHlwZTogMSwNCiAgICAgICAgdXNlckluZm9EYXRhOnt9DQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBsb2FkaW5nKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5sb2FkaW5nOw0KICAgIH0sDQogICAgbmF2TGlzdCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAubmF2TGlzdDsNCiAgICB9LA0KICAgIGN1cnJOYXYoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLmN1cnJOYXY7DQogICAgfSwNCiAgICBjdXJyTmF2VGl0bGUoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLmN1cnJOYXZUaXRsZTsNCiAgICB9LA0KICAgIG1lbnVMaXN0KCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5tZW51TGlzdDsNCiAgICB9LA0KICAgIHBhZ2VUYWdzTGlzdCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAucGFnZU9wZW5lZExpc3Q7IC8vIOaJk+W8gOeahOmhtemdoueahOmhtemdouWvueixoQ0KICAgIH0sDQogICAgY3VycmVudFBhdGgoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLmN1cnJlbnRQYXRoOyAvLyDlvZPliY3pnaLljIXlsZHmlbDnu4QNCiAgICB9LA0KICAgIGF2YXRhclBhdGgoKSB7DQogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmF2YXRvckltZ1BhdGg7DQogICAgfSwNCiAgICBjYWNoZVBhZ2UoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLmNhY2hlUGFnZTsNCiAgICB9LA0KICAgIGxhbmcoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLmxhbmc7DQogICAgfSwNCiAgICBtZW51VGhlbWUoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLm1lbnVUaGVtZTsNCiAgICB9LA0KICAgIG1lc0NvdW50KCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5tZXNzYWdlQ291bnQ7DQogICAgfQ0KICB9LA0KICBzdG9tcENsaWVudDogew0KICAgIG1vbml0b3JJbnRlcnZhbFRpbWU6IDEwMCwNCiAgICBzdG9tcFJlY29ubmVjdDogdHJ1ZSwNCiAgICB0aW1lb3V0KG9yZ0NtZCkge30NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXQoKSB7DQogICAgICAvLyDoj5zljZUNCiAgICAgIGxldCBwYXRoQXJyID0gdXRpbC5zZXRDdXJyZW50UGF0aCh0aGlzLCB0aGlzLiRyb3V0ZS5uYW1lKTsNCiAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlTWVudWxpc3QiKTsNCiAgICAgIGlmIChwYXRoQXJyLmxlbmd0aCA+PSAyKSB7DQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiYWRkT3BlblN1Ym1lbnUiLCBwYXRoQXJyWzFdLm5hbWUpOw0KICAgICAgfQ0KICAgICAgbGV0IHVzZXJJbmZvID0gSlNPTi5wYXJzZShDb29raWVzLmdldCgidXNlckluZm8iKSk7DQogICAgICB0aGlzLnVzZXJJbmZvRGF0YT11c2VySW5mbzsNCiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VySW5mby5uaWNrbmFtZTsNCiAgICAgIHRoaXMudXNlcklkID0gdXNlckluZm8uaWQ7DQogICAgICB0aGlzLmNoZWNrVGFnKHRoaXMuJHJvdXRlLm5hbWUpOw0KICAgICAgbGV0IGN1cnJXaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7DQogICAgICBpZiAoY3VycldpZHRoIDw9IDEyMDApIHsNCiAgICAgICAgdGhpcy5zbGljZU51bSA9IDI7DQogICAgICB9DQogICAgICAvLyDor7vlj5bmnKror7vmtojmga/mlbANCiAgICAgIGdldE1lc3NhZ2VTZW5kRGF0YSh7DQogICAgICAgIHVzZXJJZDogdXNlckluZm8uaWQsDQogICAgICAgIHN0YXR1czogMA0KICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldE1lc3NhZ2VDb3VudCIsIHJlcy5yZXN1bHQudG90YWxFbGVtZW50cyk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgLy8g5raI5oGv5byA5YWzIHdlYnNvY2tldA0KICAgICAgbGV0IG1lc3NhZ2VPcGVuID0gdGhpcy5nZXRTdG9yZSgibWVzc2FnZU9wZW4iKTsNCiAgICAgIGlmIChtZXNzYWdlT3BlbiAhPSAiMCIpIHsNCiAgICAgICAgdGhpcy5jb25uZWN0KCk7DQogICAgICB9DQogICAgfSwNCiAgICBjb25uZWN0KCkgew0KICAgICAgdmFyIGhlYWRlcnMgPSB7fTsNCiAgICAgIGNsaWVudCA9IFN0b21wLm92ZXIobmV3IFNvY2tKUyh3cykpOw0KICAgICAgY2xpZW50LmNvbm5lY3QoaGVhZGVycywgdGhpcy5vbkNvbm5lY3RlZCwgdGhpcy5vbkZhaWxlZCk7DQogICAgfSwNCiAgICBvbkNvbm5lY3RlZChmcmFtZSkgew0KICAgICAgY29uc29sZS5sb2coIui/nuaOpXdz5oiQ5YqfOiAiICsgZnJhbWUpOw0KICAgICAgdmFyIHRvcGljU3Vic2NyaXB0aW9uID0gY2xpZW50LnN1YnNjcmliZSgNCiAgICAgICAgIi90b3BpYy9zdWJzY3JpYmUiLA0KICAgICAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2sNCiAgICAgICk7DQogICAgICB2YXIgcXVldWVTdWJzY3JpcHRpb24gPSBjbGllbnQuc3Vic2NyaWJlKA0KICAgICAgICAiL3VzZXIvIiArIHRoaXMudXNlcklkICsgIi9xdWV1ZS9zdWJzY3JpYmUiLA0KICAgICAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2sNCiAgICAgICk7DQogICAgfSwNCiAgICBvbkZhaWxlZChmcmFtZSkgew0KICAgICAgY29uc29sZS5sb2coIui/nuaOpXdz5aSx6LSl77yaICIgKyBKU09OLnN0cmluZ2lmeShmcmFtZSkpOw0KICAgIH0sDQogICAgcmVzcG9uc2VDYWxsYmFjayhmcmFtZSkgew0KICAgICAgY29uc29sZS5sb2coIuaUtuWIsOa2iOaBr++8miIgKyBmcmFtZS5ib2R5KTsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TWVzc2FnZUNvdW50IiwgdGhpcy5tZXNDb3VudCArIDEpOw0KICAgIH0sDQogICAgc2VsZWN0TmF2KG5hbWUpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q3Vyck5hdiIsIG5hbWUpOw0KICAgICAgdGhpcy5zZXRTdG9yZSgiY3Vyck5hdiIsIG5hbWUpOw0KICAgICAgLy8g5riF56m65omA5pyJ5bey5omT5byA5qCH562+DQogICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoImNsZWFyQWxsVGFncyIpOw0KICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgIT0gImhvbWVfaW5kZXgiKSB7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBuYW1lOiAiaG9tZV9pbmRleCINCiAgICAgICAgfSk7DQogICAgICB9DQogICAgICB1dGlsLmluaXRSb3V0ZXIodGhpcyk7DQogICAgfSwNCiAgICB0b2dnbGVDbGljaygpIHsNCiAgICAgIHRoaXMuc2hyaW5rID0gIXRoaXMuc2hyaW5rOw0KICAgIH0sDQogICAgaGFuZGxlTGFuRHJvcGRvd24obmFtZSkgew0KICAgICAgdGhpcy4kaTE4bi5sb2NhbGUgPSBuYW1lOw0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzd2l0Y2hMYW5nIiwgbmFtZSk7DQogICAgfSwNCiAgICBoYW5kbGVDbGlja1VzZXJEcm9wZG93bihuYW1lKSB7DQogICAgICBpZiAobmFtZSA9PSAib3duU3BhY2UiKSB7DQogICAgICAgIHV0aWwub3Blbk5ld1BhZ2UodGhpcywgIm93bnNwYWNlX2luZGV4Iik7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICBuYW1lOiAib3duc3BhY2VfaW5kZXgiDQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIGlmIChuYW1lID09ICJjaGFuZ2VQYXNzIikgew0KICAgICAgICB1dGlsLm9wZW5OZXdQYWdlKHRoaXMsICJjaGFuZ2VfcGFzcyIpOw0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgbmFtZTogImNoYW5nZV9wYXNzIg0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAibG9naW5vdXQiKSB7DQogICAgICAgIC8vIOmAgOWHuueZu+W9lQ0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldExvYWRpbmciLCB0cnVlKTsNCiAgICAgICAgZ2V0T3RoZXJTZXQoKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOw0KICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7DQogICAgICAgICAgICBsZXQgZG9tYWluID0gcmVzLnJlc3VsdC5zc29Eb21haW47DQogICAgICAgICAgICBDb29raWVzLnNldCgiYWNjZXNzVG9rZW4iLCAiIiwgew0KICAgICAgICAgICAgICBkb21haW46IGRvbWFpbiwNCiAgICAgICAgICAgICAgZXhwaXJlczogNw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9nb3V0IiwgdGhpcyk7DQogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjbGVhck9wZW5lZFN1Ym1lbnUiKTsNCiAgICAgICAgICB0aGlzLnNldFN0b3JlKCJhY2Nlc3NUb2tlbiIsICIiKTsNCiAgICAgICAgICAvLyDlvLrliLbliLfmlrDpobXpnaIg6YeN5paw5Yqg6L29cm91dGVyDQogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2hlY2tUYWcobmFtZSkgew0KICAgICAgbGV0IG9wZW5wYWdlSGFzVGFnID0gdGhpcy5wYWdlVGFnc0xpc3Quc29tZShpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PSBuYW1lKSB7DQogICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgaWYgKCFvcGVucGFnZUhhc1RhZykgew0KICAgICAgICAvLyAg6Kej5Yaz5YWz6Zet5b2T5YmN5qCH562+5ZCO5YaN54K55Ye75Zue6YCA5oyJ6ZKu5Lya6YCA5Yiw5b2T5YmN6aG15pe25rKh5pyJ5qCH562+55qE6Zeu6aKYDQogICAgICAgIHV0aWwub3Blbk5ld1BhZ2UoDQogICAgICAgICAgdGhpcywNCiAgICAgICAgICBuYW1lLA0KICAgICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcyB8fCB7fSwNCiAgICAgICAgICB0aGlzLiRyb3V0ZS5xdWVyeSB8fCB7fQ0KICAgICAgICApOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlU3VibWVudUNoYW5nZSh2YWwpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHZhbCkNCiAgICB9LA0KICAgIGJlZm9yZVB1c2gobmFtZSkgew0KICAgICAgLy8gY29uc29sZS5sb2cobmFtZSkNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgZnVsbHNjcmVlbkNoYW5nZShpc0Z1bGxTY3JlZW4pIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGlzRnVsbFNjcmVlbik7DQogICAgfSwNCiAgICByZXNpemUoKSB7DQogICAgICBsZXQgY3VycldpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsNCiAgICAgIGlmIChjdXJyV2lkdGggPD0gMTIwMCAmJiBjdXJyV2lkdGggPiA5MDApIHsNCiAgICAgICAgdGhpcy5zbGljZU51bSA9IDI7DQogICAgICAgIHRoaXMuc2hyaW5rID0gdHJ1ZTsNCiAgICAgIH0gZWxzZSBpZiAoY3VycldpZHRoIDw9IDkwMCkgew0KICAgICAgICB0aGlzLnNsaWNlTnVtID0gMTsNCiAgICAgICAgdGhpcy5zaHJpbmsgPSB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zbGljZU51bSA9IDM7DQogICAgICAgIHRoaXMuc2hyaW5rID0gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICRyb3V0ZSh0bykgew0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDdXJyZW50UGFnZU5hbWUiLCB0by5uYW1lKTsNCiAgICAgIGxldCBwYXRoQXJyID0gdXRpbC5zZXRDdXJyZW50UGF0aCh0aGlzLCB0by5uYW1lKTsNCiAgICAgIGlmIChwYXRoQXJyLmxlbmd0aCA+IDIpIHsNCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJhZGRPcGVuU3VibWVudSIsIHBhdGhBcnJbMV0ubmFtZSk7DQogICAgICB9DQogICAgICB0aGlzLmNoZWNrVGFnKHRvLm5hbWUpOw0KICAgICAgbG9jYWxTdG9yYWdlLmN1cnJlbnRQYWdlTmFtZSA9IHRvLm5hbWU7DQogICAgfSwNCiAgICBsYW5nKCkgew0KICAgICAgdXRpbC5zZXRDdXJyZW50UGF0aCh0aGlzLCB0aGlzLiRyb3V0ZS5uYW1lKTsgLy8g5Zyo5YiH5o2i6K+t6KiA5pe255So5LqO5Yi35paw6Z2i5YyF5bGRDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICAgIGxldCB0aGF0ID0gdGhpczsNCiAgICB0aGlzLnJlc2l6ZSgpOw0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBmdW5jdGlvbigpIHsNCiAgICAgIHRoYXQucmVzaXplKCk7DQogICAgfSk7DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8g5pi+56S65omT5byA55qE6aG16Z2i55qE5YiX6KGoDQogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRPcGVuZWRMaXN0Iik7DQogIH0NCn07DQo="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views","sourcesContent":["<style lang=\"less\">\r\n@import \"./main.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"main\" :class=\"{'main-hide-text': shrink}\">\r\n    <div\r\n      class=\"sidebar-menu-con menu-bar\"\r\n      :style=\"{width: shrink ? '60px' : '220px', overflow: shrink ? 'visible' : 'auto'}\"\r\n    >\r\n      <shrinkable-menu\r\n        :shrink=\"shrink\"\r\n        @on-change=\"handleSubmenuChange\"\r\n        :theme=\"menuTheme\"\r\n        :before-push=\"beforePush\"\r\n        :open-names=\"openedSubmenuArr\"\r\n        :menu-list=\"menuList\"\r\n      >\r\n        <div slot=\"top\" class=\"logo-con\" style=\"height: 65px;\">\r\n<!--          <img v-show=\"!shrink\" src=\"../assets/logo.png\" key=\"max-logo\" />\r\n          <img v-show=\"shrink\" src=\"../assets/logo-min.png\" key=\"min-logo\" /> -->\r\n        </div>\r\n      </shrinkable-menu>\r\n    </div>\r\n    <div class=\"main-header-con\" :style=\"{paddingLeft: shrink?'60px':'220px'}\">\r\n      <div class=\"main-header\">\r\n        <div class=\"navicon-con\">\r\n          <Button\r\n            :style=\"{transform: 'rotateZ(' + (this.shrink ? '-90' : '0') + 'deg)', height: '48px'}\"\r\n            type=\"text\"\r\n            @click=\"toggleClick\"\r\n          >\r\n            <Icon type=\"md-menu\" size=\"32\"></Icon>\r\n          </Button>\r\n        </div>\r\n        <div class=\"header-middle-con\">\r\n          <div class=\"main-breadcrumb\" v-if=\"navType==4\">\r\n            <breadcrumb-nav :currentPath=\"currentPath\"></breadcrumb-nav>\r\n          </div>\r\n          <div class=\"main-nav-menu\" v-if=\"navType==1||navType==2\">\r\n            <Menu mode=\"horizontal\" :active-name=\"currNav\" @on-select=\"selectNav\">\r\n              <MenuItem v-for=\"(item, i) in navList.slice(0, sliceNum)\" :key=\"i\" :name=\"item.name\">\r\n                <Icon :type=\"item.icon\" v-if=\"navType==1\" />\r\n                {{item.title}}\r\n              </MenuItem>\r\n              <Submenu name=\"sub\" v-if=\"navList.length>sliceNum\">\r\n                <template slot=\"title\">更多</template>\r\n                <MenuItem\r\n                  v-for=\"(item, i) in navList.slice(sliceNum, navList.length)\"\r\n                  :key=\"i\"\r\n                  :name=\"item.name\"\r\n                >\r\n                  <Icon :type=\"item.icon\" v-if=\"navType==1\" />\r\n                  {{item.title}}\r\n                </MenuItem>\r\n              </Submenu>\r\n            </Menu>\r\n          </div>\r\n          <div class=\"main-nav\" v-if=\"navType==3\">\r\n            <Dropdown transfer @on-click=\"selectNav\">\r\n              <div style=\"cursor: pointer\">\r\n                {{currNavTitle}}\r\n                <Icon type=\"ios-arrow-down\"></Icon>\r\n              </div>\r\n              <DropdownMenu slot=\"list\">\r\n                <DropdownItem\r\n                  v-for=\"(item, i) in navList\"\r\n                  :key=\"i\"\r\n                  :name=\"item.name\"\r\n                  :selected=\"currNav==item.name\"\r\n                >\r\n                  <div class=\"nav-item\">\r\n                    <Icon :type=\"item.icon\" :size=\"16\" style=\"margin: 0 10px 3px 0\"></Icon>\r\n                    {{item.title}}\r\n                  </div>\r\n                </DropdownItem>\r\n              </DropdownMenu>\r\n            </Dropdown>\r\n          </div>\r\n        </div>\r\n        <!--头部工具条-开始-->\r\n         <ocxDialToolBar :userInfoData=\"userInfoData\"></ocxDialToolBar>\r\n        <!--头部工具条-结束-->\r\n        <div :class=\"{'header-avator-con':navType!=4, 'header-avator-con nav4':navType==4}\">\r\n          <Dropdown @on-click=\"selectNav\" class=\"options\" v-if=\"navType==4\">\r\n            <Icon type=\"ios-apps\" :size=\"24\" class=\"language\"></Icon>\r\n            <DropdownMenu slot=\"list\">\r\n              <DropdownItem\r\n                v-for=\"(item, i) in navList\"\r\n                :key=\"i\"\r\n                :name=\"item.name\"\r\n                :selected=\"currNav==item.name\"\r\n              >\r\n                <div>\r\n                  <Icon :type=\"item.icon\" :size=\"14\" style=\"margin: 0 10px 2px 0\"></Icon>\r\n                  {{item.title}}\r\n                </div>\r\n              </DropdownItem>\r\n            </DropdownMenu>\r\n          </Dropdown>\r\n          <full-screen v-model=\"isFullScreen\" @on-change=\"fullscreenChange\"></full-screen>\r\n          <Dropdown @on-click=\"handleLanDropdown\" class=\"options\">\r\n            <Icon type=\"md-globe\" :size=\"24\" class=\"language\"></Icon>\r\n            <DropdownMenu slot=\"list\">\r\n              <DropdownItem name=\"zh-CN\">中文</DropdownItem>\r\n              <DropdownItem name=\"en-US\">English</DropdownItem>\r\n            </DropdownMenu>\r\n          </Dropdown>\r\n          <lock-screen></lock-screen>\r\n          <message-tip v-model=\"mesCount\"></message-tip>\r\n          <div class=\"user-dropdown-menu-con\">\r\n            <Row type=\"flex\" justify=\"end\" align=\"middle\" class=\"user-dropdown-innercon\">\r\n              <Dropdown transfer trigger=\"hover\" @on-click=\"handleClickUserDropdown\">\r\n                <a>\r\n                  <span class=\"main-user-name\">{{ username }}</span>\r\n                  <Icon type=\"md-arrow-dropdown\" />\r\n                  <Avatar :src=\"avatarPath\" style=\"background: #619fe7;margin-left: 10px;\"></Avatar>\r\n                </a>\r\n                <DropdownMenu slot=\"list\">\r\n                  <DropdownItem name=\"ownSpace\">{{ $t('userCenter') }}</DropdownItem>\r\n                  <DropdownItem name=\"changePass\">{{ $t('changePass') }}</DropdownItem>\r\n                  <DropdownItem name=\"loginout\" divided>{{ $t('logout') }}</DropdownItem>\r\n                </DropdownMenu>\r\n              </Dropdown>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"tags-con\">\r\n        <tags-page-opened :pageTagsList=\"pageTagsList\"></tags-page-opened>\r\n      </div>\r\n    </div>\r\n    <div class=\"single-page-con\" :style=\"{left: shrink?'60px':'220px'}\">\r\n      <div class=\"single-page\">\r\n        <keep-alive :include=\"cachePage\">\r\n          <router-view></router-view>\r\n        </keep-alive>\r\n      </div>\r\n    </div>\r\n    <!-- 全局加载动画 -->\r\n    <circleLoading class=\"loading-position\" v-show=\"loading\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport shrinkableMenu from \"./main-components/shrinkable-menu/shrinkable-menu.vue\";\r\nimport tagsPageOpened from \"./main-components/tags-page-opened.vue\";\r\nimport breadcrumbNav from \"./main-components/breadcrumb-nav.vue\";\r\nimport fullScreen from \"./main-components/fullscreen.vue\";\r\nimport lockScreen from \"./main-components/lockscreen/lockscreen.vue\";\r\nimport messageTip from \"./main-components/message-tip.vue\";\r\nimport circleLoading from \"@/views/my-components/xboot/circle-loading.vue\";\r\n// import toolbar from \"@/views/my-components/toolbar/toolbar.vue\"\r\nimport ocxDialToolBar from \"@/views/my-components/ocxDialToolBar/ocxDialToolBar.vue\"\r\nimport Cookies from \"js-cookie\";\r\nimport util from \"@/libs/util.js\";\r\nimport { ws, getMessageSendData, getOtherSet } from \"@/api/index\";\r\nimport SockJS from \"sockjs-client\";\r\nimport Stomp from \"stompjs\";\r\nvar client;\r\nexport default {\r\n  components: {\r\n    shrinkableMenu,\r\n    tagsPageOpened,\r\n    breadcrumbNav,\r\n    fullScreen,\r\n    lockScreen,\r\n    messageTip,\r\n    circleLoading,\r\n      ocxDialToolBar\r\n  },\r\n  data() {\r\n    return {\r\n      sliceNum: 3,\r\n      shrink: false,\r\n      username: \"\",\r\n      userId: \"\",\r\n      isFullScreen: false,\r\n      openedSubmenuArr: this.$store.state.app.openedSubmenuArr,\r\n      firstThreeNav: [],\r\n      lastNav: [],\r\n      navType: 1,\r\n        userInfoData:{}\r\n    };\r\n  },\r\n  computed: {\r\n    loading() {\r\n      return this.$store.state.app.loading;\r\n    },\r\n    navList() {\r\n      return this.$store.state.app.navList;\r\n    },\r\n    currNav() {\r\n      return this.$store.state.app.currNav;\r\n    },\r\n    currNavTitle() {\r\n      return this.$store.state.app.currNavTitle;\r\n    },\r\n    menuList() {\r\n      return this.$store.state.app.menuList;\r\n    },\r\n    pageTagsList() {\r\n      return this.$store.state.app.pageOpenedList; // 打开的页面的页面对象\r\n    },\r\n    currentPath() {\r\n      return this.$store.state.app.currentPath; // 当前面包屑数组\r\n    },\r\n    avatarPath() {\r\n      return localStorage.avatorImgPath;\r\n    },\r\n    cachePage() {\r\n      return this.$store.state.app.cachePage;\r\n    },\r\n    lang() {\r\n      return this.$store.state.app.lang;\r\n    },\r\n    menuTheme() {\r\n      return this.$store.state.app.menuTheme;\r\n    },\r\n    mesCount() {\r\n      return this.$store.state.app.messageCount;\r\n    }\r\n  },\r\n  stompClient: {\r\n    monitorIntervalTime: 100,\r\n    stompReconnect: true,\r\n    timeout(orgCmd) {}\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 菜单\r\n      let pathArr = util.setCurrentPath(this, this.$route.name);\r\n      // this.$store.commit(\"updateMenulist\");\r\n      if (pathArr.length >= 2) {\r\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\r\n      }\r\n      let userInfo = JSON.parse(Cookies.get(\"userInfo\"));\r\n      this.userInfoData=userInfo;\r\n      this.username = userInfo.nickname;\r\n      this.userId = userInfo.id;\r\n      this.checkTag(this.$route.name);\r\n      let currWidth = document.body.clientWidth;\r\n      if (currWidth <= 1200) {\r\n        this.sliceNum = 2;\r\n      }\r\n      // 读取未读消息数\r\n      getMessageSendData({\r\n        userId: userInfo.id,\r\n        status: 0\r\n      }).then(res => {\r\n        if (res.success) {\r\n          this.$store.commit(\"setMessageCount\", res.result.totalElements);\r\n        }\r\n      });\r\n      // 消息开关 websocket\r\n      let messageOpen = this.getStore(\"messageOpen\");\r\n      if (messageOpen != \"0\") {\r\n        this.connect();\r\n      }\r\n    },\r\n    connect() {\r\n      var headers = {};\r\n      client = Stomp.over(new SockJS(ws));\r\n      client.connect(headers, this.onConnected, this.onFailed);\r\n    },\r\n    onConnected(frame) {\r\n      console.log(\"连接ws成功: \" + frame);\r\n      var topicSubscription = client.subscribe(\r\n        \"/topic/subscribe\",\r\n        this.responseCallback\r\n      );\r\n      var queueSubscription = client.subscribe(\r\n        \"/user/\" + this.userId + \"/queue/subscribe\",\r\n        this.responseCallback\r\n      );\r\n    },\r\n    onFailed(frame) {\r\n      console.log(\"连接ws失败： \" + JSON.stringify(frame));\r\n    },\r\n    responseCallback(frame) {\r\n      console.log(\"收到消息：\" + frame.body);\r\n      this.$store.commit(\"setMessageCount\", this.mesCount + 1);\r\n    },\r\n    selectNav(name) {\r\n      this.$store.commit(\"setCurrNav\", name);\r\n      this.setStore(\"currNav\", name);\r\n      // 清空所有已打开标签\r\n      // this.$store.commit(\"clearAllTags\");\r\n      if (this.$route.name != \"home_index\") {\r\n        this.$router.push({\r\n          name: \"home_index\"\r\n        });\r\n      }\r\n      util.initRouter(this);\r\n    },\r\n    toggleClick() {\r\n      this.shrink = !this.shrink;\r\n    },\r\n    handleLanDropdown(name) {\r\n      this.$i18n.locale = name;\r\n      this.$store.commit(\"switchLang\", name);\r\n    },\r\n    handleClickUserDropdown(name) {\r\n      if (name == \"ownSpace\") {\r\n        util.openNewPage(this, \"ownspace_index\");\r\n        this.$router.push({\r\n          name: \"ownspace_index\"\r\n        });\r\n      } else if (name == \"changePass\") {\r\n        util.openNewPage(this, \"change_pass\");\r\n        this.$router.push({\r\n          name: \"change_pass\"\r\n        });\r\n      } else if (name == \"loginout\") {\r\n        // 退出登录\r\n        this.$store.commit(\"setLoading\", true);\r\n        getOtherSet().then(res => {\r\n          this.$store.commit(\"setLoading\", false);\r\n          if (res.result) {\r\n            let domain = res.result.ssoDomain;\r\n            Cookies.set(\"accessToken\", \"\", {\r\n              domain: domain,\r\n              expires: 7\r\n            });\r\n          }\r\n          this.$store.commit(\"logout\", this);\r\n          this.$store.commit(\"clearOpenedSubmenu\");\r\n          this.setStore(\"accessToken\", \"\");\r\n          // 强制刷新页面 重新加载router\r\n          location.reload();\r\n        });\r\n      }\r\n    },\r\n    checkTag(name) {\r\n      let openpageHasTag = this.pageTagsList.some(item => {\r\n        if (item.name == name) {\r\n          return true;\r\n        }\r\n      });\r\n      if (!openpageHasTag) {\r\n        //  解决关闭当前标签后再点击回退按钮会退到当前页时没有标签的问题\r\n        util.openNewPage(\r\n          this,\r\n          name,\r\n          this.$route.params || {},\r\n          this.$route.query || {}\r\n        );\r\n      }\r\n    },\r\n    handleSubmenuChange(val) {\r\n      // console.log(val)\r\n    },\r\n    beforePush(name) {\r\n      // console.log(name)\r\n      return true;\r\n    },\r\n    fullscreenChange(isFullScreen) {\r\n      // console.log(isFullScreen);\r\n    },\r\n    resize() {\r\n      let currWidth = document.body.clientWidth;\r\n      if (currWidth <= 1200 && currWidth > 900) {\r\n        this.sliceNum = 2;\r\n        this.shrink = true;\r\n      } else if (currWidth <= 900) {\r\n        this.sliceNum = 1;\r\n        this.shrink = true;\r\n      } else {\r\n        this.sliceNum = 3;\r\n        this.shrink = false;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.$store.commit(\"setCurrentPageName\", to.name);\r\n      let pathArr = util.setCurrentPath(this, to.name);\r\n      if (pathArr.length > 2) {\r\n        this.$store.commit(\"addOpenSubmenu\", pathArr[1].name);\r\n      }\r\n      this.checkTag(to.name);\r\n      localStorage.currentPageName = to.name;\r\n    },\r\n    lang() {\r\n      util.setCurrentPath(this, this.$route.name); // 在切换语言时用于刷新面包屑\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n    let that = this;\r\n    this.resize();\r\n    window.addEventListener(\"resize\", function() {\r\n      that.resize();\r\n    });\r\n  },\r\n  created() {\r\n    // 显示打开的页面的列表\r\n    this.$store.commit(\"setOpenedList\");\r\n  }\r\n};\r\n</script>\r\n"]}]}