{"remainingRequest":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\sys\\out-call\\callTaskDetail.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\src\\views\\sys\\out-call\\callTaskDetail.vue","mtime":1614579763381},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\shimin\\current project\\xrcc-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICIuLi8uLi8uLi9zdHlsZXMvdGFibGUtY29tbW9uLmxlc3MiOw0K"},{"version":3,"sources":["callTaskDetail.vue"],"names":[],"mappings":";AACA","file":"callTaskDetail.vue","sourceRoot":"src/views/sys/out-call","sourcesContent":["<style lang=\"less\">\r\n@import \"../../../styles/table-common.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n    <Card>\r\n      <Row v-show=\"openSearch\">\r\n        <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\">\r\n          <Row>\r\n          <FormItem label=\"任务名称\" prop=\"taskId\"> \r\n              <Select v-model=\"searchForm.taskId\" @on-change=\"getList()\" style=\"width: 150px\"  multiple>\r\n                <Option v-for=\"item in taskList\" :value=\"item.id\" :key=\"item.id\" :label=\"item.taskName\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.taskName }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"任务批次\" prop=\"batchId\">\r\n              <Select v-model=\"searchForm.batchId\" style=\"width: 150px\" multiple>\r\n                <Option v-for=\"item in batchList\" :value=\"item.id\" :key=\"item.id\"   :label=\"item.batchName\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.batchName }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"营销结果\" prop=\"marketingResult\">\r\n              <Select v-model=\"searchForm.marketingResult\" style=\"width: 150px\" multiple>\r\n                <Option v-for=\"item in marketingResultList\" :value=\"item.fullName\" :key=\"item.fullName\" :label=\"item.fullName\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.fullName }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"呼叫结果\" prop=\"callResult\">\r\n              <Select v-model=\"searchForm.callResult\" style=\"width:150px\" multiple>\r\n                <Option v-for=\"item in this.$store.state.dict.callResult\" :value=\"item.value\" :key=\"item.id\" :label=\"item.title\" >\r\n                  <span style=\"margin-right:10px;\">{{ item.title }}</span>\r\n                </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"分配坐席\" prop=\"seatUserIds\">\r\n              <Input v-model=\"searchForm.seatUserIds\" v-show=\"false\" />\r\n              <user-choose  @click=\"submitBatchUser\" ref=\"user\" style=\"display: inline-block;\"></user-choose>               \r\n          </FormItem>\r\n          <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n            <Button @click.native=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n            <Button @click=\"handleReset\">重置</Button>\r\n            <a class=\"drop-down\" @click=\"dropDown\">\r\n              {{dropDownContent}}\r\n              <Icon :type=\"dropDownIcon\"></Icon>\r\n            </a>\r\n          </Form-item>\r\n          </Row>\r\n          <span v-if=\"drop\">\r\n          <Row>\r\n          <Form-item label=\"手机号\" prop=\"mobileNumber\">\r\n              <Input  type=\"text\"  v-model=\"searchForm.mobileNumber\" clearable placeholder=\"请输入手机号\" style=\"width: 130px\" />\r\n          </Form-item>\r\n          <FormItem label=\"分配状态\" prop=\"allStarts\">\r\n              <Select v-model=\"searchForm.allStarts\" clearable placeholder=\"请选择\" style=\"width:120px\">\r\n                <Option  value=\"1\" >已分配</Option>\r\n                <Option  value=\"2\" >未分配</Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"回访状态\" prop=\"returnVisit\">\r\n              <Select v-model=\"searchForm.returnVisit\" clearable placeholder=\"请选择\" style=\"width:120px\">\r\n                <Option  value=\"1\" >待回访</Option>\r\n                <Option  value=\"2\" >已回访</Option>\r\n              </Select>\r\n          </FormItem>\r\n          <FormItem label=\"呼叫状态\" prop=\"callStatus\">\r\n              <Select v-model=\"searchForm.callStatus\" clearable style=\"width:120px\" multiple>\r\n                <Option  value=\"0\"  ><span style=\"margin-right:10px;\">未执行</span> </Option>\r\n                <Option  value=\"1\"  ><span style=\"margin-right:10px;\">待后续</span> </Option>\r\n                <Option  value=\"2\"  ><span style=\"margin-right:10px;\">已完成</span> </Option>\r\n              </Select>\r\n          </FormItem>\r\n          <Form-item label=\"创建时间\">\r\n            <DatePicker  v-model=\"selectDate\"  type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" \r\n              placeholder=\"选择起始时间\" style=\"width: 200px\" ></DatePicker>\r\n          </Form-item>\r\n          </Row>\r\n          </span>\r\n          \r\n        </Form>\r\n      </Row>\r\n      <Row class=\"operation\">\r\n        <Button type=\"dashed\" @click=\"openSearch=!openSearch\">{{openSearch ? \"关闭搜索\" : \"开启搜索\"}}</Button>\r\n        <Button type=\"primary\" icon=\"ios-search\" v-show=\"selectCount > 0  && selectCount < 2\" @click=\"getDetailDataList\">营销记录</Button>\r\n        \r\n        <Button type=\"primary\" icon=\"md-add\" v-show=\"selectCount > 0  && selectCount < 2\" @click=\"getInsertBlack\">添加黑名单</Button>\r\n        <Button @click=\"delAll\" v-show=\"selectCount > 0\" icon=\"md-trash\">批量删除</Button>\r\n      </Row>\r\n      <Row v-show=\"openTip && selectCount > 0\">\r\n        <Alert show-icon>\r\n          已选择\r\n          <span class=\"select-count\">{{selectCount}}</span> 项\r\n          <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n        </Alert>\r\n      </Row>\r\n      <Row>\r\n        <Table\r\n          :loading=\"loading\"\r\n          :columns=\"columns\"\r\n          :data=\"data\"\r\n          sortable=\"custom\"\r\n          @on-sort-change=\"changeSort\"\r\n          @on-selection-change=\"showSelect\"\r\n          ref=\"table\"\r\n        ></Table>\r\n      </Row>\r\n      <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n        <Page\r\n          :current=\"searchForm.pageNumber\"\r\n          :total=\"total\"\r\n          :page-size=\"searchForm.pageSize\"\r\n          @on-change=\"changePage\"\r\n          @on-page-size-change=\"changePageSize\"\r\n          :page-size-opts=\"[10,20,50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n        ></Page>\r\n      </Row>\r\n    </Card>\r\n\r\n      <!--添加黑名单-开始--->\r\n      <Modal :title=\"blackListMobileVisibleTitle\"\r\n              v-model=\"blackListMobileVisible\" :closable=\"false\" :mask-closable=\"false\" :width=\"500\">\r\n          <Form ref=\"blackListForm\" :model=\"blackListForm\" :label-width=\"120\" label-position=\"right\" style=\"width:450px\">\r\n              \r\n              <FormItem label=\"黑名单组\" prop=\"type\">\r\n                  <Select v-model=\"blackListForm.groupId\">\r\n                     <Option v-for=\"(item, index) in blackListItems\" :key=\"index\" :value=\"item.id\" >{{ item.name }}</Option>\r\n                  </Select>\r\n              </FormItem>\r\n              <FormItem label=\"手机号码\" prop=\"resource\">\r\n                  <Input  v-model=\"blackListForm.resource\" :disabled=\"true\" />\r\n              </FormItem>\r\n              <FormItem label=\"备注\" prop=\"remark\">\r\n                  <Input v-model=\"blackListForm.remark\"/>\r\n              </FormItem>\r\n          </Form>\r\n          <div slot=\"footer\">\r\n              <Button type=\"text\" @click=\"clearBlack\">{{ $t(\"cancel\") }}</Button>\r\n              <Button type=\"primary\" :loading=\"checkCodeLoading\" @click=\"submitBlackList\" >{{ $t(\"save\") }}</Button>\r\n          </div> \r\n      </Modal>\r\n      <!--添加黑名单-结束--->\r\n\r\n    <Modal :title=\"modalDetailTitle\"  v-model=\"modalDetailVisible\" :mask-closable=\"false\"  :width=\"800\" >\r\n      <Row>\r\n        <Table\r\n          :loading=\"loading\"\r\n          :columns=\"columnsDetail\"\r\n          :data=\"dataDetail\"\r\n          sortable=\"title\"\r\n          ref=\"tableDetail\"\r\n        ></Table>\r\n      </Row>\r\n      <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n        <Page\r\n          :current=\"pageNumberDetail\"\r\n          :total=\"totalDetail\"\r\n          :page-size=\"pageSizeDetail\"\r\n          @on-change=\"changeDetailPage\"\r\n          @on-page-size-change=\"changeDetailPageSize\"\r\n          :page-size-opts=\"[10, 20, 50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n        ></Page>\r\n      </Row>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"clearDetail\">取消</Button>\r\n      </div>\r\n    </Modal>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getCallTaskDetailAll,\r\n  getCallTaskAllLists,       //获取任务记录\r\n  getCallTaskBatchAllLists,  //根据任务id,获取批次记录\r\n  getResultAllLists,         //根据任务id,获取营销结果\r\n  getCallTaskHistory,         //根据清单Id获取历史数据\r\n  deleteCallTaskById,\r\n  getBlackListGroups,\r\n  editBlackList,\r\n} from \"@/api/index\";\r\nimport userChoose from \"@/views/sys/out-call/user-choose\";\r\nexport default {\r\n   components: {\r\n    userChoose\r\n  },\r\n  name: \"callTaskDetail-manage\",\r\n  data() {\r\n    return {\r\n      height: 510,\r\n      showUser: false,\r\n      showType: \"0\",\r\n      openSearch: false,\r\n      openTip: true,\r\n      loading: false,\r\n      reading: false,\r\n      drop: false,\r\n      blackListItems:[],\r\n      checkCodeLoading:false,\r\n      blackListMobileVisibleTitle:\"新增黑名单\",\r\n      blackListMobileVisible:false,\r\n      blackListForm:{groupId:\"\",remark:\"\",resource:\"\"},\r\n\r\n\r\n      pageNumberDetail: 1,\r\n      pageSizeDetail: 10,\r\n      modalDetailVisible: false, // 添加或编辑显示\r\n      modalDetailTitle: \"\", // 添加或编辑标题\r\n      loadingDetail: false, // 表格加载状态\r\n      dataDetail: [], //表单数据\r\n      totalDetail: 0, // 表单数据总数\r\n      searchDetailForm: {\r\n        pageNumberDetail: 1, // 当前页数\r\n        pageSizeDetail: 10, // 页面大小\r\n        sort: \"create_time\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n      },\r\n      columnsDetail: [\r\n        {\r\n            type: \"index\",\r\n            width: 60,\r\n            align: \"center\",\r\n        },\r\n        {  title: \"任务名称\", key: \"taskName\", minWidth: 125},\r\n        {  title: \"批次名称\", key: \"batchName\", minWidth: 125},\r\n        {  title: \"批次类型\", key: \"batchType\", minWidth: 125},\r\n        {  title: \"分配坐席\", key: \"nickName\", minWidth: 125},\r\n        {  title: \"手机号码\", key: \"mobileNumber\", minWidth: 125},\r\n        {  title: \"呼叫次数\", key: \"callCount\", minWidth: 125},\r\n        {  title: \"呼叫状态\", key: \"callStatus\", minWidth: 125},\r\n        {  title: \"最近呼叫时间\", key: \"lastCallTime\", minWidth: 125},\r\n        {  title: \"回访时间\", key: \"visitedDate\", minWidth: 125},\r\n        {  title: \"营销结果\", key: \"marketingResult\", minWidth: 125},\r\n        {  title: \"呼叫结果\", key: \"callResult\", minWidth: 125},\r\n        {  title: \"备注\", key: \"remark\", minWidth: 125},\r\n        {  title: \"创建时间\", key: \"createTime\", sortable: true, sortType: \"desc\", width: 180 }\r\n      ],\r\n      dropDownContent: \"展开\",\r\n      dropDownIcon: \"ios-arrow-down\",\r\n      selectCount: 0,\r\n      selectList: [],\r\n      taskList: [],  \r\n      batchList: [], \r\n      marketingResultList: [],\r\n      searchForm: {\r\n        taskId:\"\",\r\n        taskIdtext:\"\",\r\n        batchId:\"\",\r\n        allStarts:\"\",\r\n        returnVisit:\"\",\r\n        marketingResult:\"\",\r\n        callStatus:\"\",\r\n        callResult:\"\",\r\n        seatUserIds:\"\",\r\n        mobileNumber:\"\",\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        sort: \"create_time\",\r\n        order: \"desc\"\r\n      },\r\n      selectDate: null,\r\n      columns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {  title: \"任务名称\", key: \"taskName\", minWidth: 125},\r\n        {  title: \"批次名称\", key: \"batchName\", minWidth: 125},\r\n        {  title: \"批次类型\", key: \"batchType\", minWidth: 125},\r\n        {  title: \"分配坐席\", key: \"nickName\", minWidth: 125},\r\n        {  title: \"手机号码\", key: \"mobileNumber\", minWidth: 125},\r\n        {  title: \"呼叫次数\", key: \"callCount\", minWidth: 125},\r\n        {  title: \"呼叫状态\", key: \"callStatus\", minWidth: 125},\r\n        {  title: \"最近呼叫时间\", key: \"lastCallTime\", minWidth: 125},\r\n        {  title: \"回访时间\", key: \"visitedDate\", minWidth: 125},\r\n        {  title: \"营销结果\", key: \"marketingResult\", minWidth: 125},\r\n        {  title: \"呼叫结果\", key: \"callResult\", minWidth: 125},\r\n        {  title: \"备注\", key: \"remark\", minWidth: 125},\r\n        {  title: \"创建时间\", key: \"createTime\", sortable: true, sortType: \"desc\", width: 180 }\r\n      ],\r\n      data: [],\r\n      total: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getCallTaskList();\r\n    },\r\n    getCallTaskList(){\r\n        getCallTaskAllLists({}).then((res) => {\r\n            if (res.success) {\r\n               this.taskList = res.result.list;\r\n            }\r\n        });\r\n    },\r\n    getList(){\r\n      var taskId = this.searchForm.taskId;\r\n      if( taskId!=null && taskId !=''){\r\n          let ids = \"\";\r\n          for (var i = 0; i < taskId.length; i++) {\r\n              ids += taskId[i] + \",\";\r\n          }\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.getResultAll(ids);\r\n          this.getbatchList(ids);\r\n      }else{\r\n        this.searchForm.batchId=\"\";\r\n        this.searchForm.marketingResult=\"\";\r\n        this.batchList = [];\r\n        this.marketingResultList = [];\r\n      }\r\n    },\r\n    getbatchList(ids) {\r\n        getCallTaskBatchAllLists({taskIds:ids}).then((res) => {\r\n            if (res.success) {\r\n                this.batchList=res.result.list;\r\n            }\r\n        });\r\n    },\r\n    getResultAll(ids){\r\n        getResultAllLists({taskIds:ids}).then((res) => {\r\n            if(res.success) {\r\n              this.marketingResultList = res.result.list;\r\n            }\r\n        });\r\n    },\r\n    submitBatchUser(v){\r\n      let ids = \"\";\r\n      v.forEach(function(e) {\r\n        ids += e.id + \",\";\r\n      });\r\n      ids = ids.substring(0, ids.length - 1);\r\n      this.searchForm.seatUserIds = ids;\r\n    },\r\n    changeSelect(e) {\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n      if(this.selectCount > 0){\r\n         this.openTip = true;\r\n      }else{\r\n         this.openTip = false;\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.selectList = \"\";\r\n      this.selectCount = 0;\r\n      this.searchForm.pagember = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getCallTaskDetailList();\r\n    },\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.selectDate = null;\r\n      this.searchForm.startDate = \"\";\r\n      this.searchForm.endDate = \"\";\r\n      this.$refs.dep.clearSelect();\r\n    },\r\n    selectDateRange(v) {\r\n      if (v) {\r\n        this.searchForm.startDate = v[0];\r\n        this.searchForm.endDate = v[1];\r\n      }\r\n    },\r\n    dropDown() {\r\n      if (this.drop) {\r\n        this.dropDownContent = \"展开\";\r\n        this.dropDownIcon = \"ios-arrow-down\";\r\n      } else {\r\n        this.dropDownContent = \"收起\";\r\n        this.dropDownIcon = \"ios-arrow-up\";\r\n      }\r\n      this.drop = !this.drop;\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getCallTaskDetailList();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getCallTaskDetailList();\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    showSelect(e) {\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n    },\r\n    changeSort(e) {\r\n      this.searchForm.sort = e.key;\r\n      this.searchForm.order = e.order;\r\n      if (e.order == \"normal\") {\r\n        this.searchForm.order = \"\";\r\n      }\r\n      this.getCallTaskDetailList();\r\n    },\r\n    getCallTaskDetailList() {\r\n        var taskId=this.searchForm.taskId; \r\n        if(taskId !=null && taskId !=''){\r\n            this.loading = true;\r\n            var formdata={};\r\n            for(var i in this.searchForm){\r\n              if(this.searchForm[i] != null && this.searchForm[i] !=\"\"){\r\n                if(i=='taskId' || i=='batchId' || i=='seatUserIds' || i=='callResult' || i=='callStatus' || i=='marketingResult'){\r\n                    formdata[i]=  this.searchForm[i].toString();\r\n                }else{\r\n                    formdata[i] = this.searchForm[i];\r\n                }   \r\n              }\r\n            }\r\n            getCallTaskDetailAll(formdata).then(res => {\r\n              this.loading = false;\r\n              if (res.success) {\r\n                this.data = res.result.list;\r\n                this.total = res.result.total;\r\n              }\r\n            });\r\n        }else{\r\n            this.$Message.warning(\"任务名称必须选择!\");\r\n            return;\r\n        }\r\n    },\r\n    getDetailDataList(){\r\n      this.modalDetailVisible = true;\r\n      this.modalDetailTitle=\"营销记录\";\r\n      this.loadingDetail = true;\r\n      this.selectDetailCount = 0;\r\n      this.searchDetailForm.detailId = this.selectList[0].id;\r\n      this.searchDetailForm.pageNumber = this.searchDetailForm.pageNumberDetail;\r\n      this.searchDetailForm.pageSize = this.searchDetailForm.pageSizeDetail;\r\n\r\n      getCallTaskHistory(this.searchDetailForm).then((res) => {\r\n        this.loadingDetail = false;\r\n        if (res.success) {\r\n          this.dataDetail = res.result.list;\r\n          this.totalDetail = res.result.total;\r\n        }\r\n      });\r\n      \r\n    },\r\n    clearDetail() {\r\n      this.modalDetailVisible = false;\r\n      this.dataDetail = \"\";\r\n      this.totalDetail = \"\";\r\n      this.$refs.searchDetailForm.resetFields();\r\n    },\r\n    changeDetailPage(v) {\r\n      this.searchDetailForm.pageNumber = v;\r\n      this.getDetailDataList();\r\n    },\r\n    changeDetailPageSize(v) {\r\n      this.searchDetailForm.pageSize = v;\r\n      this.getDetailDataList();\r\n    },\r\n    delAll() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要删除的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除所选的 \" + this.selectCount + \" 条数据?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          deleteCallTaskById({detailId: ids}).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.clearSelectAll();\r\n              this.getCallTaskDetailList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    getInsertBlack() {  \r\n      this.blackListMobileVisible = true;\r\n      this.blackListForm.resource = this.selectList[0].mobileNumber;\r\n      this.blackListItems =[];\r\n      getBlackListGroups({}).then((res) => {\r\n        if (res.success) {\r\n          this.blackListItems = res.result;\r\n        }\r\n      });\r\n    },\r\n    //提交新增黑名单\r\n    submitBlackList(){\r\n        if(!this.blackListForm.groupId){\r\n            this.$Message.warning(\"请选择黑名单组!\");\r\n            return;\r\n        }\r\n        var formData = {};\r\n        for(var i in this.blackListForm){\r\n            if(this.blackListForm[i]!=\"\"){\r\n                formData[i]=this.blackListForm[i];\r\n            }\r\n        }\r\n        formData.delFlag=0;\r\n        formData.type=0;\r\n        formData.name=formData.resource;\r\n        editBlackList(formData).then((res) => {\r\n            if (res.success) {\r\n              this.$Message.success(this.$t(\"success\"));\r\n              this.blackListMobileVisible=false;\r\n              this.clearSelectAll();\r\n              this.getCallTaskDetailList();\r\n            }\r\n        });\r\n    },\r\n    clearBlack() {\r\n      this.blackListMobileVisible = false;\r\n      this.$refs.blackListForm.resetFields();\r\n    },\r\n  },\r\n  mounted() {\r\n    // 计算高度\r\n    this.height = Number(document.documentElement.clientHeight - 230);\r\n    this.init();\r\n  }\r\n};\r\n</script>"]}]}